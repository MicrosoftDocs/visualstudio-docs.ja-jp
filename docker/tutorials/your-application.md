---
title: 'Docker チュートリアル-パート 1: todo リストサンプルアプリをビルドして実行する'
description: Node.js で実行される todo リストサンプルアプリの概要。
ms.date: 08/04/2020
author: nebuk89
ms.author: ghogen
manager: jillfra
ms.technology: vs-azure
ms.topic: conceptual
ms.workload:
- azure
ms.openlocfilehash: b8470c8d7708bc51916a6f57f5aa135c3267e355
ms.sourcegitcommit: c4212f40df1a16baca1247cac2580ae699f97e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/31/2020
ms.locfileid: "89176743"
---
# <a name="build-and-run-the-todo-sample-app"></a>Todo サンプルアプリをビルドして実行する

このチュートリアルの残りの部分では、Node.js で実行されている単純な todo リストマネージャーを使用します。 Node.js に慣れていない場合は、心配しないでください。 実際の JavaScript エクスペリエンスは必要ありません。

この時点で、開発チームは非常に小さく、MVP (実行可能な最小の製品) を証明するアプリを構築するだけです。 それがどのように動作するか、また、大規模なチームや複数の開発者にとってどのように動作するかを考えなくても、どのように機能するかを示す必要があります。

![Todo リストマネージャーのスクリーンショット](media/todo-list-sample.png)

## <a name="get-the-app"></a>アプリの入手

アプリケーションを実行する前に、アプリケーションのソースコードをコンピューターに取得する必要があります。 実際のプロジェクトでは、通常、リポジトリを複製します。 ただし、このチュートリアルでは、アプリケーションを含む ZIP ファイルを作成しました。

1. [ZIP をダウンロード](/assets/app.zip)します。 ZIP ファイルを開き、内容を抽出したことを確認します。

1. 抽出したら、任意のコードエディターを使用してプロジェクトを開きます。 エディターが必要な場合は、 [Visual Studio Code](https://code.visualstudio.com/)を使用できます。 `package.json`との2つのサブディレクトリ ( `src` と) が表示さ `spec` れます。

    ![アプリが読み込まれた状態で開いた Visual Studio Code のスクリーンショット](media/ide-screenshot.png)

## <a name="building-the-apps-container-image"></a>アプリのコンテナーイメージをビルドする

アプリケーションをビルドするには、を使用する必要があり `Dockerfile` ます。 Dockerfile は、コンテナーイメージの作成に使用される命令のテキストベースのスクリプトです。 以前に Dockerfiles を作成した場合、次の Dockerfiles に欠陥がいくつか表示されることがあります。 しかし、心配は無用です。 これらについて説明します。

1. `Dockerfile`次の内容で、ファイルと同じフォルダーにという名前のファイルを作成し `package.json` ます。

    ```dockerfile
    FROM node:12-alpine
    WORKDIR /app
    COPY . .
    RUN yarn install --production
    CMD ["node", "/app/src/index.js"]
    ```

    の `Dockerfile` ようなファイル拡張子がファイルにないことを確認してください `.txt` 。 エディターによっては、このファイル拡張子が自動的に追加される場合があります。この場合、次の手順でエラーが発生します。

1. まだ開いていない場合は、ターミナルを開き、を使用してディレクトリにアクセスし `app` `Dockerfile` ます。 次に、コマンドを使用してコンテナーイメージをビルドし `docker build` ます。

    ```bash
    docker build -t getting-started .
    ```

    このコマンドでは、Dockerfile を使用して新しいコンテナーイメージを作成しています。 多数の "レイヤー" がダウンロードされていることに気付いたかもしれません。 これは、イメージから開始するようにビルダーに指示したためです `node:12-alpine` 。 ただし、コンピューター上にはないため、そのイメージをダウンロードする必要がありました。

    イメージがダウンロードされたら、アプリケーションにコピーし、 `yarn` アプリケーションの依存関係をインストールするために使用します。 ディレクティブは、 `CMD` このイメージからコンテナーを起動するときに実行する既定のコマンドを指定します。

    最後に、この `-t` フラグによってイメージがタグ付けされます。 これは、最終的なイメージの人間が判読できる名前であると考えてください。 イメージに名前を付けたため `getting-started` 、コンテナーを実行するときにそのイメージを参照できます。

    `.`コマンドの末尾にあるは、 `docker build` Docker が現在のディレクトリでを検索する必要があることを示し `Dockerfile` ます。

## <a name="starting-an-app-container"></a>アプリコンテナーを開始しています

イメージを作成したので、アプリケーションを実行します。 これを行うには、コマンドを使用し `docker run` ます (前の手順を実行してください)。

1. コマンドを使用してコンテナーを起動 `docker run` し、先ほど作成したイメージの名前を指定します。

    ```bash
    docker run -dp 3000:3000 getting-started
    ```

    フラグとフラグに注意してください `-d` `-p` 。 新しいコンテナーを "デタッチ" モード (バックグラウンド) で実行し、ホストのポート3000とコンテナーのポート3000の間のマッピングを作成しています。 ポートマッピングがないと、アプリケーションにアクセスできなくなります。

1. 数秒後に、web ブラウザーを開き [http://localhost:3000](http://localhost:3000) ます。
    アプリが表示されます。

    ![空の Todo リスト](media/todo-list-empty.png)

1. 1つまたは2つの項目を追加して、予想どおりに動作することを確認します。 項目を完了としてマークし、項目を削除することができます。 フロントエンドは、バックエンドに項目を正常に格納しました。 非常に簡単ですね。

この時点で、todo リストマネージャーを実行すると、いくつかの項目が作成されています。 次に、いくつかの変更を加え、コンテナーの管理について学習します。

VS Code 拡張機能を簡単に確認すると、現在実行中の2つのコンテナー (このチュートリアルと、新しく起動したアプリコンテナー) が表示されます。

![チュートリアルとアプリコンテナーを実行する Docker 拡張機能](media/vs-two-containers.png)

## <a name="recap"></a>まとめ

この短いセクションでは、コンテナーイメージを構築し、それを行うための Dockerfile を作成するための基本的な基本を学習しました。 イメージを作成すると、コンテナーが起動し、実行中のアプリが表示されます。

次に、アプリに変更を加え、実行中のアプリケーションを新しいイメージで更新する方法について説明します。 その過程で、他のいくつかの便利なコマンドについて学習します。

## <a name="next-steps"></a>次の手順

チュートリアルを続行します。

> [!div class="nextstepaction"]
> [アプリを更新しています](update-your-app.md)