---
title: "R Tools for Visual Studio のプロジェクト | Microsoft Docs"
ms.custom: 
ms.date: 4/26/2017
ms.prod: visual-studio-dev15
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-r
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 732b73cf-2014-4f98-838e-4141ef9dedac
caps.latest.revision: 1
author: kraigb
ms.author: kraigb
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
ms.translationtype: Human Translation
ms.sourcegitcommit: 7a873df77756e5a957d327049566c8e0db1f3a8a
ms.openlocfilehash: b2e331fe3a538150845ede2534b2164393d6c5e6
ms.contentlocale: ja-jp
ms.lasthandoff: 05/12/2017

---


# <a name="creating-r-projects-in-visual-studio"></a>Visual Studio で R プロジェクトを作成する

R プロジェクト (`.rxproj` ファイル) には、プロジェクトに関連付けられたすべてのソース ファイルとコンテンツ ファイルの識別、各ファイルのビルド情報の格納、ソース管理システムと統合するための情報の保持、論理コンポーネントへのアプリケーションの整理の補助などの機能があります。 インストールされているパッケージの一覧など、ワークスペース関連の情報は、別にワークスペース内に保持されます。

プロジェクトは常に Visual Studio の*ソリューション*内で管理され、ソリューションは相互に参照する可能性のある任意の数のプロジェクトを含むことができます。 詳細については、後述の「[Visual Studio で複数種類のプロジェクトを使用する](#use-multiple-project-types-in-visual-studio)」を参照してください。

## <a name="creating-a-new-r-project"></a>新規 R プロジェクトを作成する

1. Visual Studio を起動します。
1. **[ファイル]、[新規]、[プロジェクト]** の順に選択します。(Ctrl+Shift+N)
1. **[テンプレート]、[R]** で "R Project" を選択し、プロジェクトに名前と場所を指定し、**[OK]** を選択します。

    ![Visual Studio 内の R (VS2017 の RTVS) の [新しいプロジェクト] ダイアログ ボックス](~/rtvs/media/getting-started-01-new-project.png)

エディターに空の `script.R` ファイルが開き、プロジェクトが作成されます。 また、**ソリューション エクスプローラー**では、プロジェクト内に他の 2 つのファイルが表示されます。

![テンプレートから作成される R プロジェクトの内容](~/rtvs/media/projects-template-results.png)

`.Rhistory` では、[[R インタラクティブ]](interactive-repl.md) ウィンドウに入力したすべてのコマンドが記録されます。 **[R Tools]、[ウィンドウ]、[履歴]** コマンドの順に選択して専用の履歴ウィンドウを開くことができます。このウィンドウには、履歴の内容を消去できるツールバー ボタンとコンテキスト メニュー項目があります。

`rproject.rproj` ファイルには、Visual Studio では管理されていない一部の R 固有のプロジェクト設定が保持されています。

| プロパティ | 既定 | 説明 |
| --- | --- | --- |
| バージョン | 1.0 | プロジェクトの作成に使用された R Tools for Visual Studio のバージョン。 |
| RestoreWorkspace | 既定値 | プロジェクト ディレクトリの `.RData` ファイルから以前のワークスペース変数を自動的に読み込みます。 |
| SaveWorkspace | 既定値 | プロジェクトを閉じるときに、現在のワークスペース変数をプロジェクト ディレクトリの `.RData` ファイルに保存します。 |
| AlwaysSaveHistory | 既定値 | プロジェクトを閉じるときに、現在の対話型ウィンドウ履歴をプロジェクト ディレクトリの `.RHistory` ファイルに保存します。 |
| EnableCodeIndexing | はい | コード検索速度を向上するために、バックグラウンドのインデックス作成タスクを実行するかどうかを決定します。 |
| UseSpacesForTab | はい | エディターで Tab キーが押されたときに、スペースを挿入するか (Yes)、またはタブ文字を挿入するか (No) を決定します。 |
| NumSpacesForTab | 2 | UseSpacesForTab が Yes の場合に挿入するスペースの数。 |
| エンコード | UTF-8 | `.R` ファイルの既定のエンコーディング。 |
| RnwWeave | Sweave | Rnw ファイルを編集するときに使用するパッケージ。 |
| LaTeX | pdfLaTeX | RMarkdwon を PDF に変換するときに使用するライブラリ。 |

### <a name="converting-a-folder-of-files-to-an-r-project"></a>ファイルのフォルダーを R プロジェクトに変換する

プロジェクトで管理したい `.R` ファイルの既存のフォルダーがある場合は、次の手順を実行します。

1. 前のセクションに従って Visual Studio で新しいプロジェクトを作成します。
1. プロジェクト フォルダーにファイルをコピーします。
1. Visual Studio ソリューション エクスプローラーでプロジェクトを右クリックし、**[追加]、[既存の項目]** の順に選択し、追加するファイルを参照します。 **[OK]** を選択すると、プロジェクト ツリーに表示されます。
1. コードをサブフォルダーに移動して整理するには、プロジェクトを右クリックし、**[追加]、[新しいフォルダー]** の順に選択し、そのフォルダーと前述の既存の項目すべてにファイルをコピーします。

## <a name="project-properties"></a>プロジェクト プロパティ

プロジェクトのプロパティ ページを開くには、**ソリューション エクスプローラー**でプロジェクトを右クリックし、**[プロパティ]** を選択するか、**[プロジェクト] > [<プロジェクト名> のプロパティ]* メニュー項目を選択します。 ウィンドウが開き、次のプロパティが表示されます。

| タブ | プロパティ | 説明 |
| --- | --- | --- |
| 実行 | スタートアップ ファイル | **[Source startup file]\(ソース スタートアップ ファイル\)** コマンドを選択し、F5 キーを押し、**[デバッグ]、[デバッグの開始]** の順に選択するか、**[デバッグ]、[デバッグなしで開始]** の順に選択して実行するファイルの名前。 また、プロジェクトでファイルを右クリックし、**[R スタートアップ スクリプトとして設定]** を選択して設定することもできます。 |
| | Reset R Interactive on Run (実行時に R インタラクティブをリセットする) | プロジェクトの実行時に、インタラクティブ ウィンドウのワークスペースのすべての変数を消去します。 この操作を実行することで、前回の実行結果のワークスペース内容が確実に消去されます。 |
| | Remote Project Path (リモート プロジェクト パス) | リモート ワークスペースのパス。 |
| | Transfer files on run (実行時にファイルを転送する) | **[Files to transfer]\(転送するファイル\)** のフィルターに従って、実行ごとにプロジェクト ファイルをリモート ワークスペースにコピーするかどうかを指定します。 |
| | Files to transfer (転送するファイル) | **[Transfer files on run]\(実行時にファイルを転送する\)** がオンの場合に、コピーする特定のファイルを示すファイル名とワイルドカード。 |
| 設定 | (Settings.R ファイル) | プロジェクト内にある `Settings.R` または `*.Settings.R` ファイルに由来する R プロジェクト設定。 設定ファイルがない場合は、変数を追加してページを保存すると、既定の `Settings.R` ファイルが作成されます。 また、**[ファイル]、[新しい項目の追加]* メニュー コマンドの順に選択して、設定ファイルをプロジェクトに追加することもできます。 <br/> 設定は R コードとして保存され、そのファイルをソースにして他のモジュールを実行できるので、事前に定義した設定で環境を事前に設定することができます。 |

## <a name="r-specific-project-commands"></a>R 固有のプロジェクト コマンド

Visual Studio プロジェクトでは、右クリック メニューと **[プロジェクト]** メニューのどちらからでも、複数の一般的なコマンドを使用できます。 これらの一般的な機能については、「[Visual Studio のソリューションおよびプロジェクト](../ide/solutions-and-projects-in-visual-studio.md)」を参照してください。 ただし、 

R Tools for Visual Studio の右クリック メニューには、R プロジェクト、およびプロジェクト内のファイルとフォルダー用の独自のコマンドが多数追加されています。

| コマンド | 説明 |
| --- | --- |
| [作業ディレクトリをここに設定] | [R インタラクティブ] ウィンドウの作業ディレクトリをプロジェクト フォルダーに設定します。 このコマンドは、プロジェクト内の任意のサブフォルダーに使用することもできます。 |
| [含んでいるフォルダーを開く] | Windows エクスプローラーで選択したファイルの場所を開きます。 | 
| [R スクリプトを追加] | 既定の名前で新しい `.R` ファイルを作成して開きます。 また、**[追加]、[新しい項目]** コマンドの順に選択して `.R` ファイルや他のファイルの種類を作成することもできます。 後述する「[R 固有の項目テンプレート](#r-specific-item-templates)」を参照してください。 |
| [R Markdown を追加] | 既定の名前で新しい `.rmd` ドキュメントを作成して開きます。 また、**[追加]、[新しい項目]** コマンドの順に選択して `.rmd` ファイルや他のファイルの種類を作成することもできます。 後述する「[R 固有の項目テンプレート](#r-specific-item-templates)」を参照してください。  | 
| [ストアド プロシージャの公開] | プロセスを開始して、R スクリプトにストアド プロシージャが含まれている場合はそれを公開します。 「[SQL Server ストアド プロシージャの使用](sql-server.md#working-with-sql-server-stored-procedures)」を参照してください。 | 

## <a name="r-specific-item-templates"></a>R 固有の項目テンプレート

R Tools for Visual Studio には、各ファイルの種類用に複数のテンプレートが含まれています。 このテンプレートにアクセスするには、R プロジェクトを右クリックして **[追加]、[新しい項目]** の順に選択するか、**[プロジェクト]、[新しい項目の追加]** の順に選択するか、**[ファイル]、[新規]、[ファイル]** の順に選択して、**[R]** タブを選択します。 この手順を確認するには、新しいプロジェクトを作成してさまざまな種類のファイルを挿入してみることをお勧めします。

> [!Note]
> **[追加]、[新しい項目]** コマンドの順に選択すると、以下の一覧にはない一般的なファイルの種類も表示されます。**[ファイル]、[新規]、[ファイル]** の順に選択した場合は、**[全般]** タブに表示されます。

| ファイルの種類 | 説明 |
| --- | --- |
| R スクリプト | R コマンド ラインに入力できるものと同じコマンドを含むテキスト ファイル。 |
| R Markdown | [R Markdown](rmarkdown.md) ドキュメントを含むファイル。 |
| R 設定 | R アプリケーション設定を含むファイル。 | 
| R ドキュメント | 名前、エイリアス、およびタイトルの各フィールドのみを含む一般的な R ドキュメント ファイル。 |
| R ドキュメント (関数) | 関数を説明するコメントが指定された多くのフィールドを含む R ドキュメント ファイル。 |
| R ドキュメント (データセット) | データセットを説明するコメントが指定された多くのフィールドを含む R ドキュメント ファイル。 |
| SQL クエリ | 空の `.sql` ファイル。 「[SQL Server Integration](sql-server.md)」(SQL Server の統合) を参照してください。 |
| R を使用したストアド プロシージャ | 子の SQL クエリと子のストアド プロシージャ テンプレート ファイルを含む R ファイル。 「[SQL Server Integration](sql-server.md)」(SQL Server の統合) を参照してください。 |


## <a name="use-multiple-project-types-in-visual-studio"></a>Visual Studio で複数種類のプロジェクトを使用する

Visual Studio ソリューションには、1 つの論理的な場所に関連するプロジェクトを集めて管理できる便利な場所が用意されています。 この場所を利用してコードを整理し、チーム内のコラボレーションを容易にすることができます。

以下の例では、R と Azure Machine Learning を使用して構築したモデルを含む R プロジェクト、Python/scikit-learn プロジェクト、演算処理が集中するモジュールを含む C++ プロジェクト、データ管理用の SQL プロジェクト、結果を公開する Web サイト用の Python/Bottle プロジェクトがソリューションに含まれています。

![ソリューション内の複数の関連するプロジェクトが表示された Visual Studio ソリューション エクスプローラー](~/rtvs/media/projects-polyglot.png)

太字のプロジェクトはソリューションの "スタートアップ" プロジェクトです。これを変更するには、別のプロジェクトを右クリックし、**[スタートアップ プロジェクトに設定]** を選択します。

> [!Note]
> 現時点では、明示的に R から C#/C++ 言語に統合する機能はありません (Python 用にはあります。「[Python 用 C++ 拡張機能の作成](../python/cpp-and-python.md)」を参照してください)。  ただし、R 用の C# および C++ ブリッジを提供するライブラリは利用できます。

プロジェクトとソリューションの一般的な管理方法の詳細については、「[Visual Studio のソリューションおよびプロジェクト](../ide/solutions-and-projects-in-visual-studio.md)」を参照してください。

