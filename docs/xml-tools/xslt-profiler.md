---
title: XSLT のパフォーマンス
ms.date: 03/05/2019
ms.topic: conceptual
ms.assetid: 87387c9a-2e89-4801-ad51-83740cd6ea25
author: jillre
ms.author: jillfra
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 2866e9b19ea2b79bf8435d81c93443bb20ff4fec
ms.sourcegitcommit: a8e8f4bd5d508da34bbe9f2d4d9fa94da0539de0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/19/2019
ms.locfileid: "72645906"
---
# <a name="the-xslt-profiler"></a>XSLT プロファイラー

XSLT プロファイラーは、詳細な XSLT パフォーマンス レポートを作成することにより、XSLT コード内のパフォーマンス関連の問題を計測、評価、および特定できるようにします。 XSLT プロファイラーには、XSL および XSLT のスタイル シートの最適化に役立つヒントが含まれています。 最高のパフォーマンスが必要になる XSLT アプリケーションには、このツールが不可欠です。

XSLT プロファイラーは Visual Studio に含まれており、 **[XML]** メニューから使用できます。

![XSLT プロファイラー](../xml-tools/media/profile-xslt-menu.png)

> [!NOTE]
> XSLT プロファイラーは、Visual Studio の Enterprise edition でのみ使用できます。

## <a name="create-a-performance-report"></a>パフォーマンスレポートの作成

1. Visual Studio で XSLT ドキュメントを開きます。

2. メニューバーで、[ **XML**  > **プロファイル XSLT**] を選択します。

3. 入力 XML ドキュメントを指定します。 XML ドキュメントをまだ開いていない場合は、ファイルを開くように求められます。

   分析が始まり、エディター内のプログレス バーに進行状況が示されます。 XSLT 出力も表示されます。

4. パフォーマンスセッションが終了したら、パフォーマンスレポートを確認して XSLT のパフォーマンスを分析します。

## <a name="get-all-available-views"></a>使用可能なすべてのビューを取得する

1. [現在の**ビュー** ] ドロップダウンリストをクリックして、使用可能なすべてのビューを取得します。

2. **[現在のビュー]** ドロップダウンリストで **[概要ビュー]** オプションを選択します。 既定では、パフォーマンスレポートは [概要]**ビュー**に表示されます。 このビューが、XSLT ドキュメントでパフォーマンス上の問題を確認する際の開始点となります。 [**概要] ビュー**には、次のデータポイントが表示されます。

   - [一番呼び出された関数]

   - [個別作業が一番多い関数]

   - [時間が一番かかった関数]

   各データ ポイントには、既定で関数名、呼び出し回数 (絶対値)、および合計関数呼び出しに対して各関数が占める割合 (パーセント値) という 3 つの列があります。 [**概要] ビュー**の各データポイントから、関数のデータポイントを右クリックすることで、より詳細なビューに移動できます。

3. **[現在のビュー]** ドロップダウンリストで **[関数ビュー]** オプションを選択します。 **関数ビュー**には、プロファイリング中に呼び出される関数が一覧表示されます。 データを並べ替えるには、列名をクリックします。 既定で表示される列は次のとおりです。

    - **関数名**

    - **包括経過時間**

    - **排他経過時間**

    - **アプリケーション包括時間**

    - **アプリケーション排他時間**

    - **呼び出し数**

   時間の列は、すべて絶対値と割合 (パーセント) で表示されます。 "**排他**" という用語は、この関数の実行中に呼び出された他の関数によって費やされた時間を除く関数の実行に費やされた時間の合計を指します。

   "**包括**" とは、関数が実行に費やした合計時間 (呼び出されたすべての関数の実行時間、これらの呼び出し先関数が他の関数と呼ばれていたかどうかなど) を指します。

## <a name="select-callercallee-view"></a>[呼び出し元/呼び出し先] ビューの選択

**[現在のビュー]** ドロップダウンリストで **[呼び出し元/呼び出し先]** ビューを選択します。 **[呼び出し元/呼び出し先]** ビューには、次の3つの部分があります。

- **呼び出された関数**: 特定の関数を呼び出したすべての関数がビューの最上部に表示されます。

- **現在の関数**: 呼び出された特定の関数は、ビューの中央部に表示されます。

- **によって呼び出された関数**: 特定の関数によって呼び出されたすべての関数が、ビューの下部に表示されます。

`SyncToNavigator` という関数がビューの中央部に表示されている場合、`SyncToNavigator` を呼び出したすべての関数がビューの最上部に表示され、`SyncToNavigator` によって呼び出されたすべての関数がビューの最下部に表示されます。

- ビューの中央部の関数を変更するには、ビューの他の 2 つの部分に一覧表示されている関数の 1 つをダブルクリックします。 これにより、この変更を反映してビューが自動的に更新されます。

- 列名をクリックすると、データを並べ替えることもできます。

## <a name="select-call-tree-view"></a>コールツリービューの選択

- **[現在のビュー]** ドロップダウンリストで **[コールツリービュー]** を選択します。 このビューは、プログラム実行のツリー ビューです。

   **コールツリービュー**には、ツリーのルートがプロセス名として表示されます。 関数はツリーのノードです。 このビューを使用すると、特定の呼び出しのトレースをドリル ダウンし、どのトレースがパフォーマンスに最も大きな影響を与えているかを分析できます。 ビューは、デバッグ中に使用できる**呼び出し履歴ビュー**に似ています。 **関数ビュー**の列に加え、[**コールツリー] ビュー**には、**モジュール名**を表示するための列が追加されています。

- **[現在のビュー]** ドロップダウンリストで **[マーク]** を選択します。

   XSLT プロファイラーには、関連付けられているコメントを持つデータコレクションストリームにマークが表示されます。 マークは、カウンターのあるコードの場所です。 XSLT プロファイラーに XSLT パフォーマンス カウンターの収集を指示すると、これらのマークが実行されるたびにカウンターが収集されます。 データは、**マーク ID**、**マーク名**(**プログラムの開始**、**終了プログラム**)、および**タイムスタンプ**を含むテーブルに表示されます。 マークは集計されず、パフォーマンスレポートの [マーク]**ビュー**に時系列で表示されます。

## <a name="select-modules-in-the-current-view"></a>[現在のビュー] のモジュールの選択

- **[現在のビュー]** ドロップダウンリストで **[モジュール]** を選択します。

   モジュール ビューは、すべての関数をモジュール レベルで集計した単純なリストです。 モジュール名を展開してモジュールのパフォーマンス データのビューを表示したり、モジュール名を折りたたんでこれらのビューを閉じたりします。 データを並べ替えるには、列名をクリックします。 既定では、**包括経過時間**、**排他経過時間**、**アプリケーション包括時間**、**アプリケーション排他時間**、および**呼び出し回数**の絶対値とパーセンテージの両方があります。

- **[現在のビュー]** ドロップダウンリストで **[プロセス]** を選択します。

   プロセスビューには、**プロセス ID**、**プロセス名**、**開始時刻**、および**終了時刻**を含むテーブルが表示されます。 データを並べ替えるには、列名をクリックします。

## <a name="see-also"></a>関連項目

- [チュートリアル: XSLT 階層の使用](../xml-tools/walkthrough-using-xslt-hierarchy.md)