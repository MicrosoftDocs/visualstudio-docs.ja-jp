---
title: "Visual Studio での Python のオプションと設定 | Microsoft Docs"
description: "Visual Studio での Python コードおよびプロジェクトに関連するさまざまな設定のリファレンスです。"
ms.custom: 
ms.date: 01/04/2018
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-python
ms.devlang: python
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- VS.ToolsOptionsPages.Python_Tools
- VS.ToolsOptionsPages.Python_Tools.General
- VS.ToolsOptionsPages.Python_Tools.Debugging
- VS.ToolsOptionsPages.Python_Tools.Diagnostics
- VS.ToolsOptionsPages.Python_Tools.Interactive_Windows
- VS.ToolsOptionsPages.Text_Editor.Python.Advanced
author: kraigb
ms.author: kraigb
manager: ghogen
ms.workload:
- python
- data-science
ms.openlocfilehash: 31d46778cd764ee841662ed6581b6b06ee66919c
ms.sourcegitcommit: ba29e4d37db92ec784d4acf9c6e120cf0ea677e9
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/01/2018
---
# <a name="options-for-python-in-visual-studio"></a>Visual Studio での Python のオプション

Python のオプションを表示するには、**[ツール] > [オプション]** のメニュー コマンドを使用します。**[すべての設定を表示]** が選択されていることを確認してから、**[Python ツール]** に移動します。

![Python オプションのダイアログ、[全般] タブ](media/options-general.png)

追加の Python 固有のオプションも、**[テキスト エディター] > [Python] > [詳細設定]** タブにあります。

> [!Note]
> **試験的**グループには現在開発中の機能のオプションが含まれていますが、これらについてはここでは説明しません。 これらは通常、[Microsoft ブログの Python エンジニアリング](https://blogs.msdn.microsoft.com/pythonengineering/)の投稿で取り上げられます。

## <a name="general-options"></a>全般オプション

| オプション | 既定値 | 説明 |
| --- | --- | --- |
| 仮想環境の作成時に出力ウィンドウを表示する| オン | 出力ウィンドウが表示されないようにするには、オフにします。 |
| パッケージのインストールまたは削除時に出力ウィンドウを表示する | オン |  出力ウィンドウが表示されないようにするには、オフにします。 |
| 常に管理者として pip を実行する | オフ | すべての環境で、`pip install` 操作を常に昇格します。 パッケージのインストール時に、環境が `c:\Program Files` などのファイル システムの保護領域にある場合、Visual Studio で管理者特権を求めるメッセージが表示されます。 メッセージでは、その環境のみに対して `pip install` を常に昇格するように選択できます。 [「Python 環境」の「[pip] タブ」](managing-python-environments-in-visual-studio.md#pip-tab)を参照してください。 |
| 初回使用時に完了 DB を自動的に生成する | オン | [IntelliSense 入力候補](editing-python-code-in-visual-studio.md#intellisense)がライブラリで機能するには、Visual Studio がそのライブラリの入力候補データベースを生成する必要があります。 ライブラリがインストールされるとデータベースの構築がバックグラウンドで完了しますが、コードの記述の開始時には完了していない可能性があります。 このオプションが選択されていると、ライブラリのデータベースの入力候補が、これを使用するコードを記述する際に Visual Studio によって優先されます。 |
| システム全体の PYTHONPATH 変数を無視する | オン | 既定では PYTHONPATH は無視されます。これは、Visual Studio では環境とプロジェクトに検索パスを指定するためのより直接的な手段が提供されるためです。 詳細については、[「Python 環境」の「検索パス」](managing-python-environments-in-visual-studio.md#search-paths)を参照してください。 |
| リンクされたファイルの追加時に検索パスを更新する | オン | 設定時に[リンクされたファイル](managing-python-projects-in-visual-studio.md#linked-files)をプロジェクト更新ファイルの[検索パス](managing-python-environments-in-visual-studio.md#search-paths)に追加することで、IntelliSense にその入力候補データベースのリンクされたファイルのフォルダーの内容が含まれるようになります。 そのような内容を入力候補データベースから除外するには、このオプションをオフにします。 |
| インポートしたモジュールが見つからない場合に警告する | オン | インポートしたモジュールを現在使用できないが、コードの操作に影響がないことがわかっている場合は、このオプションをオフにして警告を非表示にしてください。 |
| 不整合なインデントを次の形式で報告する | 警告 | Python インタープリターは範囲の決定のために正しいインデントを非常に重視するため、既定では Visual Studio はコード エラーを示す可能性がある不整合なインデントを検出すると警告します。 *[エラー]* に設定してさらに厳密にすると、該当するケースでプログラムが終了します。 この動作を完全に無効にするには、*[Don't]\(しない\)* を選択します。 |
| アンケート/ニュースを確認する | 1 週間に 1 回 | Python 関連のアンケートやニュースの項目 (ある場合) を含む Web ページを含むウィンドウを Visual Studio が開くことができる頻度を設定します。 オプションは *[Never]*、*[1 日 1 回]*、*[1 週間に 1 回]*、および *[Once a month]\(1 か月に 1 回\)* です。 |
| 永続的に表示されないすべてのダイアログをリセットする (ボタン) | N/A | ダイアログ ボックスに応じて、**[Don't show me this again]\(今後このダイアログを表示しない\)** などのオプションがあります。 これらのオプションをオフにして、ダイアログを再表示するには、このボタンを使用してください。 |

![Python オプションのダイアログ、[全般] タブ](media/options-general.png)

## <a name="debugging-options"></a>デバッグ オプション

| オプション | 既定値 | 説明 |
| --- | --- | --- |
| エラーが存在している場合、実行する前にメッセージを表示する | オン | 設定すると、エラーを含むコードを実行する際に確認のメッセージが表示されます。 警告を無効にするには、このオプションをオフにします。 |
| プロセスが異常終了した場合に入力を待機する<br/><br/>プロセスが正常終了した場合に入力を待機する | オン (両方) | Visual Studio から起動された Python プログラムは、独自のコンソール ウィンドウで実行されます。 既定では、プログラムの終了方法に関係なく、プログラムの終了前に、ウィンドウがキーの入力を待機します。 このプロンプトを削除し、自動的にウィンドウを閉じるには、いずれかまたは両方のオプションをオフにします。 |
| デバッグ出力ウィンドウへの tee プログラム出力 | オン | 個別のコンソール ウィンドウと Visual Studio 出力ウィンドウの両方にプログラムを表示します。 個別のコンソール ウィンドウにのみ出力を表示する場合は、このオプションをオフにします。 |
| 終了コード 0 の SystemExit 例外を中断する | オフ | 設定されていると、この例外でデバッガーが停止します。 オフにすると、デバッガーは中断せずに終了します。 |
| Python 標準ライブラリのデバッグを有効にする | オフ | これにより、デバッグ中に標準ライブラリのソース コードに介入できるようになりますが、デバッガーが開始するまでの時間が長くなります。|

![Python オプションのダイアログ、[デバッグ] タブ](media/options-debugging.png)

## <a name="diagnostics-options"></a>診断オプション

| オプション | 既定値 | 説明 |
| --- | --- | --- |
| 分析ログを含める | オン | 診断をファイルに保存するとき、またはボタンを使用して診断をクリップボードにコピーするときに、インストールされている Python 環境の分析に関連する詳細なログが含まれます。 このオプションを使用すると、生成されるファイルのサイズが非常に大きくなる可能性がありますが、IntelliSense の問題を診断するために必要になる場合がよくあります。 |
| 診断をファイルに保存 (ボタン) | N/A | ファイル名の入力を要求し、テキスト ファイルにログを保存します。 |
| 診断をクリップボードにコピー (ボタン) | N/A | ログ全体をクリップボードに配置します。ログのサイズによっては、この操作に時間がかかる場合があります。 |

![Python オプションのダイアログ、[診断] タブ](media/options-diagnostics.png)

## <a name="interactive-windows-options"></a>対話型ウィンドウ オプション

| オプション | 既定値 | 説明 |
| --- | --- | --- |
| スクリプト | N/A | すべての環境の対話型ウィンドウに適用される、スタートアップ スクリプトの [全般] フォルダーを指定します。 「[スタートアップ スクリプト](managing-python-environments-in-visual-studio.md#startup-scripts)」を参照してください。 ただし、この機能は現在機能していません。 |
| 上下の矢印で履歴を参照する | オン | 矢印キーを使用して対話型ウィンドウの履歴を移動することができます。 代わりに、矢印キーを使用して対話型ウィンドウの出力内を移動するには、この設定をオフにします。 |
| 完了モード | 関数呼び出しなしで式のみを評価する | 対話型ウィンドウの式で利用可能なメンバーを決定するプロセスでは、現在未完了の式の評価が必要となる場合があります。これにより、副作用が発生したり、関数が複数回呼び出されたりする可能性があります。 既定の設定である *[関数呼び出しなしで式のみを評価する]* は関数を呼び出すと思われる式は除外されますが、その他の式は評価します。 たとえば、`a.b` は評価しますが、`a().b` は評価しません。  *[常に式を評価しない]* では修正候補のために標準の IntelliSense エンジンのみを使用するため、あらゆる副作用を防ぐことができます。 *[すべての式を評価する]* は副作用に関係なく、修正候補の取得のためにすべての式を評価します。 |
| スタティック分析の修正候補を非表示にする | オフ | 設定すると、式の評価によって取得される修正候補のみが表示されます。 完了モード *[常に式を評価しない]* と組み合わせると、対話型ウィンドウに有用な入力候補が表示されません。 |

![Python オプションのダイアログ、[対話型ウィンドウ] タブ](media/options-interactive-windows.png)

## <a name="advanced-python-editor-options"></a>高度な Python エディター オプション

### <a name="completion-results"></a>入力候補の結果

| オプション | 既定値 | 説明 |
| --- | --- | --- |
| メンバーの入力候補にメンバーの共通部分を表示する | オフ | 設定すると、すべての可能な型でサポートされている入力候補のみが表示されます。 |
| 検索文字列に基づいてリストをフィルターする | オン | 入力と同時に、入力候補のフィルターが適用されます (既定ではオンです)。 |
| すべての識別子の入力候補を自動的に表示する | オン | エディターと対話型ウィンドウの両方の入力候補を無効にするには、このオプションをオフにします。 |

### <a name="selection-in-completion-list"></a>入力候補一覧からの選択

| オプション | 既定値 | 説明 |
| --- | --- | --- |
| 次の文字の入力によって確定する | {}[]().,:;+-*/%&&#124;^~=<>#@\ | 通常、入力候補一覧から選択できる識別子の後にはこれらの文字が続きます。そのため、こうした文字を入力するだけで入力候補を確定すると便利です。 必要に応じて、特定の文字を一覧から削除したり、一覧に追加したりできます。  |
| Enter キーを押して現在の入力候補を確定する | オン | 設定すると、上記の文字と同様、Enter キーによって現在選択されている入力候補が選択され、適用されます (もちろん、文字が直接入力されるわけではないので、上の一覧に Enter は含まれていません)。 |
| 単語を完全に入力した後 Enter キーで新しい行を追加する | オフ | 既定では、入力候補のポップアップに表示される単語をすべて入力して Enter キーを押すと、その入力候補が確定します。 このオプションを設定することで、識別子の入力を終えると Enter キーによって新しい行が挿入されるため、効率よく入力候補を確定することができます。 |

### <a name="miscellaneous-options"></a>その他のオプション

| オプション | 既定値 | 説明 |
| --- | --- | --- |
| ファイルが開かれたときにアウトライン モードを実行する | オン | Python コード ファイルを開くと、エディターで Visual Studio のアウトライン機能が自動的に有効になります。 |
| Paste removed REPL prompts\(削除された REPL プロンプトを貼り付ける\) | オン | 貼り付けられたテキストから [>>>] と [...] が削除されるため、対話型ウィンドウからエディターに簡単にコードを転送できるようになります。 他のソースから貼り付けて、これらの文字を保持する必要がある場合は、このオプションをオフにしてください。 |
| 種類に基づいた色名 | オン | Python コードの構文を色分け表示することができます。 |

![Python エディター オプションのダイアログ、[詳細設定] タブ](media/options-editor-advanced.png)