---
title: "方法 : インストルメンテーションを特定の関数に制限する | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "パフォーマンス ツール、インストルメンテーションを関数に制限する"
ms.assetid: bd98d6bf-2560-4eba-b063-2facb09f87c4
caps.latest.revision: 19
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
caps.handback.revision: 19
---
# 方法 : インストルメンテーションを特定の関数に制限する
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

インストルメンテーションとデータ収集は、1 つ以上の関数に制限することができます。これを行うには、**\[パフォーマンス セッション\]** のプロパティ ページまたはターゲット バイナリのプロパティ ページの **\[詳細\]** ページでオプションを設定します。  
  
-   パフォーマンス セッションのプロパティ ページで関数を指定すると、セッションのすべてのインストルメント化されるバイナリ内のそれらの関数だけがインストルメント化されます。  
  
-   ターゲット バイナリのプロパティ ページで関数を指定すると、その特定のバイナリ内のそれらの関数だけがインストルメント化されます。  パフォーマンス セッションのその他のバイナリの関数は、通常どおりインストルメント化されます。  
  
 この方法によるデータ収集の制限は、インストルメンテーション プロファイル方法を選択した場合のみサポートされます。  
  
> [!NOTE]
>  **\[パフォーマンス セッション\]** のプロパティ ページの **\[詳細\]** ページを使用して、プロファイリング ツール [VSInstr](../profiling/vsinstr.md) のコマンド ライン インストルメンテーション ツールで使用可能なその他のオプションを設定することもできます。  
  
### インストルメンテーションをパフォーマンス セッション内の特定の関数に制限するには  
  
1.  **パフォーマンス エクスプローラー**で、セッション名を右クリックし、**\[プロパティ\]** をクリックします。  
  
     **\[プロパティ ページ\]** ダイアログ ボックスが表示されます。  
  
2.  **\[プロパティ ページ\]** ダイアログ ボックスの **\[詳細\]** をクリックします。  
  
3.  **\[追加インストルメンテーション オプション\]** ボックスで、インストルメント化する関数の名前を次の構文に従って入力します。  
  
     **\/include:** `FuncSpec` **\[;** `FuncSpec` **\]** `...`  
  
     `FuncSpec` は、名前空間と関数名です。  その形式は `Namespace`**::**`FunctionName` です。  複数の関数を区切るには、セミコロンを使用します。  1 文字以上のワイルドカードを指定するには、アスタリスク \(\*\) を使用します。  たとえば、**\/include:MyNS::\***  は、MyNS 名前空間の関数すべてを指定します。  
  
    > [!NOTE]
    >  バイナリ内の関数を一覧表示するには、プロファイリング ツール インストール ディレクトリ \(通常、[!INCLUDE[vsprvsts](../code-quality/includes/vsprvsts_md.md)] インストール ディレクトリの下の \\Team Tools\\Performance Tools ディレクトリ\) でコマンド プロンプト ウィンドウを開き、「vsinstr \/DumpFuncs」と入力します。  
  
### インストルメンテーションをバイナリ内の特定の関数に制限するには  
  
1.  **パフォーマンス エクスプローラー**で、バイナリの名前をパフォーマンス セッションの **\[ターゲット\]** ノードで探します。  
  
2.  バイナリ名を右クリックし、**\[プロパティ\]** をクリックします。  
  
     **\[プロパティ ページ\]** ダイアログ ボックスが表示されます。  
  
3.  **\[プロパティ ページ\]** ダイアログ ボックスの **\[詳細\]** をクリックします。  
  
4.  **\[追加インストルメンテーション オプション\]** ボックスで、インストルメント化する関数の名前を次の構文に従って入力します。  
  
     **\/include:** `FuncSpec` **\[;** `FuncSpec` **\]** `...`  
  
     `FuncSpec` は、名前空間と関数名です。  その形式は `Namespace`**::**`FunctionName` です。  複数の関数を区切るには、セミコロンを使用します。  1 文字以上のワイルドカードを指定するには、アスタリスク \(\*\) を使用します。  たとえば、**\/include:MyNS::\***  は、MyNS 名前空間の関数すべてを指定します。  
  
    > [!NOTE]
    >  バイナリ内の関数を一覧表示するには、プロファイリング ツール インストール ディレクトリ \(通常、[!INCLUDE[vsprvsts](../code-quality/includes/vsprvsts_md.md)] インストール ディレクトリの下の \\Team Tools\\Performance Tools ディレクトリ\) でコマンド プロンプト ウィンドウを開き、「vsinstr \/DumpFuncs」と入力します。  
  
## 参照  
 [データ収集の制御](../profiling/controlling-data-collection.md)   
 [方法 : インストルメンテーションを特定の DLL に制限する](../profiling/how-to-limit-instrumentation-to-specific-dlls.md)   
 [方法 : 追加のインストルメンテーション オプションを指定する](../Topic/How%20to:%20Specify%20Additional%20Instrumentation%20Options.md)