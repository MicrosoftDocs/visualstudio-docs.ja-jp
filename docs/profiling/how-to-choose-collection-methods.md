---
title: "方法 : 収集方法を選択する | Microsoft Docs"
ms.custom: ""
ms.date: "12/16/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "パフォーマンス ツール、収集方法の選択"
  - "プロファイル ツール、収集方法の選択"
  - "パフォーマンス収集方法"
ms.assetid: c87cfd3a-0fc7-49ae-9c05-d8480891cc63
caps.latest.revision: 34
caps.handback.revision: 34
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# 方法 : 収集方法を選択する
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

[!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] プロファイリング ツールは、サンプリング、インストルメンテーション、並行性という 3 種類のパフォーマンス データの収集方法をサポートします。  また、サンプリングまたはインストルメンテーションのメソッドを使用すると、.NET のメモリの割り当てデータ、および有効期間に関するデータを収集できます。  
  
 **要件**  
  
-   [!INCLUDE[vsUltLong](../code-quality/includes/vsultlong_md.md)], [!INCLUDE[vsPreLong](../code-quality/includes/vsprelong_md.md)], [!INCLUDE[vsPro](../code-quality/includes/vspro_md.md)]  
  
 パフォーマンス セッションの **"メソッド"** プロパティを使用して、アプリケーションに最適な収集方法を指定できます。  パフォーマンス ウィザード、パフォーマンス エクスプローラー、またはパフォーマンス セッションのプロパティ ページから、収集方法を設定できます。  コマンド ライン ツールを使用する場合の詳細については、「[コマンド ラインからのプロファイリング](../profiling/using-the-profiling-tools-from-the-command-line.md)」を参照してください。  
  
## パフォーマンス ウィザード  
  
#### パフォーマンス ウィザードを使用して収集方法を選択するには  
  
-   ウィザードの最初のページでは、次のいずれかのオプションを選択します。  
  
|オプション|説明|  
|-----------|--------|  
|**\[CPU サンプリング\]**|最初の分析、および CPU 使用率の問題の分析に有効なアプリケーションの統計情報を収集します。|  
|**インストルメンテーション**|焦点を絞った分析、および入力\/出力パフォーマンスの問題の分析に有効な、詳細なタイミング データを収集します。|  
|**\[.NET メモリ割り当て\]**|サンプリング プロファイリング方式を使用して、[!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)] メモリ割り当てデータを収集します。|  
|**同時実行**|数値リソース競合データを収集します。|  
  
## パフォーマンス エクスプローラー  
  
#### パフォーマンス エクスプローラーを使用して収集方法を選択するには  
  
1.  **パフォーマンス エクスプローラー**のツール バーで、**\[メソッド\]** ボックスの一覧の横にある矢印をクリックします。  
  
2.  目的の収集方法をクリックします。  
  
## パフォーマンス セッションのプロパティ ページ  
  
#### パフォーマンス セッションのプロパティを使用してサンプリングまたはインストルメンテーションのメソッドを選択するには  
  
1.  **パフォーマンス エクスプローラー**で、パフォーマンス セッションを選択します。  
  
     パフォーマンス セッション ファイル名には、.psess 拡張子が付いています。  
  
2.  パフォーマンス セッションを右クリックし、**\[プロパティ\]** をクリックします。  
  
3.  **\[プロパティ ページ\]** で、**\[全般\]** をクリックします。  
  
4.  目的の収集方法をクリックします。  
  
    -   サンプリング データを収集するときに使用できるその他のオプションについては、「[サンプリングを使用したパフォーマンス統計情報の収集](../profiling/collecting-performance-statistics-by-using-sampling.md)」を参照してください。  
  
    -   サンプリング データを収集するときに使用できるその他のオプションについては、「[インストルメンテーションを使用した詳細なタイミング データの収集](../profiling/collecting-detailed-timing-data-by-using-instrumentation.md)」を参照してください。  
  
#### パフォーマンス セッションのプロパティを使用して .NET メモリ データの収集を選択するには  
  
1.  **パフォーマンス エクスプローラー**で、パフォーマンス セッションを選択します。  
  
     パフォーマンス セッション ファイル名には、.psess 拡張子が付いています。  
  
2.  パフォーマンス セッションを右クリックし、**\[プロパティ\]** をクリックします。  
  
3.  **\[プロパティ ページ\]** で、**\[全般\]** をクリックします。  
  
4.  **\[サンプリング\]** または **\[インストルメンテーション\]** をクリックします。  
  
5.  **\[.NET オブジェクトの割り当て情報を収集\]** をクリックして、[!INCLUDE[dnprdnshort](../code-quality/includes/dnprdnshort_md.md)] オブジェクトの割り当てのサイズと数を収集します。  
  
6.  \(省略可能\) **\[.NET オブジェクトの有効期間情報も収集\]** をクリックして、オブジェクト メモリを再要求するガベージ コレクションのジェネレーションに関するデータを収集します。  
  
     .NET メモリ データを収集するときに使用できるその他のオプションについては、「[.NET メモリの割り当ておよび有効期間データの収集](../profiling/collecting-dotnet-memory-allocation-and-lifetime-data.md)」を参照してください。  
  
#### パフォーマンス セッションのプロパティを使用して並行性データの収集を選択するには  
  
1.  **パフォーマンス エクスプローラー**で、パフォーマンス セッションを右クリックし、**\[プロパティ\]** をクリックします。  
  
2.  **\[プロパティ ページ\]** で、**\[全般\]** をクリックします。  
  
3.  **\[並行性\]** をクリックします。  
  
## 参照  
 [パフォーマンス セッションの構成](../profiling/configuring-performance-sessions.md)   
 [サンプリング データ値について](../profiling/understanding-sampling-data-values.md)   
 [パフォーマンス セッションのプロパティ](../profiling/performance-session-properties.md)