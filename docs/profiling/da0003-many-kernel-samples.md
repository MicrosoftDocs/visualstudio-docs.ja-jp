---
title: DA0003:カーネル サンプルが多数存在します | Microsoft Docs
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.performance.rules.DA0003
- vs.performance.DA0003
- vs.performance.3
- vs.performance.rules.DAManyKernelSamples
ms.assetid: c1f46f77-eb95-42e5-b340-d86bc9de41b4
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 627db454148a9abe1d9bdc8c3a9764ed014d7f39
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/02/2019
ms.locfileid: "53911573"
---
# <a name="da0003-many-kernel-samples"></a>DA0003:カーネル サンプルが多数存在します

|||  
|-|-|  
|規則 ID|DA0003|  
|カテゴリ|プロファイリング ツールの使用|  
|プロファイル方法|サンプリング|  
|メッセージ|カーネル モードでサンプルの比率が高くなっています。 これは I/O アクティビティの量が多いか、コンテキスト切り替えの率が高いことを示す可能性があります。 インストルメンテーション モードで再度、アプリケーションをプロファイリングすることを検討してください。|  
|規則の種類|情報|  

## <a name="cause"></a>原因  
 アプリケーションに対して集められた呼び出し履歴の大部分がカーネル モードで実行されています。 別のプロファイリング方法でアプリケーションをプロファイリングすることを検討してください。  

## <a name="rule-description"></a>規則の説明  
 Windows の場合、カーネル モードまたはユーザー モードでコードを実行できます。 (カーネル モードは特権モードとも呼ばれています。)デバイス ドライバーなど、低レベルのシステム コードのみカーネル モードで実行されます。 ユーザー モードのアプリケーションは、I/O 操作の実行、スレッドまたはプロセスの同期プリミティブの待機、またはシステム コールを実行するために、カーネル モードに遷移できます。  

 サンプリングは、ほとんどの時間をユーザー モードでの作業に費やすアプリケーションのプロファイリングで最も有効です。 アプリケーションがカーネル モードで実行されたときに集められたサンプルの数は、頻繁に発生する I/O 操作を示すか、コンテキスト切り替えが発生していることを示すことがあります。 これらの操作のいずれも、サンプリング方法では調査できません。 カーネル モードで採取されたサンプルが多すぎると、サンプリング データに、統計的な意味を持つだけ十分な数のユーザー モード サンプルが含まれない場合があります。  

## <a name="how-to-fix-violations"></a>違反の修正方法  
 次のいずれかのオプションで再度、アプリケーションをプロファイリングすることを検討してください。  

-   インストルメンテーション方式を使用してプロファイリングする。  

-   サンプリング レートを増やし、ユーザー モードで集めるサンプルを増やす。