---
title: 'CA1303: ローカライズされたパラメーターとしてリテラルを渡さないでください'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- Do not pass literals as localized parameters
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
helpviewer_keywords:
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
ms.assetid: 904d284e-76d0-4b8f-a4df-0094de8d7aac
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CPP
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: e6b4fad16bc1c4b205ea09a39af8d38e08db848f
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/21/2020
ms.locfileid: "81649160"
---
# <a name="ca1303-do-not-pass-literals-as-localized-parameters"></a>CA1303: ローカライズされたパラメーターとしてリテラルを渡さないでください

|||
|-|-|
|TypeName|DoNotPassLiteralsAsLocalizedParameters|
|CheckId|CA1303|
|カテゴリ|グローバリゼーション|
|互換性に影響する変更点|なし|

## <a name="cause"></a>原因

メソッドは、.NET コンストラクターまたはメソッドにパラメーターとして文字列リテラルを渡します。

この警告は、リテラル文字列が値としてパラメーターまたはプロパティに渡され、次の 1 つ以上の場合に該当する場合に発生します。

- パラメーター<xref:System.ComponentModel.LocalizableAttribute>またはプロパティの属性が true に設定されています。

- コンソールに渡される文字列パラメーターの名前.書き込みまたはコンソール.WriteLine メソッドは"値"または"形式"のいずれかです。

既定では、このルールはコードベース全体を分析しますが、これは[構成可能](#excluded-type-names-with-derived-types)です。

バージョン 3.0.0 以降のアナライザー パッケージでは、名前付けヒューリスティックは既定では使用されませんが、これは[構成可能](#use-naming-heuristic)です。

## <a name="rule-description"></a>規則の説明

ソース コードに埋め込まれている文字列リテラルは、ローカライズが困難です。

## <a name="how-to-fix-violations"></a>違反の修正方法

この規則違反を修正するには、文字列リテラルをクラスのインスタンスを通じて取得された文字列に<xref:System.Resources.ResourceManager>置き換えます。

## <a name="when-to-suppress-warnings"></a>警告を抑制する場合

コード ライブラリがローカライズされない場合、またはコード ライブラリを使用しているエンド ユーザーまたは開発者に文字列が公開されない場合は、この規則による警告を抑制しても安全です。

ユーザーは、パラメーターまたはプロパティの名前を変更するか、これらの項目を条件付きとしてマークすることによって、ローカライズされた文字列を渡すべきではないメソッドに対するノイズを除去できます。

## <a name="configurability"></a>構成可能の有無

このルールを[FxCop アナライザ](install-fxcop-analyzers.md)ーから実行している場合 (レガシ分析ではなく)、このルールは構成可能です。

### <a name="excluded-type-names-with-derived-types"></a>派生型を持つ除外された型名

派生型を含め、どの型を分析から除外するかを構成できます。 たとえば、名前付き`MyType`の型とその派生型内のメソッドでルールを実行しないように指定するには、プロジェクトの .editorconfig ファイルに次のキーと値のペアを追加します。

```ini
dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType
```

オプション値で使用できるシンボル名の形式 ('|' で区切ります):

- 型名のみ (含まれる型または名前空間に関係なく、名前を持つすべての型を含む)
- シンボルの[ドキュメント ID 形式](https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format)の完全修飾名で、省略可能`T:`なプレフィックスを付けます。

例 :

| オプション値 | まとめ |
| --- | --- |
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType` | 'MyType' という名前のすべての型と、コンパイル中のその派生型すべてに一致します。
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType1|MyType2` | 'MyType1' または 'MyType2' という名前のすべての型と、コンパイル時にそれらの派生型をすべて照合します。
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = M:NS.MyType` | 指定された完全修飾名とその派生型と特定の型 'MyType' を照合します。
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = M:NS1.MyType1|M:NS2.MyType2` | 特定の型 'MyType1' および 'MyType2' を、それぞれの完全修飾名とすべての派生型と一致させる

このオプションは、このルール、すべてのルール、またはこのカテゴリ (グローバリゼーション) のすべてのルールに対して構成できます。 詳細については、 [FxCop アナライザーの設定](configure-fxcop-analyzers.md)を参照してください。

### <a name="use-naming-heuristic"></a>名前付けヒューリスティックを使用する

"Text"、"Message"、または "Caption" を含むパラメータまたはプロパティ名がこのルールをトリガするかどうかを設定できます。

```ini
dotnet_code_quality.CA1303.use_naming_heuristic = true
```

## <a name="example"></a>例

次の例は、2 つの引数のいずれかが範囲外にあるときに例外をスローするメソッドを示しています。 最初の引数では、例外コンストラクターにリテラル文字列が渡されます。 2 番目の引数の場合、コンストラクターには、<xref:System.Resources.ResourceManager>を介して取得した文字列が正しく渡されます。

[!code-cpp[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/CPP/ca1303-do-not-pass-literals-as-localized-parameters_1.cpp)]
[!code-vb[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/VisualBasic/ca1303-do-not-pass-literals-as-localized-parameters_1.vb)]
[!code-csharp[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/CSharp/ca1303-do-not-pass-literals-as-localized-parameters_1.cs)]

## <a name="see-also"></a>関連項目

- [デスクトップ アプリのリソース](/dotnet/framework/resources/index)
- [行動の変更に対するコミュニティの要請](https://github.com/dotnet/roslyn-analyzers/issues/2933)
