---
title: 作成または標準のコード分析チェックイン ポリシーの更新
ms.date: 11/04/2016
ms.prod: visual-studio-dev15
ms.technology: vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.policyeditor
helpviewer_keywords:
- code analysis, migrating check-in policy
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 99f0e665e00e614cfcf3f4e285e33345e31ab42b
ms.sourcegitcommit: 1ab675a872848c81a44d6b4bd3a49958fe673c56
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/10/2018
ms.locfileid: "44283237"
---
# <a name="how-to-create-or-update-standard-code-analysis-check-in-policies"></a>方法: 標準のコード分析チェックイン ポリシーを作成または更新する

コード分析チェックイン ポリシーを使用して、Azure DevOps プロジェクト内のすべてのコード プロジェクトでコード分析を実行することを要求することができます。 コード分析を必要とすると、コード ベースにチェックインされているコードの品質を向上させることができます。

> [!NOTE]
> この機能は Team Foundation Server を使用している場合にのみ使用できます。

コード分析チェックイン ポリシーは、プロジェクトの設定で設定され、各コード プロジェクトに適用します。 コード分析の実行は、コード プロジェクトのプロジェクト (.xxproj) ファイル内のコード プロジェクトに対して構成されます。 コード分析の実行は、ローカル コンピューターで実行されます。 ルールは、プロジェクトの設定をコンピューターで実行する必要がありますコード分析チェックイン ポリシーを有効にするし、最後に編集した後にチェックインされるコード プロジェクト内のファイルをコンパイルする必要がありますには、少なくとも、コード分析の実行を含む場所の変更s が加えられました。

- マネージ コードを指定してチェックイン ポリシーを設定する、*ルール セット*コード分析規則のサブセットを格納しています。

- Visual Studio 2017 バージョン 15.6 以降での C/C++ コードのチェックイン ポリシーでは、すべてのコード分析規則を実行することが必要です。 Azure DevOps プロジェクト内の個々 のコード プロジェクトの特定のルールを無効にするプリプロセッサ ディレクティブを追加することができます。 15.7 以降では、使用 **/analyze: ruleset**を実行する規則を指定します。 詳細については、次を参照してください。[ルール セットを実行するように C++ 規則の指定を使用して](using-rule-sets-to-specify-the-cpp-rules-to-run.md)します。

マネージ コードのチェックイン ポリシーを指定すると、チーム メンバーは、Azure DevOps プロジェクトのポリシー設定をコード プロジェクトのコード分析設定を同期できます。

## <a name="to-open-the-check-in-policy-editor"></a>チェックイン ポリシー エディターを開く

1. チーム エクスプ ローラーでプロジェクト名を右クリックして**プロジェクト設定**、 をクリックし、**ソース管理**します。

1. **ソース管理**ダイアログ ボックスで、**チェックイン ポリシー**タブ。

1. 次のいずれかの操作を行います。

    - クリックして**追加**新しいチェックイン ポリシーを作成します。

    - 既存をダブルクリックして**コード分析**内の項目、**ポリシーの種類**ポリシーを変更する ボックスの一覧。

## <a name="to-set-policy-options"></a>ポリシー オプションを設定するには

選択するか、次のオプションをオフにします。

|オプション|説明|
|------------|-----------------|
|**現在のソリューションの一部であるファイルのみを含むチェックインを強制します。**|コード分析は、ソリューションおよびプロジェクトの構成ファイルで指定されたファイルでのみ実行できます。 このポリシーは、ソリューションの一部であるすべてのコードを分析することが保証されます。|
|**C/C++ コード分析を強制 (/analyze)**|すべての C または C++ プロジェクトをビルドすることが必要です、/analyze コンパイラ オプションがチェックインされる前に、コード分析を実行します。|
|**マネージ コードのコード分析を適用します。**|すべてのマネージ プロジェクトはコード分析を実行しがチェックインされる前に、ビルドが必要です。|

## <a name="to-specify-a-managed-rule-set"></a>"マネージ"規則セットを指定するには

**この規則セットを実行**一覧で、次の方法のいずれかを使用します。

- Microsoft の標準規則セットを選択します。

- カスタム ルールをクリックして設定を選択 **\<... にソース管理からのルール セットの選択 >** します。 次に、ソース コントロールのブラウザーで、規則セットのバージョン コントロール パスを入力します。 バージョン コントロール パスの構文です。

   **$/** `TeamProjectName` **/** `VersionControlPath`

セットを作成し、カスタム チェックイン ポリシーの規則を実装する方法の詳細についてを参照してください[マネージ コードのカスタム実装では、チェックイン ポリシー](../code-quality/implementing-custom-code-analysis-check-in-policies-for-managed-code.md)します。

## <a name="see-also"></a>関連項目

- [作成し、コード分析チェックイン ポリシーを使用して、](../code-quality/creating-and-using-code-analysis-check-in-policies.md)