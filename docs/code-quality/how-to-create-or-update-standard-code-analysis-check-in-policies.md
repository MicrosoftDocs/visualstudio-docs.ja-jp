---
title: '方法: 標準のコード分析チェックイン ポリシーを作成または更新する'
ms.date: 11/04/2016
ms.prod: visual-studio-dev15
ms.technology: vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.policyeditor
helpviewer_keywords:
- code analysis, migrating check-in policy
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 4897ec080bf5d268db6ac229785ac0b642753bc0
ms.sourcegitcommit: 928885ace538bef5b25961358d4f166d648f196a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/27/2018
---
# <a name="how-to-create-or-update-standard-code-analysis-check-in-policies"></a>方法: 標準のコード分析チェックイン ポリシーを作成または更新する

コード分析チェックイン ポリシーを使用して、チーム プロジェクト内のすべてのコード プロジェクトでコード分析を実行することを要求することができます。 コード分析を必要とすると、コード ベースにチェックインされているコードの品質が向上することができます。

> [!NOTE]
> この機能は、Team Foundation Server を使用している場合にのみ使用できます。

コード分析チェックイン ポリシーは、チーム プロジェクトの設定で設定され、チーム プロジェクト内の各コード プロジェクトに適用します。 コード分析の実行は、コード プロジェクトのコード プロジェクトのプロジェクト (.xxproj) ファイルで構成されます。 コード分析の実行は、ローカル コンピューターで実行されます。 チーム プロジェクトの設定内のルールをコンピューターで実行する必要がありますとコード分析チェックイン ポリシーを有効にする、チェックインするのには、コード プロジェクト内のファイルは、最後の編集の後にコンパイルする必要があるされるコード分析が含まれている、少なくとも、ここで、c変更が加えられました。

- マネージ コードの場合を指定して、チェックイン ポリシーを設定する、*ルール セット*コード分析規則のサブセットを格納しています。

- Visual Studio 2017 15.6 と、以前のバージョンでの C/C++ コードのチェックイン ポリシーでは、すべてのコード分析規則が実行されることが必要です。 チーム プロジェクト内の個々 のコード プロジェクトの特定のルールを無効にするプリプロセッサ ディレクティブを追加できます。 15.7 以降では、使用 **/analyze: ruleset**を実行するには、どのルールを指定します。 詳細については、次を参照してください。[ルール セットを実行するように C++ 規則の指定を使用して](using-rule-sets-to-specify-the-cpp-rules-to-run.md)です。

マネージ コードのチェックイン ポリシーを指定すると後、チーム メンバーは、チーム プロジェクトのポリシー設定をコード プロジェクトに対して、コード分析設定を同期できます。

### <a name="to-open-the-check-in-policy-editor"></a>チェックイン ポリシー エディターを開く

1. チーム エクスプ ローラーで、チーム プロジェクト名を右クリックし、**チーム プロジェクトの設定**、クリックして**ソース管理**です。

1. **ソース管理**ダイアログ ボックスで、**チェックイン ポリシーによって**タブです。

1. 次のいずれかの操作を行います。

    - をクリックして**追加**新しいチェックイン ポリシーを作成します。

    - 既存のダブルクリック**コード分析**内の項目、**ポリシーの種類**ポリシーを変更する ボックスの一覧です。

### <a name="to-set-policy-options"></a>ポリシー オプションを設定するには

選択するか、次のオプションをオフにします。

    |オプション|説明|
    |------------|-----------------|
    |**チェックインを強制のみファイルを格納する現在のソリューションの一部であります。**|コード分析は、ソリューションおよびプロジェクトの構成ファイルで指定されたファイルでのみ実行できます。 このポリシーは、ソリューションの一部であるすべてのコードを分析することを保証します。|
    |**C/C++ コード分析を強制 (/analyze)**|すべての C または C++ プロジェクトを作成できる必要があります、/analyze コンパイラ オプションをそれらをチェックインする前に、コード分析を実行します。|
    |**マネージ コードのコード分析を強制します。**|すべてのマネージ プロジェクトがコード分析を実行し、それらをチェックインする前に、ビルドが必要です。|

### <a name="to-specify-a-managed-rule-set"></a>管理されている規則セットを指定するには

- **この規則セットを実行**一覧で、次の方法のいずれかを使用します。

    - Microsoft の標準規則セットを選択します。

    - カスタム規則セットを選択する をクリックして **\<... にソース管理からのルール セットの選択 >**、ソース コントロールのブラウザーで、規則セットのバージョン管理パスを入力します。 バージョン コントロール パスの構文です。

    - **$/** `TeamProjectName` **/** `VersionControlPath`

    - セットを作成して、カスタム チェックイン ポリシーのルールを実装する方法の詳細についてを参照してください[を実装するカスタム チェックイン ポリシーにマネージ コードの](../code-quality/implementing-custom-code-analysis-check-in-policies-for-managed-code.md)します。

## <a name="see-also"></a>関連項目

[コード分析を用いたチェックイン ポリシーの作成と使用](../code-quality/creating-and-using-code-analysis-check-in-policies.md)