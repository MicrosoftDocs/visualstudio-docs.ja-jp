---
title: "方法: カスタム規則セットを作成する | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.codeanalysis.addremoverulesets"
helpviewer_keywords: 
  - "Development Edition、ルール セット"
ms.assetid: bcc42508-9592-4802-9f66-a50111641d73
caps.latest.revision: 24
author: "stevehoag"
ms.author: "shoag"
manager: "wpickett"
caps.handback.revision: 24
---
# 方法: カスタム規則セットを作成する
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

[!INCLUDE[vsUltShort](../code-quality/includes/vsultshort_md.md)]、[!INCLUDE[vsPreShort](../code-quality/includes/vspreshort_md.md)]、および [!INCLUDE[vsPro](../code-quality/includes/vspro_md.md)] では、コード分析に関連するプロジェクトの特定のニーズを満たすための、カスタム*規則セット*を作成および変更できます。  カスタム規則セットを作成するには、1 つ以上の標準規則セットを規則セット エディターで開きます。  その後で、特定の規則を追加または削除したり、コード分析で規則への違反が検出されたときに発生するアクションを変更したりできます。  
  
 新規のカスタム規則セットを作成する場合は、新しいファイル名を使用して保存します。  作成したカスタム規則セットは、自動的にプロジェクトに割り当てられます。  
  
## 規則セット エディターを開く  
  
#### 規則セット エディターで空の規則セット ファイルを開くには  
  
1.  [!INCLUDE[vs_current_short](../code-quality/includes/vs_current_short_md.md)] の **\[ファイル\]** メニューの **\[新規作成\]** をポイントし、**\[ファイル\]** をクリックします。  
  
2.  **\[新しいファイル\]** ダイアログ ボックスで、**\[インストールされたテンプレート\]** の一覧の **\[全般\]** を選択し、**\[コード分析規則セット\]** を選択します。  
  
3.  規則セット エディターが表示されます。  エディターの一覧では、規則が選択されていません。  
  
#### 既存の 1 つの規則セットからカスタム規則を作成するには  
  
1.  ソリューション エクスプローラーでプロジェクトを右クリックし、**\[プロパティ\]** を選択します。  
  
2.  **\[プロパティ\]** タブで **\[コード分析\]** をクリックします。  
  
3.  **\[規則セット\]** ドロップダウン リストで、次のいずれかの操作を行います。  
  
    -   カスタマイズする規則セットを選択します。  
  
     または  
  
    -   **\[\<参照\>\]** をクリックして、一覧にない、既存の規則セットを指定します。  
  
4.  **\[開く\]** をクリックして、規則セット エディターで規則を表示します。  
  
#### 既存の複数の規則セットからカスタム規則セットを作成するには  
  
1.  ソリューション エクスプローラーでプロジェクトを右クリックし、**\[プロパティ\]** を選択します。  
  
2.  **\[プロパティ\]** タブで **\[コード分析\]** をクリックします。  
  
3.  **\[この規則セットを実行\]** から、**\[\<複数の規則セットを選択する\>\]** を選択します。  
  
4.  **\[規則セットの追加と削除\]** ダイアログ ボックスで、新しく作成する規則セットの基となる規則セットを選択し、**\[OK\]** をクリックします。  
  
5.  新しい規則セットを保存します。  
  
     **\[この規則セットを実行\]** の一覧では、新しい規則セットの名前が選択されます。  次の手順で、規則セットの表示名を変更できます。  
  
6.  \(省略可能\) 規則セットの表示名を変更するには、**\[表示\]** メニューの **\[プロパティ ウィンドウ\]** をクリックします。  **\[名前\]** ボックスに表示名を入力します。  
  
7.  新しい規則セットに含まれている特定のコード分析規則の追加、削除、または変更を行うには、**\[開く\]** をクリックします。  
  
## 規則セットを変更する  
  
#### 規則セット エディターで規則セットを変更するには  
  
-   規則セットの表示名を変更するには、**\[表示\]** メニューの **\[プロパティ ウィンドウ\]** をクリックします。  **\[名前\]** ボックスに表示名を入力します。  表示名には、ファイル名と異なる名前を指定できます。  
  
-   グループ内のすべての規則をカスタム規則セットに追加するには、グループのチェック ボックスをオンにします。  グループ内のすべての規則を削除するには、チェック ボックスをオフにします。  
  
-   特定の規則をカスタム規則セットに追加するには、その規則のチェック ボックスをオンにします。  規則セットから規則を削除するには、チェック ボックスをオフにします。  
  
-   コード分析で規則への違反が見つかった場合のアクションを変更するには、対象となる規則の**アクション** フィールドをクリックし、次のいずれかの値を選択します。  
  
     **Warn** \- 警告を発生させます。  
  
     **Error** \- エラーを発生させます。  
  
     **None** \- 規則を無効化します。  このアクションは、規則セットから規則を削除するのと同じです。  
  
## 規則セット エディターの表示を変更する  
  
#### 規則セット エディターのツール バーを使用して、規則セット エディターに表示されるフィールドのグループ化、フィルター処理、または変更を行うには  
  
-   すべてのグループの規則を展開するには、**\[すべて展開\]** をクリックします。  
  
-   すべてのグループの規則を折りたたむには、**\[すべて折りたたみ\]** をクリックします。  
  
-   規則のグループ化の基準となるフィールドを変更するには、**\[グループ化\]** ボックスの一覧からフィールドを選択します。  規則のグループ化を解除して表示する場合は **\[\<なし\>\]** を選択します。  
  
-   規則列のフィールドを追加または削除するには、**\[列のオプション\]** をクリックします。  
  
-   現在のソリューションに適用しない規則を隠すには、**\[現在のソリューションに適用されない規則を非表示にする\]** を選択します。  
  
-   エラー動作が割り当てられている規則の表示と非表示を切り替えるには、**\[コード分析エラーを生成する可能性のある規則を表示\]** をクリックします。  
  
-   警告動作が割り当てられている規則の表示と非表示を切り替えるには、**\[コード分析警告を生成する可能性のある規則を表示\]** をクリックします。  
  
-   動作として **"なし"** が割り当てられている規則の表示と非表示を切り替えるには、**\[有効化されていない規則を表示\]** をクリックします。  
  
-   現在の規則セットに Microsoft の既定の規則セットを追加または削除するには、**\[子規則セットの追加または削除\]** をクリックします。  
  
## 参照  
 [方法: マネージ コード プロジェクトのコード分析を構成する](../code-quality/how-to-configure-code-analysis-for-a-managed-code-project.md)   
 [コード分析規則セットの参照](../code-quality/code-analysis-rule-set-reference.md)