---
title: 構成オプションの概要 |Microsoft Docs
description: Visual Studio でのプロジェクト構成のオプションについて説明します。 構成は、プロパティとファイルの場所の名前付きセットで記述されたビルドの種類です。
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- project configurations
- configuration options, about configuration options
ms.assetid: f4ad4dd3-b39e-42df-ad89-d403cdf24a2b
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: ad30e3f7b91e8a76715f66d9f6701597f3830bd6
ms.sourcegitcommit: f2916d8fd296b92cc402597d1d1eecda4f6cccbf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/25/2021
ms.locfileid: "105057131"
---
# <a name="configuration-options-overview"></a>構成オプションの概要
のプロジェクトでは、 [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] ビルド、デバッグ、実行、および配置が可能な複数の構成をサポートできます。 構成は、プロパティの名前付きセット (通常はコンパイラスイッチとファイルの場所) で記述されたビルドの種類です。 既定では、新しいソリューションには、 *デバッグ* と *リリース* の2つの構成が含まれています。 これらの構成は、既定の設定を使用して適用することも、特定のソリューションやプロジェクトの要件に合わせて変更することもできます。 一部のパッケージは、ActiveX エディターとして、またはインプレースコンポーネントとして、2つの方法で構築できます。 ただし、プロジェクトでは複数の構成をサポートする必要はありません。 使用できる構成が1つだけの場合、その構成はすべてのソリューション構成にマップされます。

 構成は、通常、構成名 ( *デバッグ* や *リリース* など) とプラットフォームの設定の2つの部分で構成されます。 構成のプラットフォーム名は、API セットやオペレーティングシステムプラットフォームなど、構成がターゲットとする環境を識別します。 のユーザー [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] は、プラットフォームを作成することはできません。プロジェクト VSPackage が許可する選択項目から選択する必要があります。 ユーザーが VSPackage をインストールすると、パッケージの開発中に作成された配信プラットフォームは、パッケージ作成者によって設定された任意の条件に基づいて必要なプラットフォーム名を使用できます。 ユーザーは、プロパティページがインスタンス化されるときに、VSPackage で使用可能になっているプラットフォームの一覧から選択できます。

 プラットフォームの概念は、すべてのプロジェクトでサポートされているわけではないため、プラットフォーム名は省略可能です。 構成にプラットフォーム名がない場合は、文字列 **N/a** が UI に表示されます。

 各ソリューションには独自の一連の構成があり、そのうちの1つのみを同時にアクティブにすることができます。 ソリューション構成は、各プロジェクトの構成のセットです。 "以下" の stipulation は、ソリューション構成からプロジェクトを除外するオプションに起因します。 ユーザーは独自のカスタムソリューション構成を作成できます。

 次の表は、プロジェクトの一般的な構成設定を示しています。 行には、構成名と、プラットフォーム名を含む列があります。

|構成名|プラットフォーム: Win32|プラットフォーム: Win64|
|------------------------|----------------------|----------------------|
|*デバッグ*|\<Debug Win32 settings>|\<Debug Win64 settings>|
|*リリース*|\<Release Win32 settings>|\<Release Win64 settings>|
|*Myconfig.xml」*|該当なし|\<MyConfig Win64 settings>|

> [!NOTE]
> ターゲットとするプロジェクトが Win32 をサポートしていない場合は、Win32 プラットフォームを除外する *myconfig.xml」* ソリューション構成を作成することはできません。

 ソリューションのアクティブな構成を変更すると、そのソリューションでビルド、実行、デバッグ、または配置されたプロジェクト構成のセットが選択されます。 たとえば、アクティブなソリューション構成を [ *リリース* ] から [ *デバッグ*] に変更すると、そのソリューション内のすべてのプロジェクトは、ソリューションのデバッグ構成で指定されたプロジェクトの構成を使用して自動的にビルドされます。 プロジェクトの構成は、ユーザーが環境の Configuration Manager に手動で変更を加えていない限り、 *Debug* とも呼ばれます。

 各プロジェクトに格納されるソリューション構成プロパティには、プロジェクト名、プロジェクト構成名、ビルドまたは配置するかどうかを示すフラグ、およびプラットフォーム名が含まれます。 詳細については、「 [ソリューションの構成](../../extensibility/internals/solution-configuration.md)」を参照してください。

 ユーザーは、階層内のソリューション (ソリューションエクスプローラー) を選択してプロパティページを開くことによって、ソリューション構成パラメーターを表示および設定できます。 同様に、ソリューションエクスプローラーでプロジェクトを選択し、そのプロジェクトのプロパティページを開くことで、プロジェクト構成パラメーターを表示および設定できます。

 ユーザーは、リリース構成設定を使用して1つのプロジェクトをビルドし、必要に応じてその他すべてのデバッグ構成設定を使用することもできます。 詳細については、「 [ビルドのためのプロジェクト構成](../../extensibility/internals/project-configuration-for-building.md)」を参照してください。

 次の図は、ソリューションとプロジェクトの構成をサポートするインターフェイスを実装する方法を示しています。

 ![構成インターフェイスグラフィック](../../extensibility/internals/media/vsconfiginterfaces.gif "vsConfigInterfaces") 構成インターフェイス

 前の図に関連するいくつかの注意事項:

- `IDispatch` は、構成オブジェクトでオプションとしてマークされています。 具体的には、参照オブジェクトに構成インターフェイスを含めることはできません。

- `IVsDebuggableProjectCfg` は、構成オブジェクトではオプションとしてマークされていますが、デバッグのサポートには必須です。

- `IVsProjectCfg2` は、構成オブジェクトではオプションとしてマークされていますが、出力グループ化のサポートには必要です。

- 構成プロバイダーオブジェクトは、オプションのオブジェクトとしてマークされますが、オプションは実装する場所です。 オブジェクトは、プロジェクトオブジェクトまたは別のオブジェクトに実装できます。

- `IVsCfgProvider2` プラットフォームのサポートと構成の編集にはが必要です。 `IVsCfgProvider` この機能を実装しない場合は、で十分です。

- 図に示されているこれらのオブジェクトのいくつかは、個別のオブジェクトとして、特定の設計要件に基づいて実用的に同じクラスにまとめることができます。 ただし、このセクションの他のトピックでは、これらのオブジェクトに関連付けられているオブジェクトとインターフェイスについて、図に示されているシナリオに従って説明します。

- 特定のオブジェクトは個別に実装されます。 たとえば、プロジェクトとソリューションのビルドは別々のスレッドで実行され、ビルドを管理するためのオブジェクトは、ビルドの構成を記述するオブジェクトとは別に存在します。

  前の図の構成オブジェクトインターフェイスと構成プロバイダーオブジェクトインターフェイスの詳細については、「 [プロジェクト構成オブジェクト](../../extensibility/internals/project-configuration-object.md)」を参照してください。 また、 [ビルド用のプロジェクト構成](../../extensibility/internals/project-configuration-for-building.md) には、構成ビルダーとビルド依存関係オブジェクトインターフェイスの詳細情報が記載されています。また、 [配置を管理するためのプロジェクト構成](../../extensibility/internals/project-configuration-for-managing-deployment.md) では、configuration 配置機能と配置依存関係オブジェクトにアタッチされているインターフェイスについて詳しく説明しています。 最後に、 [出力のプロジェクト構成](../../extensibility/internals/project-configuration-for-output.md) では、出力グループと出力オブジェクトインターフェイス、およびプロパティページを使用して、構成に依存するプロパティを表示および設定する方法について説明します。

## <a name="see-also"></a>こちらもご覧ください
- <xref:Microsoft.VisualStudio.Shell.Interop.IVsCfgProvider2>
- [ビルドのプロジェクト構成](../../extensibility/internals/project-configuration-for-building.md)
- [ソリューションの構成](../../extensibility/internals/solution-configuration.md)
