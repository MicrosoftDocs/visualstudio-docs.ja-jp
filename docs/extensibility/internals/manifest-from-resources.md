---
title: Manifest from Resources | Microsoft Docs
description: Manifest from Resources ツールを使用して、Visual Studio イメージサービスで使用するために .png ファイルまたは .xaml ファイルを .imagemanifest ファイルに追加する方法について説明します。
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: reference
ms.assetid: 0234109b-5dcb-4d9d-acb9-a63f8bd5699c
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: f69a46362b3076025a63625adb1ee4a478622259
ms.sourcegitcommit: bab002936a9a642e45af407d652345c113a9c467
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2021
ms.locfileid: "112903179"
---
# <a name="manifest-from-resources"></a>リソースからのマニフェスト
Manifest from Resources ツールは、イメージ リソース (.png または .xaml ファイル) の一覧を取得し、それらのイメージを Visual Studio イメージ サービスで使用できるようにする .imagemanifest ファイルを生成するコンソール アプリケーションです。 また、このツールを使用して、既存の .imagemanifest にイメージを追加することもできます。 このツールは、イメージの高 DPI およびテーマ適用のサポートを Visual Studio 拡張機能に追加する場合に役立ちます。 生成された .imagemanifest ファイルは、Visual Studio 拡張機能 (.vsix) の一部に含められ、一部としてデプロイされる必要があります。

## <a name="how-to-use-the-tool"></a>ツールの使用方法
 **構文**

 ManifestFromResources /resources:\<Dir1>;\<Img1> /assembly:\<AssemblyName> \<Optional Args>

 **引数**

|**スイッチ名**|**ノート**|**必須/省略可能**|
|-|-|-|
|/resources|セミコロンで区切られた、画像またはディレクトリの一覧。 この一覧には、マニフェストに存在する画像の完全な一覧を常に含める必要があります。 部分的な一覧だけが与えられた場合、含まれないエントリは失われます。<br /><br /> 指定されたリソース ファイルが画像ストリップである場合、それぞれの部分画像をマニフェストに追加する前に、個別の画像に分割されます。<br /><br /> 画像が .png ファイルである場合は、画像の適切な属性をツールで入力できるように、\<Name>.\<Width>.\<Height>.png のように名前の書式を設定することをお勧めします。|必須|
|/assembly|マネージド アセンブリの名前 (拡張子を含まない)、またはリソースをホストするネイティブ アセンブリのランタイム パス (マニフェストのランタイムの場所を基準とする)。|必須|
|/manifest|生成された .imagemanifest ファイルに付ける名前。 これには、別の場所でファイルを作成するための絶対または相対パスも含めることができます。 既定の名前がアセンブリ名に一致します。<br /><br /> 既定値: \<Current Directory>\\<Assembly\>.imagemanifest|オプション|
|/guidName|生成されたマニフェスト内のすべての画像の GUID シンボルに付ける名前。<br /><br /> 既定値: AssetsGuid|オプション|
|/rootPath|管理対象リソース URI の作成前に削除する必要のあるルート パス。 (このフラグは、ツールが相対的な URI パスを間違えたためにリソースの読み込みが失敗する場合に役立てるためのものです)。<br /><br /> 既定値: \<Current Directory>|オプション|
|/recursive|このフラグを設定すると、/resources 引数内のディレクトリを再帰的に検索するようにツールに指示します。 このフラグを省略すると、ディレクトリの最上位レベルだけが検索されます。|オプション|
|/isNative|アセンブリ引数がネイティブ アセンブリのパスであるときにこのフラグを設定します。 アセンブリ引数がマネージド アセンブリの名前であるときにこのフラグを省略します。 (このフラグの追加情報については、「メモ」セクションを参照してください)。|オプション|
|/newGuids|このフラグを設定すると、既存のマニフェストからの値をマージするのではなく、画像の GUID シンボルの新しい値を作成するようにツールに指示します。|オプション|
|/newIds|このフラグを設定すると、既存のマニフェストからの値をマージするのではなく、すべての画像に対して新しい ID シンボル値を作成するようにツールに指示します。|オプション|
|/noLogo|このフラグを設定すると、製品および著作権情報は出力されなくなります。|オプション|
|/?|ヘルプ情報を出力します。|オプション|
|/help|ヘルプ情報を出力します。|オプション|

 **例**

- ManifestFromResources /resources:D:\Images                       /assembly:My.Assembly.Name                       /isNative

- ManifestFromResources /resources:D:\Images\Image1.png;D:\Images\Image1.xaml                       /assembly:My.Assembly.Name                       /manifest:MyImageManifest.imagemanifest

- ManifestFromResources /resources:D:\Images\Image1.png;D:\Images\Image1.xaml                       /assembly:My.Assembly.Name                       /guidName:MyImages                       /newGuids                       /newIds

## <a name="notes"></a>Notes

- このツールでは、.png ファイルと .xaml ファイルのみがサポートされます。 他の画像またはファイルの種類は無視されます。 リソースの解析中に見つかったサポート対象外のすべての種類に対して警告が生成されます。 ツールによるリソースの解析が終了したときに、サポート対象の画像が見つからない場合は、エラーが生成されます

- ツールでは、.png 画像に対して提示される形式に従って、画像の実際のサイズとは異なっている場合でも、.png のサイズ/寸法値を形式で指定されたサイズに設定します。

- .png 画像では幅/高さの形式を無視できますが、ツールでは、画像の実際の幅/高さを読み込んで、画像のサイズ/寸法値としてそれらを使用します。

- 同じ .imagemanifest に対し複数回同じ画像ストリップ上でこのツールを実行すると、ツールでは画像ストリップをスタンドアロン画像に分割し、既存のマニフェストに追加しようとするので、重複したマニフェスト エントリが生成されます。

- マージ (/newGuids または /newIds を省略) は、ツールで生成されたマニフェストに対してのみ行ってください。 他の方法でカスタマイズまたは生成されたマニフェストは、正しくマージされない可能性があります。

- ネイティブ アセンブリ用に生成されるマニフェストは、ID シンボルをネイティブ アセンブリの .rc ファイルのリソース ID と一致させるように、生成後に手動で編集することが必要になる場合があります。

## <a name="sample-output"></a>出力例
 **単純な画像マニフェスト**

 画像マニフェストは次の .xml ファイルのようになります。

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15197 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/Images" />
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />
    <ID Name="MyImage" Value="0" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage)">
      <Source Uri="$(Resources)/Xaml/MyImage.xaml" />
      <Source Uri="$(Resources)/Png/MyImage.16.16.png">
        <Size Value="16" />
      </Source>
    </Image>
  </Images>
  <ImageLists />
</ImageManifest>
```

 **画像ストリップの画像マニフェスト**

 画像ストリップの画像マニフェストは次の .xml ファイルのようになります。

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15197 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/ImageStrip" />
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />
    <ID Name="MyImageStrip_0" Value="1" />
    <ID Name="MyImageStrip_1" Value="2" />
    <ID Name="MyImageStrip" Value="3" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)">
      <Source Uri="$(Resources)/MyImageStrip_0.png">
        <Size Value="16" />
      </Source>
    </Image>
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)">
      <Source Uri="$(Resources)/MyImageStrip_1.png">
        <Size Value="16" />
      </Source>
    </Image>
  </Images>
  <ImageLists>
    <ImageList Guid="$(AssetsGuid)" ID="$(MyImageStrip)">
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)" />
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)" />
    </ImageList>
  </ImageLists>
</ImageManifest>
```

 **ネイティブ アセンブリ画像リソースの画像マニフェスト**

 ネイティブ画像の画像マニフェストは次の .xml ファイルのようになります。

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15198 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="..\Assembly\Folder\My.Assembly.Name" />
    <Guid Name="AssetsGuid" Value="{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}" />
    <ID Name="MyImage1" Value="0" />
    <ID Name="MyImage2" Value="1" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage1)">
      <Source Uri="$(Resources)">
        <Size Value="16" />
        <NativeResource ID="$(MyImage1)" Type="PNG" />
      </Source>
    </Image>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage2)">
      <Source Uri="$(Resources)">
        <Size Value="16" />
        <NativeResource ID="$(MyImage2)" Type="PNG" />
      </Source>
    </Image>
  </Images>
  <ImageLists />
</ImageManifest>
```
