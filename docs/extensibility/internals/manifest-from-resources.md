---
title: リソースからのマニフェスト |マイクロソフトドキュメント
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 0234109b-5dcb-4d9d-acb9-a63f8bd5699c
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: cb853963cc5ca6fbe6080249daa8fcf9c08bf943
ms.sourcegitcommit: 16a4a5da4a4fd795b46a0869ca2152f2d36e6db2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/06/2020
ms.locfileid: "80707278"
---
# <a name="manifest-from-resources"></a>リソースからのマニフェスト
リソースからのマニフェスト ツールは、イメージ リソース (.png または .xaml ファイル) の一覧を取得し、これらのイメージを Visual Studio イメージ サービスで使用できるようにする .imagemanifest ファイルを生成するコンソール アプリケーションです。 さらに、このツールを使用して、既存の .imagemanifest にイメージを追加できます。 このツールは、イメージの高 DPI およびテーマのサポートを Visual Studio 拡張機能に追加する場合に便利です。 生成された .imagemanifest ファイルは、Visual Studio 拡張機能 (.vsix) の一部として含まれ、配置する必要があります。

## <a name="how-to-use-the-tool"></a>ツールの使用方法
 **構文**

 リソース /リソースからマニフェスト\<: dir1>;\<Img1> /\<アセンブリ:\<アセンブリ名>オプションの引数>

 **引数**

||||
|-|-|-|
|**スイッチ名**|**メモ**|**必須またはオプション**|
|/リソース|セミコロンで区切られたイメージまたはディレクトリのリスト。 このリストには、マニフェストに含まれるイメージの完全な一覧を常に含める必要があります。 一部のリストのみを指定した場合、含まれていないエントリは失われます。<br /><br /> 指定されたリソース ファイルがイメージ ストリップの場合、ツールは、マニフェストに各サブイメージを追加する前に、別々のイメージに分割されます。<br /><br /> イメージが .png ファイルの場合は、ツールがイメージの適切な属性を入力できるように、\<次のような名前を>することをお勧めします。\<幅>。\<高さ>.png。|必須|
|/アセンブリ|マネージ アセンブリの名前 (拡張機能を含まない)、またはリソースをホストするネイティブ アセンブリのランタイム パス (マニフェストのランタイムの場所を基準に)。|必須|
|/マニフェスト|生成された .imagemanifest ファイルに付ける名前。 また、別の場所にファイルを作成するための絶対パスまたは相対パスを含めることもできます。 既定の名前はアセンブリ名と一致します。<br /><br /> 既定:\<現在の\\ディレクトリ><アセンブリ\>.imagemanifest|Optional|
|/guid名|生成されたマニフェスト内のすべてのイメージの GUID シンボルに付ける名前。<br /><br /> 既定値: 資産 Guid|Optional|
|/ルートパス|マネージ リソース URI を作成する前に、削除する必要があるルート パス。 (このフラグは、ツールが相対 URI パスを誤って取得し、リソースの読み込みに失敗する場合に役立ちます。<br /><br /> デフォルト:\<現在のディレクトリ>|Optional|
|/再帰的|このフラグを設定すると、ツールは /resources 引数のディレクトリを再帰的に検索します。 このフラグを省略すると、最上位のディレクトリのみの検索が行われます。|Optional|
|/is ネイティブ|アセンブリ引数がネイティブ アセンブリのパスである場合に、このフラグを設定します。 アセンブリ引数がマネージ アセンブリの名前である場合は、このフラグを省略します。 (このフラグの詳細については、「注」を参照してください。|Optional|
|/新しいGuids|このフラグを設定すると、既存のマニフェストからイメージをマージするのではなく、イメージの GUID シンボルに新しい値を作成するようにツールに指示します。|Optional|
|/新しいIds|このフラグを設定すると、既存のマニフェストの値をマージするのではなく、すべてのイメージに新しい ID シンボル値を作成するようにツールに指示します。|Optional|
|/noLogo|このフラグを設定すると、製品および著作権情報の印刷が停止します。|Optional|
|/?|ヘルプ情報を印刷します。|Optional|
|/help|ヘルプ情報を印刷します。|Optional|

 **使用例**

- リソースからリソースから /リソース: D:\イメージ /アセンブリ: My.アセンブリ.名前 /isNative

- リソースからリソースから:D:\イメージ\イメージ1.png;D:\イメージ\イメージ1.xaml /アセンブリ:マイアセンブリ.名前/マニフェスト:MyImageManifest.イメージマニフェスト

- リソースからリソースから:D:\イメージ\イメージ1.png;D:\イメージ\イメージ1.xaml/アセンブリ:マイアセンブリ.名前/guidName:マイイメージ/newGuid/newIds

## <a name="notes"></a>Notes

- このツールは 、.png ファイルと .xaml ファイルのみをサポートします。 その他の画像またはファイルの種類は無視されます。 リソースの解析中に検出された、サポートされていないすべての型に対して警告が生成されます。 ツールがリソースの解析を終了したときにサポートされているイメージが見つからない場合は、エラーが生成されます。

- .png イメージの推奨形式に従うことで、.png のサイズ/寸法値が、イメージの実際のサイズと異なる場合でも、形式指定のサイズに設定されます。

- 幅/高さ形式は.png画像では省略できますが、ツールはイメージの実際の幅/高さを読み取り、画像のサイズ/寸法値に使用します。

- 同じ .imagemanifest に対して同じイメージ ストリップでこのツールを複数回実行すると、イメージ ストリップがスタンドアロン イメージに分割され、既存のマニフェストに追加されるため、マニフェスト エントリが重複します。

- マージ (/newGuids または /newIds を省略) は、ツールで生成されたマニフェストに対してのみ行う必要があります。 他の方法でカスタマイズまたは生成されたマニフェストが正しくマージされない場合があります。

- ネイティブ アセンブリ用に生成されるマニフェストは、生成後に手で編集して、ID シンボルをネイティブ アセンブリの .rc ファイルのリソース ID と一致させる必要があります。

## <a name="sample-output"></a>サンプル出力
 **シンプルなイメージ マニフェスト**

 イメージ マニフェストは、次の .xml ファイルのようになります。

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15197 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/Images" />
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />
    <ID Name="MyImage" Value="0" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage)">
      <Source Uri="$(Resources)/Xaml/MyImage.xaml" />
      <Source Uri="$(Resources)/Png/MyImage.16.16.png">
        <Size Value="16" />
      </Source>
    </Image>
  </Images>
  <ImageLists />
</ImageManifest>
```

 **イメージ ストリップのイメージ マニフェスト**

 イメージ ストリップのイメージ マニフェストは、次の .xml ファイルのようになります。

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15197 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/ImageStrip" />
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />
    <ID Name="MyImageStrip_0" Value="1" />
    <ID Name="MyImageStrip_1" Value="2" />
    <ID Name="MyImageStrip" Value="3" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)">
      <Source Uri="$(Resources)/MyImageStrip_0.png">
        <Size Value="16" />
      </Source>
    </Image>
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)">
      <Source Uri="$(Resources)/MyImageStrip_1.png">
        <Size Value="16" />
      </Source>
    </Image>
  </Images>
  <ImageLists>
    <ImageList Guid="$(AssetsGuid)" ID="$(MyImageStrip)">
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)" />
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)" />
    </ImageList>
  </ImageLists>
</ImageManifest>
```

 **ネイティブ アセンブリ イメージ リソースのイメージ マニフェスト**

 ネイティブ イメージのイメージ マニフェストは、次の .xml ファイルのようになります。

```xml
<?xml version="1.0" encoding="utf-8"?>
<!-- This file was generated by the ManifestFromResources tool.-->
<!-- Version: 14.0.15198 -->
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">
  <Symbols>
    <String Name="Resources" Value="..\Assembly\Folder\My.Assembly.Name" />
    <Guid Name="AssetsGuid" Value="{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}" />
    <ID Name="MyImage1" Value="0" />
    <ID Name="MyImage2" Value="1" />
  </Symbols>
  <Images>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage1)">
      <Source Uri="$(Resources)">
        <Size Value="16" />
        <NativeResource ID="$(MyImage1)" Type="PNG" />
      </Source>
    </Image>
    <Image Guid="$(AssetsGuid)" ID="$(MyImage2)">
      <Source Uri="$(Resources)">
        <Size Value="16" />
        <NativeResource ID="$(MyImage2)" Type="PNG" />
      </Source>
    </Image>
  </Images>
  <ImageLists />
</ImageManifest>
```
