---
title: 'テスト領域 5: ソース管理の変更 | Microsoft Docs'
description: このソース管理プラグインのテスト領域では、[ソース管理の変更] コマンドを使用したソース管理の変更に対応します。
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- source control [Visual Studio SDK], changing
- source control plug-ins, changing source control
ms.assetid: fdf09e00-108c-4d51-bbd5-72452d52a490
author: leslierichardson95
ms.author: lerich
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 44647781b8f7605a59fba5d9249b6a7165c0e27e
ms.sourcegitcommit: f2916d8fd296b92cc402597d1d1eecda4f6cccbf
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/25/2021
ms.locfileid: "105073405"
---
# <a name="test-area-5-change-source-control"></a>テスト領域 5: ソース管理の変更
このソース管理プラグインのテスト領域では、 **[ソース管理の変更]** コマンド経由でのソース管理の変更に対応します。

 **[ソース管理の変更]** コマンドでは、ユーザーに 4 つの基本機能が用意されています。

- **バインド:**

   ユーザーがソリューション/プロジェクトとバージョンストア間のソース管理リンクを確立または再確立できるようにします。

- **バインドの解除:**

   接続単位でソース管理からプロジェクト/ソリューションを削除します。

- **接続/切断:**

  管理対象ソリューションの接続状態またはオフライン状態を切り替えます。これについては領域 3 で対応します。 詳細については、「[テスト領域 3: チェックアウトとチェックアウトの取り消し](../../extensibility/internals/test-area-3-check-out-undo-checkout.md)」を参照してください。

## <a name="command-menu-access"></a>コマンド メニューへのアクセス
 このテスト ケースでは、次の [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] 統合開発環境メニュー パスが使用されます。

 ソース管理の変更: **[ファイル]** 、 **[ソース管理]** 、 **[ソース管理の変更]** 。

## <a name="test-cases"></a>テスト ケース
 以下に、 **[ソース管理の変更]** コマンドのテスト領域用の特定のテスト ケースを示します。

### <a name="case-5a-bind"></a>ケース 5a: Bind
 バインドを使用すると、ユーザーは選択したプロジェクトとソリューションにソースコード管理情報を追加できます。 通常、ユーザーは、これらが追加されるソース管理内のプロジェクトを識別するように求められます。 ユーザーは、この操作の一部としてソース管理内に新しいプロジェクトを作成することはできません ([ソース管理に追加] とは異なります)。

| アクション | テスト ステップ | 確認が必要な期待される結果 |
| - | - | - |
| 空の場所にバインドする | 1. プロジェクトを作成します。<br />2. ソース管理にソリューションを追加します。<br />3. **[ソース管理の変更]** ダイアログ ボックスを開きます ( **[ファイル]** 、 **[ソース管理]** 、 **[ソース管理の変更]** )。<br />4. **[バインドの解除]** をクリックします。<br />5. 警告のダイアログ ボックスが表示される場合は受け入れます。<br />6. すべての項目を選択します。<br />7. **[バインド]** をクリックします。<br />8. ソース管理ストア内の空の場所を参照します。<br />9. **[OK]** をクリックして **[ソース管理の変更]** ダイアログ ボックスを閉じます。<br />10. 確認のダイアログ ボックスで **[現存のバインドで続行する]** をクリックします。<br />11. 警告のダイアログボックスが表示された場合は **[OK]** をクリックします。<br />12. すべてをチェックインします。 この手順が成功した場合は、次の手順に進みます。<br />13. ソース管理から新しい場所へソリューションを開きます。 | `Result from Step 12:`<br /><br /> ソリューションとプロジェクトは、バージョン ストア内の新しいターゲットにバインドされて書き込まれます。<br /><br /> ソリューション ファイルとプロジェクト ファイルがチェックインされます。<br /><br /> バージョン ストアのプロジェクト階層は、ディスク上のプロジェクトのフォルダー階層と一致します。<br /><br /> `Result from Step 13:`<br /><br /> すべてのプロジェクト項目がダウンロードされます。 |
| クライアントと同期している場所にバインドする | 1. プロジェクトを作成します。<br />2. ソース管理にソリューションを追加します。<br />3. ソリューションとプロジェクトの複製をバージョン ストア内に作成します ([!INCLUDE[vsvss](../../extensibility/includes/vsvss_md.md)] を使用している場合は共有と分岐)。<br />4. **[ソース管理の変更]** ダイアログ ボックスを開きます ( **[ファイル]** 、 **[ソース管理]** 、 **[ソース管理の変更]** )。<br />5. バインドをすべて解除します。<br />6. **[OK]** をクリックして **[ソース管理の変更]** ダイアログ ボックスを閉じます。<br />7. **[ソース管理の変更]** ダイアログ ボックスを再度開きます。<br />8. すべて選択します。<br />9. **[バインド]** をクリックします。<br />10. (手順 3 の) ソリューションとプロジェクトの分岐場所を参照します。<br />11. **[OK]** をクリックして **[ソース管理の変更]** ダイアログ ボックスを閉じます。<br />12. すべての項目の最新を再帰的に取得します。 | get 後のファイル コンテンツは、get 前と同じです。 |
| クライアントと同期していない場所にバインドする | 1. プロジェクトを作成します。<br />2. ソース管理にソリューションを追加します。<br />3. ソリューションとプロジェクトの複製をバージョン ストア内に作成します ([!INCLUDE[vsvss](../../extensibility/includes/vsvss_md.md)] を使用している場合は共有と分岐)。<br />4. バージョン ストア内の分岐プロジェクトのファイルを変更します。<br />5. **[ソース管理の変更]** ダイアログ ボックスを開きます ( **[ファイル]** 、 **[ソース管理]** 、 **[ソース管理の変更]** )。<br />6. バインドをすべて解除します。<br />7. **[OK]** をクリックして **[ソース管理の変更]** ダイアログ ボックスを閉じます。<br />8. **[ソース管理の変更]** ダイアログ ボックスを再度開きます。<br />9. すべて選択します。<br />10. **[バインド]** をクリックします。<br />11. ソリューションとプロジェクトの分岐場所を参照します。<br />12. **[OK]** をクリックして **[ソース管理の変更]** ダイアログ ボックスを閉じます。<br />13. 警告のダイアログ ボックスが表示される場合は受け入れます。<br />14. すべての項目の最新を再帰的に取得します。 | 手順 4. で変更されたファイルは、ローカルでも変更されます。 |
| 一度もソース管理されていないソリューションをバインドする | 1. ソース管理内に空のフォルダーを作成します。<br />2. クライアント プロジェクトを作成します。<br />3. **[ソース管理の変更]** ダイアログ ボックスを開きます ( **[ファイル]** 、 **[ソース管理]** 、 **[ソース管理の変更]** )。<br />4. ソリューションをソース管理内の空の場所にバインドします。<br />5. **[OK]** をクリックして **[ソース管理の変更]** ダイアログ ボックスを閉じます。<br />6. 確認のダイアログ ボックスで **[現存のバインドで続行する]** をクリックします。<br />7. 警告のダイアログボックスが表示された場合は **[OK]** をクリックします。 | ソリューションがソース管理に追加されます。<br /><br /> ソリューションとプロジェクトがチェックアウトされます。 |
| バインドを取り消す | 1. プロジェクトを作成します。<br />2. ソース管理にソリューションを追加します。<br />3. [ソース管理の変更] ダイアログ ボックスを開きます。<br />4. バインドをすべて解除します。<br />5. **[OK]** ボタンをクリックしてダイアログ ボックスを閉じます。 この手順が成功した場合は、次の手順に進みます。<br />6. **[ソース管理の変更]** ダイアログ ボックスを再度開きます。<br />7. 関連付けられていない場所にバインドします。<br />8. **[キャンセル]** をクリックします。 | `Result from Step 5:`<br /><br /> ソリューションはソース管理されなくなっています<br /><br /> `Result from Step 8:`<br /><br /> ソリューションはソース管理対象外のままです |

### <a name="case-5b-unbind"></a>ケース 5b: バインドの解除
 バインドを解除すると、プロジェクトとそのソリューションからソースコード管理情報が削除されます。 影響を受けるプロジェクトとソリューションは、ユーザー選択の組み合わせと、項目がソース管理に追加された方法に基づきます。

|アクション|テスト ステップ|確認が必要な期待される結果|
|------------|----------------|--------------------------------|
|1 つのファイル システムまたはローカル IIS Web プロジェクトと 1 つのクライアント プロジェクトを含むソリューションのバインドを解除する|1. ファイル システムまたはローカル IIS Web プロジェクトを作成します。<br />2. ソース管理にソリューションを追加します。<br />3. 新しいクライアント プロジェクトをソリューションに追加します。<br />4. メッセージが表示されたら、ソリューションのチェックアウトを受け入れます。<br />5. **[ソース管理の変更]** ダイアログ ボックスを開きます。<br />6. **[バインドの解除]** をクリックします。<br />7. **[OK]** をクリックしてダイアログ ボックスを閉じます。<br />8. ソリューション、プロジェクト、ソリューション項目、プロジェクト項目のチェックアウトを試みます。|ソリューションとプロジェクトがソース管理されていません。<br /><br /> [ソース管理] メニューのコマンドは表示されません。|
|バインド解除を取り消す|1. プロジェクトを作成します。<br />2. ソース管理にソリューションを追加します。<br />3. **[ソース管理の変更]** ダイアログ ボックスを開きます。<br />4. **[すべてバインド解除]** をクリックします。<br />5. **[キャンセル]** をクリックします。|ソリューションはソース管理されています。|

### <a name="case-5c-rebind"></a>ケース 5c: 再バインド
 再バインドは単にバインドの解除とバインドの組み合わせで、以前はソース管理下にあってバインドが解除されプロジェクト/ソリューションを再バインドするプロセスです。

|アクション|テスト ステップ|確認が必要な期待される結果|
|------------|----------------|--------------------------------|
|**[ソース管理の変更]** ダイアログ ボックスを閉じずにソリューションとプロジェクトを再バインドする|1. プロジェクトを作成します。<br />2. ソース管理にソリューションを追加します。<br />3. **[ソース管理の変更]** ダイアログ ボックスを開きます。<br />4. **[バインドの解除]** をクリックします。<br />5. すべての行を選択します。<br />6. **[バインド]** をクリックします。<br />7. **[OK]** をクリックして **[ソース管理の変更]** ダイアログ ボックスを閉じます。<br />8. メッセージが表示されたら、チェックアウトを受け入れます。|ソリューションとプロジェクトはソース管理されています。|
|**[ソース管理の変更]** ダイアログ ボックスを閉じずにプロジェクトのみを再バインドする|1. プロジェクトを作成します。<br />2. [ファイル] -> [ソース管理] -> [選択されたプロジェクトをソース管理に追加] の順に使用して、プロジェクトのみをソース管理に追加します。<br />3. [ソース管理の変更] ダイアログ ボックスを開きます。<br />4. プロジェクトのみバインドを解除します。<br />5. プロジェクトのみをバインドします。|ソリューションは管理対象外のままです。<br /><br /> プロジェクトは管理対象のままです。|
|**[ソース管理の変更]** ダイアログ ボックスを閉じずにソリューションのみを再バインドする|1. プロジェクトを作成します。<br />2. **[ファイル]** -> **[ソース管理]** -> **[選択されたプロジェクトをソース管理に追加]** の順に使用して、ソリューションのみをソース管理に追加します。<br />3. **[ソース管理の変更]** ダイアログ ボックスを開きます。<br />4. ソリューションのみバインドを解除します ( **[ソース管理の変更]** ダイアログ ボックスは閉じないでください)。<br />5. ソリューションのみをバインドします。<br />6. **[OK]** をクリックしてダイアログ ボックスを閉じます。<br />7. ソリューションとソリューションの項目 (存在する場合) を確認します。|ソリューションは管理対象のままです。<br /><br /> プロジェクトは管理対象外のままです。|
|同じディレクトリ内にある場合にのみ、ソリューション/プロジェクトを再バインドする|1. プロジェクトを作成します。<br />2. **[ファイル]** 、 **[ソース管理]** 、 **[選択されたプロジェクトをソース管理に追加]** の順に使用して、プロジェクトのみをソース管理に追加します。<br />3. ソリューションを閉じます。<br />4. 少なくとも 2 つのプロジェクトを含む新しいソリューションを作成します。<br />5. ソース管理にソリューションを追加します。<br />6. 手順 1. で作成したプロジェクトをソース管理から追加します。<br />7. メッセージが表示されたら、ソリューションのチェックアウトを受け入れます。<br />8. ソリューション全体をチェックインします。<br />9. **[ソース管理の変更]** ダイアログ ボックスを開きます。<br />10. (手順 6 で) 追加したプロジェクトを選択し、 **[バインドの解除]** をクリックします。<br />11. **[OK]** をクリックしてダイアログ ボックスを閉じます。<br />12. メッセージが表示されたら、チェックアウトを受け入れます。<br />13. **[ソース管理の変更]** ダイアログ ボックスを再度開きます。<br />14. (手順 6 で) 追加したプロジェクトを選択し、 **[バインド]** をクリックします。<br />15. 元の場所を選択します。|ソリューションとプロジェクトは管理対象のままです。|

## <a name="see-also"></a>関連項目
- [ソース管理プラグイン向けのテスト ガイド](../../extensibility/internals/test-guide-for-source-control-plug-ins.md)
