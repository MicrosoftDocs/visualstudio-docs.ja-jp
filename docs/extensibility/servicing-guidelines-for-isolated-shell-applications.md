---
redirect_url: shell/servicing-guidelines-for-isolated-shell-applications
title: "分離シェル アプリケーションのためのガイドラインをサービス |Microsoft ドキュメント"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Visual Studio Shell integrated mode, serviceability
- Shell integrated mode [Visual Studio], serviceability
ms.assetid: 747d1a47-b8b3-4e8b-93c0-768724be48f2
caps.latest.revision: "15"
author: gregvanl
ms.author: gregvanl
manager: ghogen
ms.openlocfilehash: 7e15d228794fb03441d42c081f11bf75b11fdd45
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/31/2017
---
# <a name="servicing-guidelines-for-isolated-shell-applications"></a>ガイドラインのサービスの分離シェル アプリケーション
Visual Studio 分離シェル アプリケーションを配布するときに、インストールした後、アプリケーションのソフトウェア更新プログラムを提供できる必要があります。 これを行うには、Microsoft インストーラー (MSI) ファイルを使用して、アプリケーションをインストールする必要があります。 この種類のインストールにより、Web で再頒布するマイクロソフトによって提供されるソフトウェア更新プログラムをダウンロードしてカスタムの介入なし、ユーザーが使用できます。  
  
## <a name="servicing-requirements"></a>サービスの要件  
 分離シェルのインストールが、インストール プログラムは、次の 3 つの条件を満たしていることを確認することで更新プログラムを許可できますを確認することができます。  
  
### <a name="redistribute-by-using-an-msi"></a>MSI を使用して、再配布します。  
 MSI を使用して、アプリケーションを再配布する必要があります、アプリケーションがクライアント コンピューターの物理的な場所を持つ、MSI は、製品の id を保持し、いるためです。 マージ モジュール (.msm ファイル) は、このような保証を指定しないは使用できません。  
  
### <a name="accounting-for-custom-actions"></a>カスタム動作のアカウンティング  
 カスタム アクションは、インストーラー プログラムでは非標準インストール ディレクティブがあります。 カスタム アクションは、ファイルの場所、レジストリ設定、ユーザー設定、またはその他のインストール項目などのパラメーターを変更します。 カスタム アクションは、インストール時にデータを操作する場合があります。  
  
 インストール プログラムでのカスタム アクションを使用する場合は、すべてのインストール時のカスタム アクションは、ユーザーがアプリケーションをアンインストールする場合は、アクションを元に戻す場合は、対応するカスタム アクションである必要があることを確認する必要があります。 対応するため、インストール プログラムは失敗では、カスタム アクションをアンインストールする場合、アプリケーションの削除はのままに部分的にインストールされています。  
  
-   ソフトウェア更新プログラムがこれらのバージョンの変更や、ハッシュ値をファイルまたはハッシュの値の特定のバージョンに依存するカスタム アクションは失敗します。 ここでは、カスタム アクションは、これらの値を手動で更新する必要があります。 その他の問題は、バージョンのファイルまたはハッシュの値は、製品のバージョン間で共有される場合に発生します。 可能な場合は、この依存関係を回避します。  
  
### <a name="accounting-for-shared-files"></a>共有ファイルのアカウンティング  
 共有ファイルは、同じ名前を持ち、複数の製品で同じ場所にインストールされます。 これらの製品は、バージョン、Stock Keeping 単位 (SKU)、またはその両方で異なる場合があり、製品が特定のコンピューターに共存できます。 ただし、共有ファイルは、いくつかの理由のサービスの問題を作成します。  
  
-   共有ファイルを更新と、1 つのアプリケーションの更新が更新されていない 2 つ目のアプリケーションによって使用されるファイルのバージョンを変更する可能性があるためにアプリケーションの互換性の問題を引き起こすことができます。 ファイルを共有する製品のインストーラーには、共有ファイルへの参照がカウントされます。 そのため、製品をアンインストールしても、共有のファイルがインストールされているインスタンスのカウントをデクリメント以外には影響しません。  
  
-   Quick Fix Engineering (QFE) インストーラーには、QFE インストーラー サービスを提供する製品のバージョンのファイルのバージョンが元に戻します。 このプロセスは、可能性のある、更新された共有ファイルが提供するアプリケーションを中断します。