---
title: "[データ ソース] ウィンドウにカスタム コントロールを追加する | Microsoft Docs"
ms.custom: ""
ms.date: "09/21/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.datasource.howtoaddcustomcontrol"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "aspx"
helpviewer_keywords: 
  - "[データ ソース] ウィンドウ、コントロールの追加"
  - "コントロール [Visual Studio]、[データ ソース] ウィンドウへの追加"
  - "DefaultBindingPropertyAttribute クラス、使用"
  - "LookupBindingPropertiesAttribute クラス、使用"
  - "ComplexBindingPropertiesAttribute クラス、使用"
  - "[データ ソース] ウィンドウ、コントロールの選択"
ms.assetid: 8c43e7d2-ba94-4d9b-96de-3aa971955afd
caps.latest.revision: 42
caps.handback.revision: 39
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# [データ ソース] ウィンドウにカスタム コントロールを追加する
**\[データ ソース\]** ウィンドウからデザイン サーフェイスに項目をドラッグしてデータ バインド コントロールを作成するときに、作成するコントロールの種類を選択できます。  ウィンドウ内の各項目には、選択可能なコントロールを表示するドロップダウン リストがあります。  各項目に関連付けられる一連のコントロールは、項目のデータ型によって決まります。  作成するコントロールが一覧に表示されない場合は、このトピックの説明に従って一覧にコントロールを追加できます。  
  
 **\[データ ソース\]** ウィンドウ内の項目に対して作成するデータ バインド コントロールの選択方法の詳細については、「[\[データ ソース\] ウィンドウからドラッグしたときに作成されるコントロールを設定する](../Topic/Set%20the%20control%20to%20be%20created%20when%20dragging%20from%20the%20Data%20Sources%20window.md)」を参照してください。  
  
> [!NOTE]
>  実際に画面に表示されるダイアログ ボックスとメニュー コマンドは、アクティブな設定またはエディションによっては、ヘルプの説明と異なる場合があります。  設定を変更するには、**\[ツール\]** メニューの **\[設定のインポートとエクスポート\]** をクリックします。  詳細については、「[Customizing Development Settings in Visual Studio](http://msdn.microsoft.com/ja-jp/22c4debb-4e31-47a8-8f19-16f328d7dcd3)」を参照してください。  
  
##  <a name="customizinglist"></a> データ型のバインド可能なコントロールの一覧のカスタマイズ  
 **\[データ ソース\]** ウィンドウ内の特定のデータ型を持つ項目で利用できるコントロールの一覧にコントロールを追加または削除するには、次の手順を実行します。  
  
#### データ型に一覧表示するコントロールを選択するには  
  
1.  WPF デザイナーまたは Windows フォーム デザイナーが開いていることを確認します。  
  
2.  **\[データ ソース\]** ウィンドウで、ウィンドウに追加したデータ ソースの一部である項目をクリックし、その項目のドロップダウン メニューをクリックします。  
  
3.  ドロップダウン メニューで、**\[カスタマイズ\]** をクリックします。  次のいずれかのダイアログ ボックスが表示されます。  
  
    -   Windows フォーム デザイナーが開いている場合、**\[オプション\]** ダイアログ ボックスの **\[データ UI カスタマイズ\]** ページが表示されます。  
  
    -   WPF デザイナーが開いている場合、**\[コントロールのバインドのカスタマイズ\]** ダイアログ ボックスが表示されます。  
  
4.  ダイアログ ボックスで、**\[データ型\]** ドロップダウン リストからデータ型を選択します。  
  
    -   テーブルまたはオブジェクトのコントロールの一覧をカスタマイズするには、**\[リスト\]** をクリックします。  
  
    -   テーブルの列またはオブジェクトのプロパティのコントロールの一覧をカスタマイズするには、基になるデータ ストアの列またはプロパティのデータ型を選択します。  
  
    -   ユーザー定義の形状を持つデータ オブジェクトを表示するようにコントロールの一覧をカスタマイズするには、**\[その他\]** をクリックします。  たとえば、特定のオブジェクトの複数のプロパティからデータを表示するカスタム コントロールをアプリケーションで使用している場合、**\[その他\]** をクリックします。  
  
5.  **\[関連付けられたコントロール\]** ボックスで、選択したデータ型で利用できるようにするコントロールをそれぞれ選択するか、一覧から削除するコントロールの選択を解除します。  
  
    > [!NOTE]
    >  選択するコントロールが **\[関連付けられたコントロール\]** ボックスに表示されていない場合は、一覧にコントロールを追加する必要があります。  詳細については、「[データ型に関連付けられたコントロールの一覧へのコントロールの追加](#addingcontrols)」を参照してください。  
  
6.  **\[OK\]** をクリックします。  
  
7.  **\[データ ソース\]** ウィンドウで、1 つ以上のコントロールを関連付けたデータ型の項目をクリックし、その項目のドロップダウン メニューをクリックします。  
  
     **\[関連付けられたコントロール\]** ボックスで選択したコントロールが、項目のドロップダウン メニューに表示されます。  
  
##  <a name="addingcontrols"></a> データ型に関連付けられたコントロールの一覧へのコントロールの追加  
 データ型にコントロールを関連付けたいが、そのコントロールが **\[関連付けられたコントロール\]** ボックスに表示されていない場合は、一覧にコントロールを追加する必要があります。  コントロールは、現在のソリューションまたは参照アセンブリに存在し、**ツールボックス**で利用でき、コントロールのデータ バインディング動作を指定する属性を備えている必要があります。  
  
#### 関連付けられたコントロールの一覧にコントロールを追加するには  
  
1.  **ツールボックス**を右クリックし、**\[アイテムの選択\]** を選択することにより、目的のコントロールを**ツールボックス**に追加します。  
  
     コントロールは、次のいずれかの属性を備えている必要があります。  
  
    |属性|説明|  
    |--------|--------|  
    |<xref:System.ComponentModel.DefaultBindingPropertyAttribute>|単一のデータ列 \(またはプロパティ\) を表示する <xref:System.Windows.Forms.TextBox> のような簡単なコントロールに、この属性を実装します。|  
    |<xref:System.ComponentModel.ComplexBindingPropertiesAttribute>|データの一覧 \(またはテーブル\) を表示する <xref:System.Windows.Forms.DataGridView> のようなコントロールに、この属性を実装します。|  
    |<xref:System.ComponentModel.LookupBindingPropertiesAttribute>|データの一覧 \(またはテーブル\) に加えて、単一の列またはプロパティを表示する必要もある <xref:System.Windows.Forms.ComboBox> のようなコントロールに、この属性を実装します。|  
  
2.  **\[オプション\]** ダイアログ ボックスの **\[データ UI カスタマイズ\]** ページを開くか \(Windows フォームの場合\)、**\[コントロールのバインドのカスタマイズ\]** ダイアログ ボックスを開きます \(WPF の場合\)。  詳細については、「[データ型のバインド可能なコントロールの一覧のカスタマイズ](#customizinglist)」を参照してください。  
  
3.  **\[関連付けられたコントロール\]** ボックスに、**ツールボックス**に追加したコントロールが表示されます。  
  
    > [!NOTE]
    >  現在のソリューションまたは参照アセンブリに存在するコントロール \(および前の表に示したデータ バインディング属性のいずれかを実装したコントロール\) だけを、関連付けられたコントロールの一覧に追加できます。   **\[データ ソース\]** ウィンドウで利用できないカスタム コントロールにデータをバインドするには、**ツールボックス**からデザイン サーフェイスにコントロールをドラッグし、バインド先の項目を **\[データ ソース\]** ウィンドウからコントロールにドラッグします。  
  
## 参照  
 [チュートリアル: Windows フォームでのデータの表示](../data-tools/walkthrough-displaying-data-on-a-windows-form.md)   
 [Visual Studio でのデータへの Windows フォーム コントロールのバインド](../data-tools/bind-windows-forms-controls-to-data-in-visual-studio.md)   
 [型指定されたデータセットの作成と編集](../data-tools/creating-and-editing-typed-datasets.md)   
 [データ ソースの概要](../data-tools/add-new-data-sources.md)   
 [\[データ ソース\] ウィンドウからドラッグしたときに作成されるコントロールを設定する](../Topic/Set%20the%20control%20to%20be%20created%20when%20dragging%20from%20the%20Data%20Sources%20window.md)   
 [チュートリアル: 単純データ バインドをサポートする Windows フォーム ユーザー コントロールの作成](../data-tools/create-a-windows-forms-user-control-that-supports-simple-data-binding.md)   
 [チュートリアル: 複合データ バインドをサポートする Windows フォーム ユーザー コントロールの作成](../data-tools/create-a-windows-forms-user-control-that-supports-complex-data-binding.md)   
 [チュートリアル: 検索データ バインドをサポートする Windows フォーム ユーザー コントロールの作成](../data-tools/create-a-windows-forms-user-control-that-supports-lookup-data-binding.md)   
 [\[コントロールのバインドのカスタマイズ\] ダイアログ ボックス](../Topic/Customize%20Control%20Binding%20Dialog%20Box.md)