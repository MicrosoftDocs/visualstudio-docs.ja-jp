---
title: UML モデリング プロジェクトおよびダイアグラムの作成 |Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
f1_keywords:
- vs.teamarch.addnewdiagramdialog
- vs.teamarch.createnewmodelingprojectdialog
helpviewer_keywords:
- projects [Visual Studio ALM], modeling
- diagrams - modeling, modeling
- modeling diagrams
- projects, UML
- UML, deleting diagrams
- UML
- UML diagrams, adding
- UML, projects
- Visual Studio ALM, modeling projects
- modeling projects
- UML diagrams
- projects, modeling
ms.assetid: c178b04b-4fd2-4bed-97e3-d793dae8649c
caps.latest.revision: 50
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: 9b36c038194f20cecf1be59775c2261497a0fda8
ms.sourcegitcommit: 8b538eea125241e9d6d8b7297b72a66faa9a4a47
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/23/2019
ms.locfileid: "58972525"
---
# <a name="create-uml-modeling-projects-and-diagrams"></a>UML モデリング プロジェクトおよびダイアグラムを作成する
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

UML モデルは、ソフトウェア システムを理解したり設計したりする上で、また、ソフトウェア システムについて話し合う際に役立ちます。 Visual Studio には、最もよく使用される 5 つの UML 図 (アクティビティ図、クラス図、コンポーネント図、シーケンス図、およびユース ケース図) のテンプレートが用意されています。 また、システムの構造の定義に役立つレイヤー図も作成できます。  
  
 UML モデリング図とレイヤー図が存在することが可能なのは、モデリング プロジェクト内のみです。 各モデリング プロジェクトには、1 つの共有 UML モデルといくつかの UML 図が含まれています。 各図はモデルの部分ビューです。 UML モデルは、UML 図にあるすべての要素が含まれていて、UML モデル エクスプローラーを使用して表示することができます。 モデルと図の関係については、次を参照してください。[編集 UML モデルと図](../modeling/edit-uml-models-and-diagrams.md)します。 バージョン管理下のモデリング プロジェクトについては、次を参照してください[モデルおよびバージョン管理下にある図](../modeling/manage-models-and-diagrams-under-version-control.md)と[モデリング ソリューションの構築。](../modeling/structure-your-modeling-solution.md)  
  
> [!NOTE]
>  また、プログラム コードを視覚化するために使用される、.NET クラス図と呼ばれる別の種類の図もあります。 詳細については、次を参照してください。[を表示するクラスと型のデザインおよび](http://go.microsoft.com/fwlink/?LinkId=142231)します。  
  
##  <a name="CreatingModelingDiagrams"></a> モデリング プロジェクトに図を作成します。  
 この機能をサポートする Visual Studio のバージョンを確認するには、「 [アーキテクチャ ツールとモデリング ツールのバージョン サポート](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport)」を参照してください。  
  
#### <a name="to-create-a-diagram-and-add-it-to-a-project"></a>図を作成してプロジェクトに追加するには  
  
1. **アーキテクチャ**] メニューの [選択**新しい UML またはレイヤー図**します。  
  
2. **新しいダイアグラムの追加** ダイアログ ボックスで、目的のモデリング図の種類をクリックします。  
  
    ![[追加] ダイアログの新しいダイアグラム](../modeling/media/uml-adddiagram.png "UML_AddDiagram")  
  
3. 新しい図の名前を入力します。  
  
4. **モデリング プロジェクトに追加**ボックス。  
  
   - ソリューションで既に存在するモデリング プロジェクトを選択し、クリックして**OK**します。  
  
     \- または -  
  
   1.  選択**新しいモデリング プロジェクトを作成する**、順にクリックします**OK**します。  
  
   2.  **新しいモデリング プロジェクトの作成**ダイアログ ボックスで、新規のプロジェクトの場所と名前を入力し、順にクリックします**OK**します。  
  
        ![新しいモデリング プロジェクト ダイアログ ボックスを作成する](../modeling/media/uml-createmodel.png "UML_CreateModel")  
  
        ソリューションが開いている場合は、新しいプロジェクトがソリューションに追加されます。 開いているソリューションがない場合は、新しいソリューションの名前を入力できます。  
  
   モデリング プロジェクトが既に存在する場合は、次の手順を使用することもできます。  
  
#### <a name="to-add-a-diagram-to-an-existing-modeling-project"></a>既存のモデリング プロジェクトに図を追加するには  
  
1.  **ソリューション エクスプ ローラー**、クリックして、モデリング プロジェクト ノード。  
  
    > [!NOTE]
    >  モデリング プロジェクトには、という名前のモデル定義フォルダーが含まれている**ModelDefinition**します。  
  
2.  **[プロジェクト]** メニューの **[新しい項目の追加]** をクリックします。  
  
3.  **- 新しい項目の追加** *\<プロジェクト名 >* ダイアログ ボックスで、**テンプレート**、モデリングのクリックしてなどの種類の図**UMLコンポーネント図**します。  
  
4.  ダイアグラムの名前を入力し、クリックして**追加**します。  
  
     モデリング図が開き、モデリング プロジェクトに表示されます。  
  
    > [!CAUTION]
    >  他のモデリング プロジェクト、またはソリューション内の他の場所に、既存の図ファイルを追加、コピー、またはドラッグしないでください。 そのようにすると、コピーした図から要素が消えたり、図を開いた際にエラーが発生したりします。 図のファイルは、そのファイルが作成されたモデリング プロジェクトから開く必要があります。 これは、UML 図がそのモデリング プロジェクトによって所有されるモデルのビューであるためです。 図のファイルをコピーするには、新しい図を作成し、コピー元の図から新しい図に要素をコピーします。 詳細については、次を参照してください。[トラブルシューティング モデリング プロジェクトおよびダイアグラム](#TroubleshootingModelingProjects)します。  
  
#### <a name="to-create-a-blank-modeling-project"></a>空のモデリング プロジェクトを作成するには  
  
1.  **[ファイル]** メニューの **[新規作成]** をポイントし、 **[プロジェクト]** をクリックします。  
  
2.  **新しいプロジェクト**ダイアログ ボックスで、**インストールされたテンプレート**、 をクリックして**モデリング プロジェクト**します。  
  
3.  中央のウィンドウで次のようにクリックします。**モデリング プロジェクト**します。  
  
4.  プロジェクトの名前し、場所を指定、**名前**と**場所**ボックス。  
  
5.  **ソリューション**ボックスで、**ソリューションに追加**を既に開いているソリューションに新しいプロジェクトを追加するまたは**新しいソリューションを作成**を追加、開いているソリューションを閉じ、新しいソリューションにプロジェクトです。  
  
##  <a name="RemovingModelingDiagrams"></a> モデリング プロジェクトから図の削除  
 図を完全に削除することも、プロジェクトから図を一時的に除外し、後で元に戻すこともできます。  
  
#### <a name="to-permanently-delete-a-diagram-from-a-project"></a>プロジェクトから図を完全に削除するには  
  
-   **ソリューション エクスプ ローラー**ダイアグラムを表すメイン ファイルを右クリックし、クリックして**削除**します。  
  
     プロジェクトとファイル システムから図が削除されます。 ダイアグラムに示されている要素はから削除されません**UML モデル エクスプ ローラー**します。  
  
    > [!NOTE]
    >  各図は 2 つのファイルを持ちます。一方のファイルは、もう一方の付属ファイルです。 たとえば、`CD1` という名前のコンポーネント図がある場合は、`CD1.componentdiagram` という名前のファイルを削除する必要があります。 `CD1.componentdiagram.layout` という名前の付属ファイルは自動的に削除されます。  
  
#### <a name="to-temporarily-exclude-a-diagram-from-a-project"></a>プロジェクトから図を一時的に除外するには  
  
-   **ソリューション エクスプ ローラー**ダイアグラム ファイルを右クリックし、クリックして**プロジェクトから除外する**します。  
  
     図が、プロジェクトから削除されます。 ファイル システムからは削除されません。  
  
    > [!NOTE]
    >  ダイアグラムに示されている要素はから削除されません**UML モデル エクスプ ローラー**します。  
  
#### <a name="to-restore-a-temporarily-excluded-diagram-to-a-project"></a>一時的に除外した図をプロジェクトに戻すには  
  
1.  **ソリューション エクスプ ローラー**、クリックして、モデリング プロジェクト ノード。  
  
    > [!NOTE]
    >  モデリング プロジェクトには、という名前のモデル定義フォルダーが含まれている**ModelDefinition**します。  
  
2.  **[プロジェクト]** メニューの **[既存項目の追加]** をクリックします。  
  
3.  **既存項目の追加**ダイアグラム ファイルを検索、ファイルを選択、および順にクリックします ダイアログ ボックスで、**追加**します。  
  
     モデリング図が開き、モデリング プロジェクトに表示されます。  
  
    > [!NOTE]
    >  それぞれの図に対応するファイルは、ファイル システム内に 2 つ存在します。 `.layout` という拡張子のファイルは選択しないでください。 また、Visual Studio において、既存の UML 図を複数のモデリング プロジェクトに追加する機能はサポートされていません。 各図のファイルは、そのファイルが作成されたモデリング プロジェクトの中で開く必要があります。 これは、UML 図にそのモデリング プロジェクトが所有するモデルのビューが表示されるためです。  
  
##  <a name="NonModelDiagrams"></a> モデリング プロジェクトを必要としないダイアグラム  
 次の種類の図は、モデリング プロジェクトには含まれません。  
  
-   ソース コードのビューとして作成されるクラス図。 これらは、UML クラス図とは無関係です。 詳細については、次を参照してください。[を表示するクラスと型のデザインおよび](../ide/designing-and-viewing-classes-and-types.md)します。  
  
-   コード マップ。 「 [Map dependencies across your solutions](../modeling/map-dependencies-across-your-solutions.md)」を参照してください。  
  
-   UML 図でもレイヤー図でもない図 (ドメイン固有の言語など)。  
  
##  <a name="TroubleshootingModelingProjects"></a> モデリング プロジェクトおよびダイアグラムのトラブルシューティング  
 次の表で、モデリング プロジェクトまたは図で発生する可能性のある問題と、その解決方法を説明します。  
  
|**問題点**|**エラーの原因**|**解決策**|  
|---------------|----------------|--------------------|  
|モデリング プロジェクトを開くことも、ソリューションに読み込むこともできません。<br /><br /> 次のメッセージが表示されます。<br /><br /> "ソリューション内の 1 つ以上のプロジェクトが正しく読み込まれていません。 詳細については、出力ウィンドウを確認してください。"<br /><br /> [出力] ウィンドウに次のメッセージが表示されます。<br /><br /> "*ModelingProjectFilenameAndPath*.modelproj: エラー。認識されない Guid 形式です。"|モデリング プロジェクトに、同じソリューション内にある同じ名前のプロジェクトへの参照が含まれています。<br /><br /> たとえば、同じソリューション内にある同じ名前のプロジェクトにレイヤーがリンクされています。|テキスト エディターを使用してモデリング プロジェクト ファイルを開き、参照を削除して、モデリング プロジェクトを再度開きます。<br /><br /> この問題を回避するには、同じ名前のプロジェクトへの参照を追加しないようにします。 プロジェクト名が一意であることを確認します。|  
|他のモデリング プロジェクト、またはソリューション内の他の場所に図を追加、コピー、ドラッグすると、その図の要素がなくなります。<br /><br /> または<br /><br /> 図を開こうとすると、次のメッセージが表示されます。<br /><br /> -"一部のシェイプまたはコネクタを図には不足しているその定義は、このプロジェクトには存在しないためです。 図を閉じている間に定義がモデルから削除されたか、これらの定義を含まない別のプロジェクトに図がコピーされました。"<br /><br /> または<br /><br /> -「このドキュメントは別のプロジェクトで開かれています」。|モデリング プロジェクトから別のモデリング プロジェクトまたはソリューション内の別の場所に、図のファイルが追加、ドラッグ、またはコピーされました。|図のファイルをコピーするには、新しい図を作成し、コピー元の図から新しい図に要素をコピーします。|  
  
## <a name="see-also"></a>関連項目  
 [UML モデルおよびダイアグラムを編集します。](../modeling/edit-uml-models-and-diagrams.md)   
 [モデリング ソリューションの構築](../modeling/structure-your-modeling-solution.md)
