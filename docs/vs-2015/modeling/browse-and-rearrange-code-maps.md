---
title: コード マップを参照して再配置する |マイクロソフトドキュメント
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
ms.assetid: 08f65f77-6ca7-4b25-b060-3f6c9f5847a4
caps.latest.revision: 91
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 3ecdfb91beb4d844216a9c961830af336e9de15a
ms.sourcegitcommit: 95f26af1da51d4c83ae78adcb7372b32364d8a2b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/13/2020
ms.locfileid: "79301273"
---
# <a name="browse-and-rearrange-code-maps"></a>コード マップの参照および再配置
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

コード マップ上のアイテムを再配置して、読みやすさとパフォーマンスを向上させます。

 ソリューション内の基本コードに影響を与えずに、コード マップをカスタマイズすることができます。 この機能は、重要なコード要素に重点を置きたいときや、コードに関するアイデアをやりとりするときに便利です。 たとえば、興味のある領域を強調表示するために、マップ上のコード要素を選択してフィルター処理すること、コード要素とリンクのスタイルを変更すること、コード要素を非表示または削除すること、プロパティ、カテゴリ、またはグループを使用してコード要素を整理することができます。

 **要件**

- コード マップを作成するには、Visual Studio Enterprise が必要です。

- Visual Studio Professional でコード マップを表示して、制限付きでコード マップを編集することができます。

## <a name="get-started-working-with-code-maps"></a><a name="ManageLargeGraphs"></a>コード マップの使用を開始する
 コード マップを作成します (詳細については、[ソリューション間で依存関係をマップするを](../modeling/map-dependencies-across-your-solutions.md)参照してください)。 マップの生成が完了するまで待たなければ、いつでも **[キャンセル**] リンクをクリックして生成プロセスを停止します。 ただし、この操作を実行した場合、従属関係とリンクの詳細をすべて確認することはできません。

 マップを生成した後、コードの確認に関する以下のヒントを実行します。

- コード内の自然な依存関係クラスターを確認します。 マップ ツールバーで、グラフ ツールバーの [**レイアウト**] の [**クイック クラスタ**![] ボタンを](../modeling/media/quickclustersicon.gif "クイッククラスターアイコン")選択します。 [マップ レイアウトの変更を](#Selecting)参照してください。

     ![[クイック クラスター&#45;の依存関係グラフ] レイアウト](../modeling/media/dependencygraph-quickclusters.png "DependencyGraph_QuickClusters")

- 関連するノードをグループ化することで、マップをさらに小さい領域に整理します。 これらのグループを折りたたみ、グループ間の依存関係のみが示されるようにします。これは、自動的に表示されます。 [「ノードのグループ化](#OrganizeGroups)」を参照してください。

- フィルターを使ってマップを簡略化し、興味のある種類のノードやリンクだけに注目できるようにします。 [ノードとリンクのフィルターを](#FilterNodes)参照してください。

- 大きなマップのパフォーマンスを最大にします。 詳細については、「[ソリューション間で依存関係をマップする](../modeling/map-dependencies-across-your-solutions.md)」を参照してください。たとえば、マップ上の項目を更新するときに Visual Studio がソリューションを再構築できないように、マップ ツール バーの **[ビルドのスキップ**] をオンにします。

## <a name="change-the-map-layout"></a><a name="Selecting"></a>マップ レイアウトを変更する

|**宛先**|**実行する手順**|
|------------|-----------------------------|
|グラフ全体の依存関係のフローを特定の方向に配置します。 これは、コードのアーキテクチャ レイヤーを確認するのに役立ちます。|マップ ツールバーで [**レイアウト**] を選択し、次の操作を行います。<br /><br /> -   **上から下へ**![上から下のグラフ ボタン](../modeling/media/topbottomgraphbutton.gif "上端グラフボタン")<br />-   **下から上**![へ上のグラフ ボタン](../modeling/media/bottomtopgraphbutton.gif "ボトムトップグラフボタン")<br />-   **左から右から**![右へ、レイアウトボタン](../modeling/media/leftrightgraphbutton.gif "左右グラフボタン")<br />-   **右から左へ**![右から左のグラフボタン](../modeling/media/rightleftgraphbutton.gif "右左グラフボタン")|
|コード内のクラスターの自然な依存関係を確認します。最も依存度の高いノードはクラスターの中心付近にあり、最も依存度の低いノードはそれらのクラスターの外側にあります。|マップ ツールバーで [**レイアウト**] をクリックし、グラフ ツールバーの **[クイック クラスタ**]![ボタンをクリック](../modeling/media/quickclustersicon.gif "クイッククラスターアイコン")します。|
|マップ上の 1 つまたは複数のノードを選択します。|ノードをクリックして選択します。 複数のノードを選択または選択解除するには **、Ctrl キー**を押しながらクリックします。<br /><br /> キーボード: **Tab キー**を押すか、方向キーを使用して点線のフォーカス四角形をノードに移動し **、Space キー**を押して選択します。 **Ctrl Space** + **キー**を押して、ノードを複数選択または選択解除します。|
|マップ上で特定のノードを移動します。|ノードをドラッグして移動します。 ノードをドラッグしながら他のノードやリンクを移動するには **、Shift キー**を押しながらドラッグします。<br /><br /> キーボード: **Ctrl キーを押しながら**矢印キーを押します。|
|マップ上の他のノードやグループとは独立して、グループ内のレイアウトを変更します。|ノードを選択して、ショートカット メニューを開きます。 **[レイアウト] を**選択し、レイアウト スタイルを選択します。<br /><br /> - または -<br /><br /> ノードを選択して展開し、子ノードを表示します。 ノードタイトルをクリックしてグループポップアップツールバーを表示し、![グループの[ディペンデンシーグラフ&#45;グループの](../modeling/media/dependencygraph-grouptoolbar.gif "DependencyGraph_GroupToolbar")**レイアウトスタイルを変更**]ツールバー&#45;レイアウトリストを開きます。 ツリー レイアウト、**クイック クラスター**、または**リスト ビュー** (グループの内容をリストに配置) のいずれかを選択します。<br /><br /> 詳細については、[グループ ノード](#OrganizeGroups)を参照してください。|
|マップ内のアクションを元に戻します。|**Ctrl Z キー** + **を押**すか、または [元に**戻す]** コマンドを使用します。|

## <a name="browse-the-map"></a><a name="Explore"></a>地図を見る

|**宛先**|**実行する手順**|
|------------|-----------------------------|
|マップをスキャンします。|マウスを使って、マップを任意の方向にドラッグします。<br /><br /> - または -<br /><br /> **Shift キーを押しながら**マウス ホイールを回転させて水平にスクロールします。 Shift キー**を押** + **しながら**マウス ホイールを回転させて水平方向にスクロールします。|
|グラフを拡大または縮小します。|マウス ホイールを回します。<br /><br /> - または -<br /><br /> コード マップ ツールバーの [**ズーム**] ドロップダウン リストを使用します。<br /><br /> - または -<br /><br /> キーボード ショートカットを使います。 拡大するには **、Ctrl キーを押しながら Shift キーを押しながらキーを押します。** (ピリオド) を押します。 縮小するには **、Ctrl キーを押しながら Shift キーを押しながら 、 (カンマ) を**押します。|
|マウスを使って特定の領域をズームインします。|マウスの右ボタンをクリックしたまま、対象の領域を四角形で囲みます。|
|マップのサイズを変更してウィンドウに合わせます。|コード マップ ツールバーの **[ズーム**] リストから [**ズーム**] を選択します。<br /><br /> - または -<br /><br /> コード マップ ツールバーの![マップ ツールバーの](../modeling/media/almcodemapzoomicon.png "アルムコードマップズームアイコン")[**ズーム**] アイコンをクリックします。 キーボード: **Ctrl キーを押しながら 0**キーを押します。|
|マップ上のノードを名前で検索します。 **ヒント:** これは、マップ上のアイテムに対してのみ機能します。 マップ上ではなくソリューション内の項目を検索するには、**ソリューション エクスプローラー**で項目を見つけて、マップにドラッグします。 (選択した項目をドラッグするか、ソリューション エクスプローラーのツール バーの [**コード マップに表示**] をクリックします。|1. コード**Find**マップ![ツールバーの [検索アイコン] アイコン](../modeling/media/almcodemapfindicon.png "アルムコードマップ検索アイコン")([キーボード: **Ctrl+ F]** を押します) を選択して、マップの右上隅に検索ボックスを表示します。<br />2. 項目名を入力して**Return**キーを押すか、「拡大鏡」アイコンをクリックします。 検索に一致する最初の項目が、マップで選択された状態で表示されます。<br />3. 検索をカスタマイズするには、ドロップダウン リストを開いて検索オプションを選択します。 オプションは、[**次を検索]、[****前を検索**]、および **[すべて選択]** です。 次に、[検索] ボックスの横にある対応するボタンをクリックします。<br />     ![検索オプションドロップダウン リスト&#45;](../modeling/media/almcodemapssearchdropdown.png "アルムコードマップサーチドロップダウン")<br />     または、キーボードを使用して、次に一致するノードを選択するには**F3**キーを押し **、Shift キーを押しながら F3**キーを押して前の一致ノードを選択します。<br />4. 検索テキストボックスの下にあるアイコンをクリックして、検索語の処理方法を指定するオプションのいずれかを選択します。<br />     ![一致するオプションの検索](../modeling/media/almcodemapssearchmatchicons.png "アルムコードマップサーチマッチアイコン")<br />     オプションは、左から順に、大文字と小文字を区別して検索、完全に一致する単語だけを検索、.NET の正規表現の構文を使用して検索、囲まれた項目と一致する項目が表示されるようにグループを自動的に展開する、となっています。 **重要:** 折りたたまれたグループ内の一致を検索するには、それらのグループが以前に展開されている場合にのみ、検索ボックスを使用できます。 これらの一致を検索し、親グループを自動的に展開するには、検索ボックスでこのオプションを選択します。|
|選択されていないノードをすべて選択します。|選択したノードのショートカット メニューを開きます。 **[選択]** を選択し **、[選択を反転] を選択**します。|
|選択したノードにリンクしている追加のノードを選択します。|選択したノードのショートカット メニューを開きます。 [**選択] を選択**し、次のいずれかを選択します。<br /><br /> - 選択したノードに直接リンクする追加のノードを選択するには、[**受信依存関係**] を選択します。<br />- 選択したノードから直接リンクする追加のノードを選択するには、[**出力依存関係**] を選択します。<br />- 選択したノードと直接リンクするノードを選択するには、[**両方**] を選択します。<br />- 選択したノードにリンクしているノードをすべて選択するには、[**接続されたサブグラフ**] を選択します。<br />- 選択したノードのすべての子を選択するには、[**子]** を選択します。|

## <a name="filter-nodes-and-links"></a><a name="FilterNodes"></a>ノードとリンクのフィルター

|**宛先**|**実行する手順**|
|------------|-----------------------------|
|フィルター パネルを表示または非表示にします。|コード マップ ツールバーの **[フィルター]** ボタンをクリックします。 フィルター パネルは既定では、ソリューション エクスプローラー ウィンドウでタブ付きページとして表示されます。|
|マップに表示されるノードの種類をフィルター処理します。|[フィルター] ウィンドウの [**コード要素**] リストのチェック ボックスをオンまたはオフにします。|
|マップに表示されるリンクの種類をフィルター処理します。|[フィルター] ウィンドウの **[リレーションシップ**] リストのチェック ボックスをオンまたはオフにします。|
|マップ上のテスト プロジェクト ノードを表示または非表示にします。|[フィルター] ウィンドウの **[その他**] リストの [**テスト 資産**] チェック ボックスをオンまたはオフにします。|

 マップの [凡例] パネルに表示されるアイコンには、一覧の設定が反映されます。 凡例パネルの表示/非表示を切り替えるには、コード マップ ツールバーの **[凡例**] ボタンをクリックします。

## <a name="examine-nodes-and-links"></a><a name="Inspect"></a>ノードとリンクを調べる
 コード マップには以下の種類のリンクが表示されます。

- 個々のリンクは、2 つのノード間の 1 つの関係を表します。

- グループ間リンクは、異なるグループの 2 つのノード間の 1 つの関係を表します。

- 集約リンクは、2 つのグループ間で同じ方向を指すすべての関係を表します。

> [!TIP]
> 既定では、マップには選択したノードのグループ間リンクのみが表示されます。 この動作を変更して、グループ間の集約リンクを表示または非表示にするには、コード マップ ツールバーの **(レイアウト**) をクリックし、[**詳細設定**] をポイントし、[**グループ間リンクをすべて表示**] または [**すべてのクロスグループ リンクを非表示**にする] をクリックします。 詳細については、「[ノードとリンクの表示/非表示](#HidingShowing)を切り替える」を参照してください。

|**宛先**|**実行する手順**|
|------------|-----------------------------|
|ノードまたはリンクの詳細を参照します。|マウス ポインターをノードまたはリンクの上に移動して、ツールヒントを表示します。<br /><br /> 集約されたリンクのツールヒントには、そのリンクが表す個々の依存関係が一覧表示されます。<br /><br /> - または -<br /><br /> ノードまたはリンクのショートカット メニューを開きます。 **[編集]** メニューの **[プロパティ]** をクリックします。|
|グループの内容を表示または非表示にします。|- グループを展開するには、ノードのショートカット メニューを開き、[**グループ**]、[**展開**] の順に選択します。<br />     - または -<br />     マウス ポインターをノード上に移動して、シェブロン (下向き矢印) ボタンを表示します。 このボタンをクリックすると、グループが展開されます。 キーボード: 選択したグループを展開または折りたたむには **、+** キー(**+**)または**-****マイナス**キー( )を押します。<br />- グループを折りたたむには、ノードのショートカット メニューを開き、[**グループ**]、[**折りたたみ**] の順に選択します。<br />     - または -<br />     マウス ポインターをグループ上に移動して、シェブロン (上向き矢印) ボタンを表示します。 このボタンをクリックすると、グループが折りたたまれます。<br />- すべてのグループを展開するには **、Ctrl** + **A**キーを押してすべてのノードを選択します。 マップのショートカット メニューを開き、[ グループ ]、[**展開**] の**順**に選択します。 **注:**     すべてのグループを展開すると、使用できないマップまたはメモリの問題が発生する場合、このコマンドは使用できません。 必要な詳細レベルにのみマップを展開することをお勧めします。<br />- すべてのグループを折りたたむには、ノードまたはマップのショートカット メニューを開きます。 [**グループ化**]、[**すべて折りたたむ**] の順に選択します。|
|名前空間、型、またはメンバーのコード定義を確認します。|ノードのショートカット メニューを開き、[**定義へ移動 ] を**選択します。<br /><br /> または<br /><br /> ノードをダブルクリックします。 展開したグループの場合、そのグループのヘッダーをダブルクリックします。<br /><br /> または<br /><br /> ノードを選択し **、F12**キーを押します。<br /><br /> 次に例を示します。<br /><br /> - 1 つのクラスを含む名前空間の場合、そのクラスのコード ファイルが開き、そのクラスの定義が表示されます。 それ以外の場合は、[**シンボルの検索結果**] ウィンドウにコード ファイルの一覧が表示されます。 **注:**     Visual Basic .NET 名前空間でこのタスクを実行すると、名前空間の背後にあるコード ファイルは開かれません。 この問題は、Visual Basic .NET 名前空間が含まれる選択したノードのグループでこのタスクを実行した場合にも発生します。 この問題を回避するには、手動で名前空間の背後にあるコード ファイルを参照するか、選択項目から名前空間のノードを除外します。<br />- クラスまたは部分クラスの場合、そのクラスのコード ファイルが開き、クラス定義が表示されます。<br />- メソッドの場合、親クラスのコード ファイルが開き、メソッド定義が表示されます。|
|集約リンクに参加する依存関係と項目を調べます。|関心あるリンクを選択し、選択した項目のショートカットメニューを開きます。 [新しいコード マップ**に[関連リンクを表示**] または **[新しいコード マップに貢献リンクを表示]** を選択します。<br /><br /> Visual Studio で、リンクの両端にグループが展開され、リンクに参加する項目と依存関係のみが表示されます。 **注:** 部分グループ内の項目間の依存関係を調べるときに、次の動作が発生する場合があります。 <ul><li>調査に加わらない項目へのリンクは、存在している場合でも、マップに表示されなくなります。</li><li>部分的なグループの項目へのリンクを調べ、後で同じ項目への別のリンクを調べるとします。 この 2 番目の調査の際に、対象となる部分的なグループには、最初の調査の項目のみが表示されます。 最初の調査には加わらないで 2 番目の調査には加わったリンクと対象項目は、表示されません。</li></ul> グループの欠落アイテムを表示するには、[**子再フェッチ**の![子アイコン](../modeling/media/dependencygraph-deletednodesicon.png "DependencyGraph_DeletedNodesIcon")を再フェッチ] を選択します (これは、グループのすべてのメンバーがマップに表示されないことを示します)。 操作を元に進め (キーボード: **Ctrl + Z**キーを押す)、新しいマップの依存関係を確認することもできます。|
|異なるグループの複数ノード間の依存関係を調べます。|グループのすべての子が表示されるように、グループを展開します。 目的のすべてのノード (子を含む) を選択します。 マップに、選択したノード間のグループ間リンクが表示されます。<br /><br /> グループ内のすべてのノードを選択するには **、Shift キー**とマウスの左ボタンを押しながら、そのグループの周囲に四角形を描画します。 マップ上のすべてのノードを選択するには **、Ctrl**+**A**キーを押します。 **ヒント:** グループ間リンクを常に表示するには、マップ ツールバーの **[詳細設定]** の [**すべての****グループ間リンクを表示]** を選択します。|
|ノードまたはリンクの参照先の項目を確認する。|ノードのショートカット メニューを開き、[**すべての参照の検索**] を選択します。 **注:** これは、マップの`Reference`.dgml ファイル内のノードまたはリンクに属性が設定されている場合にのみ適用されます。 ノードまたはリンクから項目への参照を追加するには[、DGML ファイルを編集してコード マップをカスタマイズするを](../modeling/customize-code-maps-by-editing-the-dgml-files.md)参照してください。|

## <a name="hide-or-show-nodes-and-links"></a><a name="HidingShowing"></a>ノードとリンクの表示/非表示を切り替えます。
 ノードを非表示にすると、そのノードはレイアウト アルゴリズムに加わらないままになります。 既定では、グループ間リンクは非表示です。 グループ間リンクは、グループにまたがってノードを接続する個々のリンクです。 グループを折りたたむと、すべてのグループ間リンクが、グループ間の単一リンクにまとめられます。 グループを展開し、グループ内のノードを選択すると、グループ間リンクが表示されて、そのグループ内の依存関係が示されます。

> [!CAUTION]
> Visual Studio Enterprise で生成したマップを、Visual Studio Professional を使用するユーザーと共有する前に、他のユーザーが表示できるようにするノードやグループ間リンクを再表示しておく必要があります。 そうしない場合、これらのユーザーはそれらの項目を再表示できなくなります。

### <a name="to-hide-or-show-nodes"></a>ノードの表示/非表示を切り替えるには

|**宛先**|**実行する手順**|
|------------|-----------------------------|
|選択したノードを非表示にします。|1. 非表示にするノードを選択します。<br />2. 選択したノードまたはマップのショートカット メニューを開きます。 **[ 選択 ]** を選択し、 [**選択した項目を非表示にする ]** を選択します。|
|選択されていないノードを非表示にします。|1. 表示したままにするノードを選択します。<br />2. 選択したノードまたはマップのショートカット メニューを開きます。 **[選択]** を選択し、**選択されていない状態を非表示に**します。|
|非表示のノードを表示します。|- グループ内のすべての非表示ノードを表示するには、まずグループが展開されていることを確認します。 ショートカット メニューを開き、[**選択]** メニューの [**子を再表示]** をクリックします。<br />     - または -<br />     グループの**Unhide Children**左上隅にある[![子を再表示する]アイコン](../modeling/media/dependencygraph-filtericon-hiddennodes.gif "DependencyGraph_FilterIcon_HiddenNodes")をクリックします(非表示の子ノードがある場合にのみ表示されます)。<br />- 非表示のノードをすべて表示するには、マップまたはノードのショートカット メニューを開き、[**選択**] メニューの [**すべて表示]** を選択します。|

### <a name="to-hide-or-show-links"></a>リンクの表示/非表示を切り替えるには

|**宛先**|**マップのツールバーで、[レイアウト]、[詳細設定] の順にクリックします。**|
|------------|----------------------------------------------------------------------|
|グループ間リンクを常時表示します。|**すべてのグループ間リンクを表示**する : これにより、グループ間の集約されたリンクは非表示になります。|
|グループ間リンクを常時非表示にします。|**[すべてのグループ間リンクを非表示]**|
|選択したノードのグループ間リンクのみを表示します。|**[選択したノードのグループ間リンクを表示]**|
|すべてのリンクを非表示にします。|**[すべてのリンクを非表示にする**] リンクを再び表示するには、上記のオプションのいずれかを選択します。|

## <a name="group-nodes"></a><a name="OrganizeGroups"></a>グループ ノード

|**宛先**|**実行する手順**|
|------------|-----------------------------|
|コンテナー ノードをグループ ノードまたはリーフ ノードとして表示します。|コンテナノードをリーフノードとして表示するには、ノードを選択し、選択したショートカットメニューを開いて、[**グループ**]、[**リーフに変換**]を選択します。<br /><br /> コンテナノードをグループノードとして表示するには、ノードを選択し、選択したショートカットメニューを開いて、[**グループ**]、[**グループに変換**]を選択します。|
|グループ内のレイアウトを変更します。|グループを選択し、ショートカット メニューを開き、[**レイアウト**] を選択して、目的のレイアウト スタイルを選択します。<br /><br /> - または -<br /><br /> 1. グループを選択し、展開されていることを確認します。<br />2. グループヘッダーを再度クリックすると、グループツールバーが表示されます。<br />     ![依存関係グラフ&#45;グループ ツールバー](../modeling/media/dependencygraph-group.png "DependencyGraph_Group")<br />3.**グループリストのレイアウトスタイルを変更**する![[グループの依存関係グラフ&#45;グループツールバー&#45;レイアウトを](../modeling/media/dependencygraph-grouptoolbar.gif "DependencyGraph_GroupToolbar")開き、目的のレイアウトスタイルを選択します。<br /><br /> **リスト ビュー**では、グループのメンバがリストに並べ替わります。 **グラフデフォルトは**、グループレイアウトをマップのデフォルトレイアウトにリセットします。 その他のオプションについては、[マップ レイアウトの変更を](#Selecting)参照してください。|
|ノードをグループに追加します。|ノードをグループにドラッグします。<br /><br /> ノードをドラッグするときに、Visual Studio では、ノードを移動していることを示すインジケーターが表示されます。<br /><br /> ノードをグループ外にドラッグすることもできます。|
|ノードをグループ ノード以外に追加します。|ノードを目的のノードにドラッグします。 ノードをグループに追加することで、ターゲット ノードをグループに変換することもできます。|
|選択したノードをグループ化します。|1. グループ化するノードを選択します。 選択した最後のノードの上に、ポップアップ ツールバーが表示されます。<br />     ![依存関係のグラフ ツール バー](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")<br />2. ツールバーで、選択**したノードをグループ**化する 4 番目のアイコンを選択します(ノードが展開されている場合は、4 つのアイコンではなく 5 つになります)。 新しいグループの名前を入力し **、Return**キーを押します。<br />     - または -<br />     グループ化するノードを選択して、選択した項目のショートカット メニューを開きます。 [**グループ**]、[**親グループの追加**] の順にクリックし、新しいグループの名前を入力して Return キーを押**します**。<br /><br /> グループ名は変更できます。 グループのショートカット メニューを開き、[**編集]** を選択し、[**プロパティ]** を選択して [Visual Studio のプロパティ] ウィンドウを開きます。 [**ラベル**] プロパティで、必要に応じてグループの名前を変更します。|
|グループを削除します。|削除する対象の 1 つまたは複数のグループを選択します。 選択したメニューのショートカット メニューを開き、[**グループ**]、[**グループの削除**] の順に選択します。|
|親グループからノードを削除します。|移動するノードを選択します。 選択したメニューのショートカット メニューを開き、[**グループ**]、[**親から削除]** の順に選択します。 これにより、祖父母グループまでのノード、または祖父母グループがない場合はグループの外側までのノードが削除されます。<br /><br /> - または -<br /><br /> ノードを選択し、グループからドラッグして外します。|

## <a name="add-remove-or-rename-nodes-links-and-comments"></a><a name="AddRemoveNodesLinks"></a>ノード、リンク、コメントの追加、削除、名前変更
 マップに表示される項目の数を増減させることで、マップをドリル ダウンしたり単純化したりすることができます。 また、アイテムの名前を変更したり、項目にコメントを追加することもできます。

> [!CAUTION]
> Visual Studio Ultimate を使用して作成したマップを、Visual Studio Professional を使用するユーザーと共有する場合、他のユーザーが表示できるようにするノードは、前もってマップに表示可能に設定しておく必要があります。 そうしない場合、これらのユーザーは削除されたコード要素を取得できなくなります。

### <a name="add-a-node-for-a-code-element"></a>コード要素に対するノードの追加

|**宛先**|**実行する手順**|
|------------|-----------------------------|
|現在のマウス ポインターの位置に、新しいジェネリック ノードを追加します。|1. 新しいコード要素を配置するマップ上の場所にマウス ポインタを移動し **、Insert**キーを押します。<br />     - または -<br />     マップのショートカット メニューを開き、[**編集**]、[**追加**]、[**一般ノード**] の順に選択します。<br />2. 新しいノードの名前を入力し **、Return**キーを押します。|
|現在のマウス ポインターの位置に、特定の種類のコード要素ノードを追加します。|1. 新しいコード要素を配置するマップ上の場所にマウス ポインタを移動し、マップのショートカット メニューを開きます。<br />2. **[編集]、[****追加**] の順に選択し、必要なノードの種類を選択します。<br />3. 新しいノードの名前を入力し **、Return**キーを押します。|
|ジェネリック型または特定の型のコード要素ノードをグループに追加します。|1. グループ ノードを選択し、ショートカット メニューを開きます。<br />2. **[編集]、[****追加**] の順に選択し、必要なノードの種類を選択します。<br />3. 新しいノードの名前を入力し **、Return**キーを押します。|
|既存のノードと同じ種類のノードを追加し、既存のノードからリンクを追加します。|1. コード要素を選択します。 その上にポップアップ ツールバーが表示されます。<br />     ![依存関係のグラフ ツール バー](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")<br />2. ツールバーで、2 番目のアイコン を選択この**ノードと同じカテゴリのノードを作成し、新しいリンクを追加**します。<br />3. マップ上の場所を選択して新しいコード要素を配置し、マウスの左ボタンをクリックします。<br />4. 新しいノードの名前を入力し **、Return**キーを押します。|
|フォーカスがある既存のコード要素からリンクされている、新しいジェネリック ノードを追加します。|1. キーボードを使用して、リンク元のコード要素がフォーカス (点線の長方形) になるまで**Tab キー**を押します。<br />2. **Alt 挿入を**+**Insert**押します。<br />3. 新しいノードの名前を入力し **、Return**キーを押します。|
|フォーカスのある既存のコード要素からリンクされている、新しいジェネリック ノードを追加します。|1. キーボードを使用して、リンク先のコード要素がフォーカス (点線の長方形) になるまで**Tab キー**を押します。<br />2. **Alt**+**シフト挿入**+**Insert**を押します。<br />3. 新しいノードの名前を入力し **、Return**キーを押します。|

|**コード要素を追加するには**|**実行する手順**|
|----------------------------------|-----------------------------|
|ソリューション内のコード要素。|1.**ソリューション エクスプローラ**でコード要素を見つけます。 ソリューション**エクスプローラー**の検索ボックスを使用するか、ソリューションを参照します。 **ヒント:**     型またはメンバーに依存するコード要素を検索するには、**ソリューション エクスプローラー**で型またはメンバーのショートカット メニューを開きます。 目的の関係を選択します。 **ソリューション エクスプローラーには**、指定した依存関係を持つコード要素のみが表示されます。<br />2. 目的のコード要素をマップ サーフェスにドラッグします。 クラス ビューまたはオブジェクト ブラウザーからコード要素をドラッグすることもできます。<br />     - または -<br />     **ソリューション エクスプローラー**で、マップするコード要素を選択します。 次に、**ソリューション エクスプローラー**のツール バーで 、[**コード マップに表示**] をクリックします。<br /><br /> 既定では、新しいコード要素の親コンテナーの階層がマップに表示されます。 この動作を変更するには、コード マップ ツールバーの [**親を含める**] ボタンを使用します。 オフにすると、コード要素だけがマップに追加されます。 ドラッグ アンド ドロップ操作が 1 つの場合にこの動作を元に戻すには **、Ctrl キー**を押しながらコード要素をマップにドラッグします。<br /><br /> Visual Studio は、選択項目の中の最上位レベルのコード項目に対してコード要素を追加します。 コード要素にその他のコード要素が含まれているかどうかを確認するには、コード要素にマウス ポインターを移動して、シェブロン (下向き矢印) を表示します。 シェブロンをクリックして、コード要素を展開します。 すべてのコード要素を展開するには **、Ctrl A キー**+**A**を押してすべての要素を選択し、マップのショートカット メニューを開いて、[**グループ**]、[**展開**] の順に選択します。 すべてのグループを展開することで、使用できないマップの問題やメモリ不足の問題が発生する場合、このコマンドは使用できません。|
|マップにコード要素に関連するコード要素を表示します。|コード マップ ツールバーの [関連項目を**表示**] ボタンをクリックし、関心のある関連アイテムの種類を選択します。<br /><br /> - または -<br /><br /> コード要素のショートカット メニューを開きます。 ショーの1つを選択**してください.** 興味のある関係の種類に応じてメニューの項目。 たとえば、現在の項目が参照している項目、現在の項目を参照する項目、クラスの基本と派生型、メソッドの呼び出し元、および含んでいるクラス、名前空間、アセンブリなどを確認できます。<br /><br /> 詳細については、[このトピックを](../modeling/map-dependencies-across-your-solutions.md)参照してください。|
|コンパイルされた .NET アセンブリ (.dll または .exe) またはバイナリ。|Visual Studio の外部から、アセンブリまたはバイナリをマップにドラッグします。<br /><br /> エクスプローラーからドラッグできるのは、エクスプローラーと Visual Studio を同じユーザー アクセス制御 (UAC: User Access Control) アクセス許可レベルで実行している場合のみです。 たとえば、UAC がオンになっていて、Visual Studio を管理者として実行している場合、Windows エクスプローラーまたはファイル エクスプローラーはドラッグ操作をブロックします。|

### <a name="AddNodes"></a>
##### <a name="add-a-link-between-existing-code-elements"></a>既存のコード要素間にリンクを追加する

1. ソース コード要素を選択します。 コード要素の上にツールバーが表示されます。

    ![依存関係のグラフ ツール バー](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")

2. ツールバーで、最初のアイコンである[**このノードから次へ]をクリックしたノードへの新しいリンクを作成します**。

3. 対象のコード要素をクリックします。 2 つのコード要素間にリンクが表示されます。

   \- - または -

4. マップ上でソース コード要素を選択します。

5. マウスがインストールされている場合、マップの範囲外に、マウス ポインターを移動します。

6. コード要素のショートカット メニューを開き、[**編集**]、[**追加**]、[**汎用リンク**] の順に選択します。

7. Tab キーを押して、リンクのターゲット コード要素を選択します。

8. RETURN キーを**押します**。

### <a name="AddComments"></a>
##### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>マップ上の既存のノードにコメントを追加する

1. コード要素を選択します。 その上にツールバーが表示されます。

     ![依存関係のグラフ ツール バー](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")

2. ツールバーで、3 番目のアイコンである選択**したノードへの新しいリンクを持つ新しいコメントノードを作成**します。

     \- - または -

     コード要素のショートカット メニューを開き、[**編集 ]、[****新しいコメント**] の順に選択します。

3. コメントを入力します。 新しい行を入力するには、 **Shift** + キーを**押します**。

##### <a name="add-a-comment-to-the-map-itself"></a>マップ自体にコメントを追加する

1. マップのショートカット メニューを開き、[**編集 ]、[****新しいコメント**] の順に選択します。

2. コメントを入力します。 新しい行を入力するには、 **Shift** + キーを**押します**。

### <a name="RenameNodes"></a>
##### <a name="rename-a-code-element-or-link"></a>コード要素またはリンク名を変更する

1. 名前を変更するコード要素またはリンクを選択します。

2. **F2**キーを押すか、ショートカット メニューを開き、[**編集]、[****名前の変更**] の順に選択します。

3. マップで編集ボックスが表示されたら、コード要素またはリンクの名前を変更します。

     \- - または -

4. ショートカット メニューを開き、[**編集]、[****プロパティ**] の順に選択します。

5. [Visual Studio のプロパティ] ウィンドウで**ラベル**プロパティを編集します。

##### <a name="remove-a-code-element-or-link-from-the-map"></a>マップからコード要素またはリンクを削除します。

1. コード要素またはリンクを選択し **、Delete**キーを押します。

     \- - または -

     コード要素またはリンクのショートカット メニューを開き、[**編集]、[****削除**] の順に選択します。

2. 要素またはリンクがグループの一部である場合、[**子**の![再フェッチ](../modeling/media/dependencygraph-deletednodesicon.png "DependencyGraph_DeletedNodesIcon")] ボタンはグループ内に表示されます。 このボタンをクリックすると、足りない要素とリンクが再フェッチされます。

- 基本コードに影響を与えずに、マップからコード要素を削除できます。 コード要素を削除すると、その定義は、DGML (.dgml) ファイルから削除されます。

- DGML を編集したり、未定義のコード要素を追加したり、旧バージョンの Visual Studio を使用したりして作成したマップは、この機能をサポートしません。

##### <a name="flag-a-code-element-for-follow-up"></a>フォロー アップ用にコード要素にフラグを設定する

1. フォローアップ用にフラグを設定するコード要素またはリンクを選択します。

2. ショートカット メニューを開き、[**編集]、[****フラグの設定**] の順に選択します。

- 既定では、コード要素は赤の背景色で表示されます。 適切[な](#AddComments)フォローアップ情報をコメントに追加することを検討してください。

- 要素の背景色を変更するか、**または [編集]** を選択して、後続フラグ**をクリアします**。

## <a name="change-the-style-of-a-code-element-or-link"></a><a name="ChangeStyleCodeOrLink"></a>コード要素またはリンクのスタイルを変更する
 事前定義されたアイコンと色を使って、コード要素のアイコン、およびコード要素とリンクの色を変更できます。 たとえば、色を選択することで、特定のカテゴリまたは特定のプロパティを持つコード要素およびリンクを強調して表示できます。 これにより、マップの特定の領域を識別し、目立たせることができます。 マップの .dgml ファイルを編集して、カスタム アイコンと色を指定できます。[DGML ファイルを編集してコード マップをカスタマイズするを](../modeling/customize-code-maps-by-editing-the-dgml-files.md)参照してください。

#### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>特定のカテゴリまたは特定のプロパティを持つコード要素やリンクに定義済みの色またはアイコンを適用するには

1. マップ ツールバーで [**凡例**] を選択します。

2. [**凡例**] ボックスで、コード要素のカテゴリまたはプロパティがリストに既に表示されているかどうかを確認します。

3. リスト**+** にカテゴリまたはプロパティが含まれていない場合は、[**凡例**] ボックスで [**ノード プロパティ]、[ノード****カテゴリ**]、[リンク プロパティ]、[**リンク****カテゴリ**] のいずれかを選択します。 次に、プロパティまたはカテゴリを選択します。 カテゴリまたはプロパティが **[凡例]** ボックスに表示されます。

    > [!NOTE]
    > カテゴリまたはプロパティを作成してコード要素に割り当てるには、マップの .dgml ファイルを編集します。[DGML ファイルを編集してコード マップをカスタマイズするを](../modeling/customize-code-maps-by-editing-the-dgml-files.md)参照してください。

4. [**凡例**] ボックスで、追加したカテゴリまたはプロパティの横にあるアイコンをクリックするか、変更します。

5. 次の表を使用して、変更するスタイルを選択します。

    |**を変更するには**|**選択**|
    |-----------------------|----------------|
    |背景色|**背景**|
    |外枠の色|**ストローク**|
    |テキストの色 (結果を示すため、文字 "f" が表示されます)|**前景**|
    |アイコン|**[小さいアイコン]**|

     色またはアイコンを選択するための[**カラー セット ピッカー** ] または **[アイコン セット ピッカー** ] ダイアログ ボックスが表示されます。

6. [**カラー セット ピッカー]** または **[アイコン セットピッカー** ] ダイアログ ボックスで、次のいずれかの操作を行います。

    |**適用対象**|**実行する手順**|
    |--------------------|-----------------------------|
    |色またはアイコンのセット|[色または**アイコン**の**選択]** **セット**の一覧を開きます。 色またはアイコンのセットを選択します。|
    |特定の色またはアイコン|カテゴリまたはプロパティ値のリストを開きます。 色またはアイコンを選択します。|

    > [!NOTE]
    > [**凡例**] ボックスで、スタイルの再配置、削除、または一時的な無効化を行うことができます。 「[凡例ボックスの編集](#ModifyLegend)」を参照してください。

## <a name="edit-the-legend-box"></a><a name="ModifyLegend"></a>[凡例] ボックスを編集する
 [**凡例**] ボックスでスタイルを再配置、削除、または一時的に無効にすることができます。

1. [**凡例**] ボックスでスタイルのショートカット メニューを開きます。

2. 次のいずれかのタスクを実行します。

    |**宛先**|**選択**|
    |------------|----------------|
    |コード要素の無効化|**Disable**|
    |コード要素の削除|**削除**|
    |アイテムを上へ移動する|**[上へ移動]**|
    |コード要素を下へ移動|**[上へ移動]**|

## <a name="copy-styles-from-one-map-to-another"></a><a name="CopyLegend"></a>マップ間でスタイルをコピーする

1. [**凡例**] ボックスがソース マップに表示されていることを確認します。 表示されていない場合は、マップ ツールバーの (**凡例**) をクリックします。

2. **[凡例**] ボックスのショートカット メニューを開きます。 [**凡例のコピー]** を選択します。

3. ターゲット マップに凡例を貼り付けます。

## <a name="merge-code-maps"></a><a name="MergeMaps"></a>コード マップのマージ
 マップ間でコード要素をコピーして貼り付けることで、マップをマージできます。 コード要素の識別子が一致する場合、コード要素の貼り付けはマージ操作と同様に機能します。 このタスクを簡単にするためには、視覚化するすべてのアセンブリとバイナリを同じフォルダー内に配置することで、各アセンブリまたはバイナリの完全パスが、マージする各マップに対して同じになるようにします。

 また、それらのアセンブリやバイナリをドラッグして、そのフォルダーから同じマップへドラッグすることもできます。

## <a name="see-also"></a>参照
 [ソリューション間で依存関係をマップ](../modeling/map-dependencies-across-your-solutions.md)する[コード マップを使用してアプリケーションをデバッグする](../modeling/use-code-maps-to-debug-your-applications.md)[コード マップ アナライザを使用して潜在的な問題を検出](../modeling/find-potential-problems-using-code-map-analyzers.md)する DGML ファイルダイレクト グラフ[マークアップ言語 (DGML) リファレンス](../modeling/directed-graph-markup-language-dgml-reference.md)[を編集してコード マップをカスタマイズ](../modeling/customize-code-maps-by-editing-the-dgml-files.md)する