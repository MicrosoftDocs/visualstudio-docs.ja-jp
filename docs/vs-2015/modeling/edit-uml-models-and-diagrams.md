---
title: UML モデルおよびダイアグラムの編集 |Microsoft Docs
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-tfs-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- vs.teamarch.modelingproject
- vs.teamarch.UMLModelExplorer
- vs.teamarch.UMLModelExplorer.rootnode
helpviewer_keywords:
- diagrams - modeling
- UML, copy and paste
- UML, models
- UML model
- UML, element properties
- UML
- UML, diagrams
ms.assetid: 87affd40-8127-4ee9-9d3a-ad977abe2ed6
caps.latest.revision: 86
author: alexhomer1
ms.author: gewarren
manager: douge
ms.openlocfilehash: fafbccdae03c604e4d9b150b5745a75792833681
ms.sourcegitcommit: 240c8b34e80952d00e90c52dcb1a077b9aff47f6
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/23/2018
ms.locfileid: "49834579"
---
# <a name="edit-uml-models-and-diagrams"></a>UML モデルおよびダイアグラムの編集
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

UML モデルは、いくつかの異なる種類の図によって提供されるビューを使用して作成および編集できます。 図を使用することにより、システムを異なる角度から検討できるため、システムの設計と要件のさまざまな側面について理解し、話し合うのに役立ちます。 Visual Studio には、最も一般的に使用される 5 種類の UML 図のテンプレートが用意されています。  
  
 この機能をサポートする Visual Studio のバージョンを確認するには、「 [アーキテクチャ ツールとモデリング ツールのバージョン サポート](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport)」を参照してください。  
  
 このトピックでは、各種の図に共通のモデルを編集する方法について説明します。 特定の種類の図に固有の詳細については、次を参照してください。[アプリのモデルを作成する](../modeling/create-models-for-your-app.md)します。  
  
## <a name="in-this-topic"></a>このトピックの内容  
  
-   [UML 図は UML モデルのビュー](#Views)  
  
-   [UML モデリング図を作成します。](#Creating)  
  
-   [UML モデリング図を描画](#Drawing)  
  
-   [シェイプとコネクタの編集](#Editing)  
  
-   [モデルに変更を元に戻しています](#Undo)  
  
-   [ダイアグラムの要素の共有](#Sharing)  
  
-   [要素および関連要素グループのコピー](#Copying)  
  
-   [モデル要素またはそのビューを削除しています](#Deleting)  
  
-   [図でテキストの検索](#Searching)  
  
-   [図のプレゼンテーションの準備](#presentation)  
  
-   [UML デザイナーの拡張](#extensions)  
  
##  <a name="Views"></a> UML 図は UML モデルのビュー  
 UML 図は、モデリング プロジェクトでのみ作成および使用できます。 図およびプロジェクトを作成する方法の詳細については、次を参照してください。 [UML モデリング プロジェクトおよびダイアグラム](../modeling/create-uml-modeling-projects-and-diagrams.md)します。  
  
-   モデリング プロジェクトには UML モデルが 1 つ存在します。 プロジェクト内の UML 図はすべて UML モデルのビューです。  
  
-   モデルを確認できます**UML モデル エクスプ ローラー**します。 **アーキテクチャ**メニューで、 **Windows**、 をクリックし、 **UML モデル エクスプ ローラー**します。  
  
-   図の中のシェイプはすべてモデル内の要素のビューです。 図に新しいシェイプを配置するということは、そのモデルに新しい要素を作成するということです。  
  
-   モデル全体を保存すると、Visual Studio のいずれかのダイアグラムを保存するときにそのすべての図とモデリング プロジェクト ファイル。  
  
##  <a name="Creating"></a> UML モデリング図を作成します。  
  
1. **アーキテクチャ**Visual Studio でメニュー**新しい UML またはレイヤー図**します。  
  
2. 図を選択し、名前を付けます。  
  
3. **モデリング プロジェクトに追加**、既存のモデリング プロジェクトを選択するか選択**新しいモデリング プロジェクトを作成する**します。  
  
   > [!NOTE]
   >  モデリング図はモデリング プロジェクト内に存在している必要があります。  
  
   ソリューション エクスプローラーで既存のモデリング プロジェクトに図を追加することもできます。 モデリング プロジェクトを右クリックし、[**追加**、] をクリックし、**新しい項目の**します。  
  
#### <a name="to-create-an-empty-uml-modeling-project"></a>空の UML モデリング プロジェクトを作成するには  
  
- **ファイル**メニューで、**新規**、 をクリックして**プロジェクト**、し、**新しいプロジェクト**ダイアログ ボックスをダブルクリック**モデリングプロジェクト**します。  
  
  モデリング プロジェクトを管理する方法の詳細については、次を参照してください。 [UML モデリング プロジェクトおよびダイアグラム](../modeling/create-uml-modeling-projects-and-diagrams.md)します。  
  
##  <a name="Drawing"></a> UML モデリング図を描画  
 モデリング図には、関係によってリンクされたモデル要素のコレクションが表示されます。 それぞれの要素はシェイプとして表示され、それぞれの関係は 2 つのシェイプをつなぐコネクタとして表示されます。  
  
 要素用と関係用の 2 種類のツールが存在します。 UML クラス ダイアグラム ツールボックスの**クラス**要素ツールと**アソシエーション**は関係ツールです。  
  
> [!NOTE]
>  特定の図の種類に固有の情報を実行する場合に、「 [、アプリのモデルを作成](../modeling/create-models-for-your-app.md)です。  
  
#### <a name="to-create-elements-and-relationships-in-a-uml-modeling-diagram"></a>UML モデリング図の要素および関係を作成するには  
  
1. モデル要素を作成するには、ツールボックスで要素ツールをクリックし、その表示場所となる図をクリックします。 要素を作成したら、そのハンドルをドラッグしてサイズと形状を調整します。  
  
    場合によっては、新しい要素を別の要素内に配置することができます。 たとえば、UML クラス図では、パッケージ内にクラスを配置できます。  
  
   > [!NOTE]
   >  ツールボックスが表示できない場合 をクリックして**ツールボックス**上、**ビュー**メニュー。  
  
2. 関係を作成するには、関係ツールをクリックし、関係の起点となる要素をクリックしてから、終点となる要素をクリックします。  
  
    起点および終点として選択できる要素の種類は関係の種類によって異なります。 たとえば、UML クラス図では、Comment 要素を起点または終点とする Association の関係は作成できません。  
  
   > [!NOTE]
   >  同じツールを複数回使用するには、ツールをダブルクリックします。 完了したら、クリックして、**ポインター**ツール。  
  
   一部の種類の図では、単純なシェイプを描画することもできます。 これらのシェイプはモデルの一部ではありませんが、図のパーツを強調したり、図を複数の領域に分割したりするために使用できます。  
  
##  <a name="Editing"></a> シェイプとコネクタの編集  
 シェイプのサイズ変更または色付けを行ったり、コネクタのルートを変更したりしても、基になるモデルは影響を受けません。 ただし、図または UML モデル エクスプローラーでシェイプの名前を変更すると、対応する要素の名前が UML モデル エクスプローラー内およびその要素を表示するその他の図の中でも変更されます。  
  
> [!NOTE]
>  ツールボックス アイテムを使用すると、要素のグループを作成したり、独自に選んだプロパティを持つ要素を作成したりできます。新しいツールボックス アイテムは簡単に作成できます。 詳細については、次を参照してください。[定義のカスタム モデリング ツールボックス アイテム](../modeling/define-a-custom-modeling-toolbox-item.md)します。  
  
 次の図は、シェイプのサイズまたは名前を変更する方法を示しています。  
  
 ![モデル要素の調整](../modeling/media/uml-drawadjust1.png "UML_DrawAdjust1")  
  
> [!TIP]
>  組み込みコマンドには、図形をきれいに整列させるためのコマンドは含まれていません。 例では、コードをコピーして、独自の配置コマンドを簡単に作成するただし、[図に UML モデルを表示](../modeling/display-a-uml-model-on-diagrams.md)します。  
  
 次の図は、コネクタまたはそのラベルのルートと位置を調整する方法を示しています。  
  
 ![コネクタの調整](../modeling/media/uml-drawadjust2.png "UML_DrawAdjust2")  
  
#### <a name="to-move-one-end-of-a-connector-to-another-shape"></a>コネクタの片端を別のシェイプに移動するには  
  
1. 次のいずれかの操作を行います。  
  
   - キーを押して**CTRL**端を移動します。  
  
     \- または -  
  
   - コネクタを右クリックし、**再接続**します。  
  
2. 移動するコネクタの端をクリックします。  
  
3. コネクタの移動先のシェイプをクリックします。  
  
#### <a name="to-change-color-or-other-properties-of-an-element-relationship-or-diagram"></a>要素、関係、または図の色およびその他のプロパティを変更するには  
  
-   要素をクリックしで、フィールドを設定、**プロパティ**ウィンドウ。  
  
     表示されない場合、**プロパティ**ウィンドウでは、要素を右クリックし、順にクリックします**プロパティ。**  
  
#### <a name="to-zoom-in-and-out-on-a-modeling-diagram"></a>モデリング図を拡大または縮小するには  
  
-   長押しし、 **CTRL**マウス ホイールを回転するキーします。  
  
     \- または -  
  
-   長押しします**CTRL + SHIFT**を左または右マウス ボタンをクリックします。  
  
     \- または -  
  
-   **アーキテクチャ デザイナー**ツールバーで、プラス記号をクリックします (**+**) 記号またはマイナス記号 (**-**)、またはズーム レベルを選択します。  
  
##  <a name="Searching"></a> 図での検索  
 図のアイテムを検索するには、クイック検索機能を使用します。 設定する必要があります**ファイルの場所:** に**現在のドキュメント**します。  
  
#### <a name="to-search-for-text-in-a-modeling-diagram"></a>モデリング図内のテキストを検索するには  
  
1.  キーを押して**CTRL + F**します。  
  
     \- または -  
  
     **編集**メニューで、**検索し、置換**、 をクリックし、**クイック検索**します。  
  
    > [!NOTE]
    >  **検索し、置換**ままにする必要があります ダイアログ ボックスで、**検索**フィールドに設定**現在のドキュメント**します。 その他のオプションはサポートされていません。  
  
2.  検索、およびクリックするテキストを入力**次を検索**します。  
  
    > [!NOTE]
    >  検索したテキストが折りたたまれたシェイプ内にある場合、シェイプが強調表示されます。 図形を展開し、クリックして**次を検索**もう一度です。  
  
##  <a name="Undo"></a> モデルに変更を元に戻しています  
 元に戻すを使用して、モデルおよび図に対して行った変更をやり直したりすることができます、**を元に戻す**と**やり直し**コマンドを**編集**メニュー。  
  
 **各モデリング プロジェクトには、変更の 1 つのスタックがあります。** モデルおよび図に対して行った変更はすべてこのスタックに記録されます。 スタックには図から図へのフォーカスの切り替えも含まれます。 [元に戻す] コマンドは、このスタックに記録された変更を逆にたどることによって実行されます。  
  
 たとえば、Diagram1 に変更を加え、フォーカスを Diagram 2 に切り替えてから、Diagram2 に変更を加えたとします。 ここで、[元に戻す] コマンドを 3 回実行すると、1 回目には最後の変更が取り消され、2 回目にはフォーカスが Diagram1 に戻され、3 回目には Diagram1 に対する変更が取り消されます。  
  
 **図を閉じると、変更のスタックが切り捨てられます。** 図を閉じると、その図に対して実行した変更は元に戻せなくなります。また、それ以前にモデルまたはその図に対して加えた変更も元に戻せなくなります。  
  
 **プロパティの編集中を元に戻すことはできません。** プロパティ ウィンドウでプロパティを編集しているとき、または図のラベルのプロパティを編集しているときは、そのプロパティに対する変更しか元に戻すことができません。 Enter キーを押してプロパティの変更を確定するか、Esc キーを押して変更を取り消してください。 これで、モデルおよび図に対する変更を元に戻すことができるようになります。  
  
 **図を保存せずに終了しても、期待した効果があります。** 図に変更を加えた後にその図を保存せずに閉じても、変更内容はモデルで保持されます。 図を保存せずに閉じる必要がある場合は、モデル全体を閉じることをお勧めします。  
  
##  <a name="Sharing"></a> ダイアグラムの要素の共有  
 モデル要素の特定のインスタンスが複数の図に表示されるようにすることができます。 クラス、インターフェイス、コンポーネント、ユース ケース、およびアクターがこれに該当します。  
  
 この機能は、図ごとに異なる関係のグループを表示する必要がある場合に便利です。 たとえば、ある図の中で Customer クラスと Address クラスとの間の関連を表示し、 別の図では、同じ Address クラスを Postal Area クラスに関連付けて表示できます。  
  
 名前などのモデル要素のプロパティは、任意の図でそのビューのいずれかを選択するか、UML モデル エクスプローラーでそれを選択することによって変更できます。  
  
 それぞれの図の種類で表示できるモデル要素の種類は限られています。 たとえば、コンポーネント図にユース ケースを表示することはできません。 したがって、モデル要素と図の組み合わせによっては、以下の手順を使用できない場合があります。  
  
#### <a name="to-add-a-new-view-of-a-model-element-by-using-uml-model-explorer"></a>UML モデル エクスプローラーを使用してモデル要素の新しいビューを追加するには  
  
1.  開くには**UML モデル エクスプ ローラー**の**アーキテクチャ**メニューで、 **Windows**、 をクリックし、 **UML モデル エクスプ ローラー**します。  
  
2.  モデル要素をドラッグして**UML モデル エクスプ ローラー**同じプロジェクト内で互換性のある図。  
  
     モデル要素のビューを表すシェイプが表示されます。これは、他の図または同じ図のビューに追加される形で表示される場合があります。  
  
    > [!NOTE]
    >  クラスまたはコンポーネントをシーケンス図にドラッグした場合、結果は異なります。 その場合は、そのクラスまたはコンポーネントと同じ型の新しい生存線が作成されます。 詳細については、次を参照してください。 [UML シーケンス図: ガイドライン](../modeling/uml-sequence-diagrams-guidelines.md)します。  
  
#### <a name="to-add-a-new-view-of-a-model-element-by-using-paste-reference"></a>[参照の貼り付け] を使用してモデル要素の新しいビューを追加するには  
  
1.  既存の要素を右クリックし、をクリックし、**コピー**します。  
  
    -   複数の要素を同時にコピーすることができます。 CTRL キーを押しながら、各要素をクリックしてで右クリックし、それらのいずれかをクリックして**コピー**します。  
  
2.  互換性のある図の空白部分を右クリックし、をクリックし、**参照の貼り付け**します。  
  
     同じ要素のもう 1 つのビューが表示されます。  
  
    > [!NOTE]
    >  これに対し、**貼り付け**コマンドで、モデルに新しい要素を作成します。 詳細については、次を参照してください。[要素のコピーと関連要素グループの](#Copying)します。  
  
> [!NOTE]
>  既に特定の関係で接続されている 2 つのモデル要素から成る図のビューに対して追加した場合、その関係のビューも図に表示されます。 このビューを削除するには、要素の 1 つを図から削除するか、要素間の関係をモデルから削除します。  
  
##  <a name="Copying"></a> 要素および関連要素グループのコピー  
 モデル要素はコピーして貼り付けることができます。また、要素のグループをその要素間の関係も含めてコピーして貼り付けることもできます。  
  
> [!NOTE]
>  **貼り付け**と**参照の貼り付け**コマンドは、さまざまな影響を与えます。 **貼り付け**コピーした要素のプロパティを持つは、新しい要素を作成します。 **参照の貼り付け**同じ要素の新しいビューを作成します。  
  
#### <a name="to-copy-elements-and-their-relationships"></a>要素とその関係をコピーするには  
  
1.  コピーする要素がある図で、1 つ以上の要素を選択します。  
  
    > [!NOTE]
    >  要素のグループから関係だけを切り離してコピーすることはできません。  
  
2.  **編集** メニューのをクリックして**コピー**します。  
  
3.  要素を別の図にコピーする場合は、新しい図を作成するか、既存の図を開きます。  
  
4.  **編集** メニューのをクリックして**貼り付け**します。  
  
    -   要素のコピーが、要素間に存在するすべての関係のコピーと共に表示されます。  
  
    -   それぞれの新しい要素には、自動的に生成された新しい名前が付けられます。  
  
5.  新しい要素と関係の位置や名前などのプロパティを調整します。  
  
> [!NOTE]
>  2 つのモデルが同じソリューションに存在する場合などに、モデル間でモデル要素をコピーすることはできません。 しかし、1 つの図と別の図との間で要素をコピーすることはできます。  
  
#### <a name="to-copy-an-entire-diagram"></a>図全体をコピーするには  
  
1. 新しい図を作成します。  
  
2. 既存の図のすべての要素を選択し、それらをコピーして、新しい図に貼り付けます。  
  
   図の複製は、ソリューション エクスプローラーでコピーと貼り付けをして行うことはできません。  
  
##  <a name="Deleting"></a> モデル要素またはそのビューを削除しています  
 分類子などの特定の種類の要素は、モデルからは削除せず、図からのみ削除することができます。 分類子は、クラス図、コンポーネント図、およびユース ケース図に表示される主要な要素です。 複数の図に表示される場合もあります。 これらの種類の要素は、2 つの別々 のコマンドがあります:**ダイアグラムから削除**と**モデルから削除**します。  
  
 一方、図から関係を削除すると、その関係は自動的にモデルからも削除されます。  
  
> [!NOTE]
>  UML 図の特定の種類の要素にはラベルがあります。 要素の周囲に四角形を描画して選択すると、ラベルを選択することはできますが、そのラベルを所有する要素は選択できません。 この方法で選択された要素のサブセットの削除はサポートされていません。 これらの要素のサブセットを選択するに押し、 **CTRL**キーながら各要素をクリックします。  
  
#### <a name="to-remove-a-classifiers-view-from-a-diagram"></a>分類子のビューを図から削除するには  
  
- 図上の要素を右クリックし、をクリックし、**ダイアグラムから削除**します。  
  
  \- または -  
  
- 図上の要素をクリックし、キーを押します、**削除**キー。  
  
  -   この要素のビューが削除されます。 ただし、要素がモデルでは、検索で引き続き**UML モデル エクスプ ローラー**します。 同じ要素の他のビューもすべて残っています。  
  
  -   このシェイプに接続されているコネクタはすべて図から削除されますが、それが表している関係はモデル内に残ります。 リレーションシップを表示することができます**UML モデル エクスプ ローラー** **リレーションシップ**、接続されている各要素の下。  
  
#### <a name="to-delete-an-element-from-the-model"></a>モデルから要素を削除するには  
  
-   いずれかの要素を右クリックしてで**UML モデル エクスプ ローラー**またはクリックして、ダイアグラム**モデルから削除**します。  
  
    -   要素は、表示されていたすべての図から削除されます。  
  
    -   この要素に接続されている関係もすべてモデルから削除されます。  
  
#### <a name="to-delete-a-relationship-from-the-model"></a>モデルから関係を削除するには  
  
-   リレーションシップ、図または右クリック**UML モデル エクスプ ローラー**、 をクリックし、**モデルから削除**します。  
  
    > [!CAUTION]
    >  関係をモデルからは削除せずに図からのみ削除することはできません。  
  
     関係がモデルから削除され、それが表示されていたすべての図からも削除されます。  
  
##  <a name="presentation"></a> 図のプレゼンテーションの準備  
 次に示す機能は、図の特定のパーツを強調する場合や、説明を追加する場合、または 1 つの図を複数の関心領域に分割する場合に役立ちます。  
  
-   図の任意のパーツを Word や PowerPoint などのドキュメントにコピーできます。 図形とコネクタを右クリックしをクリックする選択**コピー**します。  
  
-   任意のシェイプまたはコネクタの色を変更できます。 1 つまたは複数の図形を選択し、変更、**色**プロパティ。 **[プロパティ]** ウィンドウが表示されない場合は、**F4** キーを押します。  
  
-   一部の種類の図は、線、四角形およびから省略記号を描画することができます、**単純なシェイプ**ツールボックスのセクション。 これらのシェイプは UML モデルの一部を形成するものではありません。  
  
-   領域、ラベル、コメントをツールボックスからドラッグし、設定し、その**Transparent**プロパティを**True**します。 単純なシェイプと同様に、コメントは UML モデルの一部を形成するものではないため、UML モデル エクスプローラーには表示されません。  
  
-   モデル要素にメモおよび説明を追加するには、コメントを作成し、要素にリンクします。  
  
-   図で列または行の形をきれいに整列させるために、[図形の整列] コマンドをインストールできます。 これは、サンプル UML 拡張機能として使用できます: [UML: Command to Align Shapes](http://code.msdn.microsoft.com/UML-command-to-Align-4139c0d7)  
  
### <a name="to-export-a-diagram-as-an-image"></a>ダイアグラムをイメージとしてエクスポートするには  
 詳細については、次を参照してください。[ダイアグラムをイメージとしてエクスポート](../modeling/export-diagrams-as-images.md)します。  
  
##  <a name="extensions"></a> UML デザイナーの拡張  
 UML ツールに新しい機能を追加し、各自のニーズに合わせてダイアグラムの表記を調整できます。 詳細については、次を参照してください。 [UML を拡張モデルと図](../modeling/extend-uml-models-and-diagrams.md)します。  
  
 サンプル拡張機能をご利用いただけます。 単にインストールして使用することも、独自の拡張機能の基礎としてソース コードを使用することもできます。 サンプルには以下のものが含まれています。  
  
|||  
|-|-|  
|[図形を整理します。](http://code.msdn.microsoft.com/UML-command-to-Align-4139c0d7)|図を整頓するのに役立つメニュー コマンド。|  
|[Docs へのリンクします。](http://code.msdn.microsoft.com/Link-UML-elements-to-0adbf5a8)|任意の UML 要素を、Word の見出し、PowerPoint のスライド、任意の種類のファイル、UML 図、その他の要素にリンクします。 リンクはドラッグして簡単に設定できます。 設定後に要素をダブルクリックすると、リンクされた項目を表示できます。 たとえば、Word で作成した仕様書や詳細なアクティビティ図にユース ケースをリンクしたり、アクションをストーリーボードのスライドにリンクしたりできます。|  
|[迅速な入力](http://code.msdn.microsoft.com/UML-Rapid-Entry-using-Text-0813ad8a)|テキスト入力を使用してモデルをすばやく作成します。 会議でアイデアをキャプチャするのに役立ちます。|  
|[ステレオタイプ別の色します。](http://code.msdn.microsoft.com/UML-Color-Classes-by-07de2b70)|クラスをステレオタイプに従って色付けします。 簡単にコードを拡張して独自のステレオタイプで活用できます。|  
|[ドメイン モデリング](http://code.msdn.microsoft.com/UML-Domain-Modeling-6df6f7f4)|ビジネス モデルとして便利な既定値です。 既定では、関連は矢印を使用せずに表示され、操作はクラスに表示されません。|  
  
## <a name="see-also"></a>関連項目  
 [UML モデリング プロジェクトおよびダイアグラムを作成します。](../modeling/create-uml-modeling-projects-and-diagrams.md)   
 [分析およびアーキテクチャのモデリング](../modeling/analyze-and-model-your-architecture.md)   
 [アプリのモデルを生成する](../modeling/create-models-for-your-app.md)



