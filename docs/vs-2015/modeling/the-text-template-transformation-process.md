---
title: テキスト テンプレート変換プロセス |Microsoft Docs
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-tfs-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- text templates, transformation process
ms.assetid: 80b3f0e0-49e7-4865-a1ac-dba068abe96b
caps.latest.revision: 32
author: gewarren
ms.author: gewarren
manager: douge
ms.openlocfilehash: 146d391cc843291b79dc34af29851cfed4c80a46
ms.sourcegitcommit: 9ceaf69568d61023868ced59108ae4dd46f720ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/12/2018
ms.locfileid: "49203776"
---
# <a name="the-text-template-transformation-process"></a>テキスト テンプレート変換プロセス
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

テキスト テンプレート変換プロセスは、入力としてのテキスト テンプレート ファイルを受け取り、出力として新しいテキスト ファイルを生成します。 たとえば、Visual Basic または c# のコードを生成するテキスト テンプレートを使用することができます。 または html 形式のレポートを生成することができます。  
  
 3 つのコンポーネントは、このプロセスに参加: エンジン、ホスト、およびディレクティブ プロセッサ。 エンジン制御プロセスです。出力ファイルを生成するために、ホストとディレクティブ プロセッサとやり取りします。 ホストは、ファイルとアセンブリの検索など、環境との対話を提供します。 ディレクティブ プロセッサは、XML ファイルまたはデータベースからデータを読み取るなどの機能を追加します。  
  
 テキスト テンプレート変換プロセスは、2 つの手順で実行されます。 最初に、エンジンは、生成された変換クラスと呼ばれる一時的なクラスを作成します。 このクラスには、コントロール ブロックとディレクティブによって生成されるコードが含まれています。 その後は、エンジンは、コンパイルして、出力ファイルを生成するために生成された変換クラスを実行します。  
  
## <a name="components"></a>コンポーネント  
  
|コンポーネント|説明|カスタマイズ可能な (はい/いいえ)|  
|---------------|-----------------|------------------------------|  
|エンジン|テキスト テンプレート変換プロセスを制御するエンジン コンポーネント|いいえ。|  
|ホスト|ホストは、エンジンと、ユーザーの環境間のインターフェイスです。 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] テキスト変換プロセスのホストです。|はい。 カスタム ホストを記述することができます。|  
|ディレクティブ プロセッサ|ディレクティブ プロセッサは、テキスト テンプレートのディレクティブを処理するクラスです。 ディレクティブを使用して、テキスト テンプレートへの入力ソースからデータを提供することができます。|はい。 カスタム ディレクティブ プロセッサを記述することができます。|  
  
## <a name="the-engine"></a>エンジン  
 エンジンは、変換プロセスで使用されているすべてのファイルを処理すると、ホストからの文字列としてテンプレートを受け取ります。 エンジンは、任意のカスタム ディレクティブ プロセッサや他のさまざまな環境を検索するホストを要求します。 エンジンは、コンパイルし、生成された変換クラスを実行します。 エンジンは、ホストは、通常、テキストをファイルに保存する、生成されたテキストを返します。  
  
## <a name="the-host"></a>ホスト  
 ホストが、次を含む、変換プロセスの外部の環境に関係する責任を負います。  
  
-   テキストと、エンジンまたはディレクティブ プロセッサによって要求されたバイナリ ファイルを検索しています。 ディレクトリとグローバル アセンブリ キャッシュのアセンブリを探し、ホストを検索できます。 ホストは、エンジンのカスタム ディレクティブ プロセッサのコードを検索できます。 ホストも検索しテキスト ファイルを読み取り、内容を文字列として返します。  
  
-   標準のアセンブリと、エンジンによって生成された変換クラスを作成するために使用する名前空間の一覧が提供されます。  
  
-   エンジンのコンパイルし、生成された変換クラスを実行するときに使用されるアプリケーション ドメインを提供します。 個別のアプリケーション ドメインは、テンプレート コードのエラーからホスト アプリケーションを保護するために使用されます。  
  
-   生成された出力ファイルを作成します。  
  
-   生成された出力ファイルの既定の拡張機能を設定します。  
  
-   テキスト テンプレート変換のエラーを処理します。 たとえば、ホストは、ユーザー インターフェイスでのエラーが表示またはファイルへの書き込み。 (で[!INCLUDE[vsprvs](../includes/vsprvs-md.md)]エラー、エラー メッセージ ウィンドウに表示されます)。  
  
-   ユーザーが値を指定せず、ディレクティブを呼び出された場合は、必須パラメーターの値を提供します。 ディレクティブ プロセッサがディレクティブとパラメーターの名前を指定し、いずれかがある場合は、既定値を提供するホストを確認できます。  
  
## <a name="directives-and-directive-processors"></a>ディレクティブとディレクティブ プロセッサ  
 ディレクティブは、テキスト テンプレートでコマンドです。 生成プロセスに渡すパラメーターを提供します。 通常、ディレクティブは、ソースと種類のモデルまたは他の入力と出力ファイルのファイル名拡張子を定義します。  
  
 ディレクティブ プロセッサは、1 つまたは複数のディレクティブを処理できます。 テンプレートを変換するときは、テンプレートのディレクティブを扱うことができるディレクティブ プロセッサをインストールする必要があります。  
  
 ディレクティブは、生成された変換クラスにコードを追加することによって機能します。 ディレクティブは、生成された変換クラスを作成するときに、テキスト テンプレートと、エンジンは、ディレクティブのすべての呼び出しから呼び出します。 ディレクティブを正常に呼び出した後、テキスト テンプレートに記述するコードの残りの部分は、ディレクティブが提供する機能を利用できます。 たとえば、次の呼び出しを行うことができます、`import`テンプレートのディレクティブ。  
  
 `<#@ import namespace="System.Text" #>`  
  
 標準のディレクティブ プロセッサでは、これに変換します、`using`生成された変換クラス内のステートメント。 使用することができますし、`StringBuilder`として修飾しなくても、テンプレート コードの残りの部分でクラス`System.Text.StringBuilder`します。



