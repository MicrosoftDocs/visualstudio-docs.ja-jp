---
title: UML シーケンス図のフラグメントを使用した制御フローを説明 |Microsoft Docs
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-tfs-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- vs.teamarch.sequencediagram.combinedfragment.interactionoperand
- vs.teamarch.sequencediagram.combinedfragment
helpviewer_keywords:
- UML sequence diagrams, control flow
- UML sequence diagrams, fragments
- sequence diagrams, fragments
- sequence diagrams, control flow
ms.assetid: efcc0949-be7e-4cf4-99ef-47c36b3803ae
caps.latest.revision: 17
author: gewarren
ms.author: gewarren
manager: douge
ms.openlocfilehash: 4ab4c65e554e9eef75a1761719ce19f3312e07ce
ms.sourcegitcommit: af428c7ccd007e668ec0dd8697c88fc5d8bca1e2
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/16/2018
ms.locfileid: "51727646"
---
# <a name="describe-control-flow-with-fragments-on-uml-sequence-diagrams"></a>UML シーケンス図のフラグメントを使用した制御フローの記述
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

UML シーケンス図では、 *結合フラグメント* を使用して、ループ、分岐、およびその他のオルタナティブを表示できます。  
  
 結合フラグメントは、1 つまたは複数の *相互作用オペランド*で構成されます。そのそれぞれには、1 つまたは複数のメッセージ、相互作用使用、または結合フラグメントが含まれます。  
  
> [!NOTE]
>  このトピックでは、シーケンス図におけるフラグメントについて説明します。 UML シーケンス図を読み取る方法の詳細については、[UML シーケンス図: リファレンス](../modeling/uml-sequence-diagrams-reference.md)を参照してください。 UML アクティビティ図を描画する方法の詳細については、「 [UML Sequence Diagrams: Guidelines](../modeling/uml-sequence-diagrams-guidelines.md)」を参照してください。  
  
 ![結合フラグメントでは 2 つの相互作用オペランドを](../modeling/media/uml-seqfragments.png "UML_SeqFragments")  
  
 図に示されている要素は、次のとおりです。  
  
1.  結合フラグメント。 結合フラグメントにはいくつかの種類があります。 この例に示されているのは、メッセージのオルタナティブ シーケンスを発生させられることを示すオルタナティブ結合フラグメントです。  
  
2.  相互作用オペランド。 すべての結合フラグメントには、メッセージ、相互作用使用、およびより小さな結合フラグメントを含むことができる 1 つ以上の相互作用オペランドが含まれています。 この例のオルタナティブ結合フラグメントには、メッセージの 2 つのオルタナティブ シーケンスを示す 2 つの相互作用操作があります。  
  
3.  各相互作用オペランド。その内部をクリックすることで別個に選択できます。 この例では、上部の相互作用オペランドが選択されているので、境界が表示されています。 通常は、相互作用オペランド間の区切り線のみが表示されます。  
  
    > [!NOTE]
    >  上部の相互作用オペランドを選択する場合、結合フラグメントの最上部に近い場所をクリックしないでください。  
  
4.  ガード。 それぞれの相互作用オペランドにガードを設定できます。 ガードは、相互作用オペランド内のメッセージが実行される条件を記述します。  
  
## <a name="creating-combined-fragments"></a>結合フラグメントの作成  
 作成できるフラグメントの一覧については、「 [結合フラグメントの種類](#KindsOfFragment)」を参照してください。  
  
#### <a name="to-create-a-combined-fragment"></a>結合フラグメントを作成するには  
  
1. 1 つのメッセージを選択するか、またはすべて同じ生存線または実行発生で開始されるメッセージのシーケンスを選択します。  
  
   > [!NOTE]
   >  複数のメッセージを選択する場合、メッセージは中断のないシーケンスを構成している必要があります。  
  
2. いずれかのメッセージを右クリックし、 **[ブロックの挿入]** をポイントします。次に、必要な種類の結合フラグメント (たとえば、 **オルタナティブ結合フラグメント**) をクリックします。  
  
    新しい結合フラグメントが表示されます。 見出しは、選択した結合フラグメントの種類 (たとえば、 **Alt**) を示します。  
  
    結合フラグメントの内部には、選択したメッセージを含んだフラグメントがあります。  
  
   一部の種類の結合フラグメントには、さらに多くの相互作用オペランドを追加できます。  
  
   結合フラグメント内でメッセージを再配置した後は、ショートカット メニューの **[レイアウトの再配置]** を選択して、結合フラグメント フレームのサイズを変更します。  
  
#### <a name="to-add-a-new-interaction-operand-to-a-combined-fragment"></a>新しい相互作用オペランドを結合フラグメントに追加するには  
  
1. 相互作用オペランド (2) 内で、含まれているフラグメントの外側の、結合フラグメントの見出しの下の空白スペースを右クリックします。  
  
2. **[追加]** をポイントします。  
  
3. **[相互作用オペランドを前置]** または **[相互作用オペランドを後置]** をクリックします。  
  
4. メッセージ ツールを使用するか、または既存のメッセージをコピーして貼り付けることによって、新しい相互作用オペランド内にメッセージを追加できます。  
  
   相互作用オペランドの **Guard** プロパティを設定して、相互作用オペランド内のメッセージを実行する条件を記述できます。 たとえば、 **Loop** 結合フラグメント内では、ガードを使用して、ループが続行される条件を指定できます。 **Alt** 結合フラグメントでは、それぞれの相互作用オペランドに対して別個の条件を指定できます。  
  
#### <a name="to-set-the-guard-of-an-interaction-operand"></a>相互作用オペランドのガードを設定するには  
  
1. 相互作用オペランド (2) 内で、含まれているフラグメントの外側の空白スペースを右クリックします。  
  
    相互作用オペランドとガード条件の周囲に選択境界線が表示されます。  
  
    **[プロパティ]** ウィンドウの見出しに **[相互作用オペランド]** と表示されます。  
  
2. ガード条件を入力します。  
  
    条件がフラグメント (4) の最上部付近に表示されます。  
  
   一部の種類の結合フラグメントに対してプロパティを設定できます。  
  
#### <a name="to-set-or-view-the-properties-of-a-combined-fragment"></a>結合フラグメントのプロパティを設定または表示するには  
  
-   結合フラグメントのタイトルを右クリックし、 **[プロパティ]** をクリックします。  
  
    > [!NOTE]
    >  結合フラグメントの種類が異なると、プロパティも異なります。  
  
##  <a name="KindsOfFragment"></a> 結合フラグメントの種類  
  
### <a name="fragments-describing-control-flow"></a>制御フローを記述するフラグメント  
 単純なシーケンス図は、1 つの一般的なシーケンスのみを表示します。 次の種類の結合フラグメントを使用すると、さまざまな状況で発生する可能性があるバリエーションを記述できます。  
  
|フラグメントの種類|説明|  
|-------------------|-----------------|  
|**オプトイン**|任意。 場合によっては発生するシーケンスを囲みます。 ガード内に、このシーケンスが発生する条件を指定できます。|  
|**Alt**|メッセージのオルタナティブ シーケンスを含んだフラグメントの一覧が入ります。 どのような場合でも発生するシーケンスは 1 つのみです。<br /><br /> 各フラグメントにガードを設定して、シーケンスが実行される条件を示すことができます。 ガード **else** は、他に true のガードがない場合に実行する必要があるフラグメントを示します。 すべてのガードが false で、かつ **else**がない場合、いずれのフラグメントも実行されません。|  
|**Loop**|フラグメントは複数回繰り返して実行されます。 ガード内に、繰り返しが発生する条件を示すことができます。<br /><br /> ループ結合フラグメントには、フラグメントを実行する最小回数と最大回数を示す **Min** と **Max**のプロパティが用意されています。 既定では、制限はありません。|  
|**Break**|このフラグメントを実行した場合、シーケンスの残りの部分は破棄されます。 ガードを使用して、中断が発生する条件を示すことができます。|  
|**Par**|パラレル。 フラグメントのイベントをインタリーブできます。|  
|**重要です**|パラレル フラグメントまたはシーケンス フラグメント内で使用します。 このフラグメント内のメッセージを他のメッセージとインタリーブしないことを示します。|  
|**seq**|複数のオペランド フラグメントがあります。 同じ生存線を使用する各メッセージは、フラグメントの順に発生する必要があります。 同じ生存線を使用しない場合、異なるフラグメントのメッセージをパラレルにインタリーブできます。|  
|**Strict**|複数のオペランド フラグメントがあります。 フラグメントは、指定された順に発生する必要があります。|  
  
### <a name="fragments-about-how-to-interpret-the-sequence"></a>シーケンスの解釈方法に関するフラグメント  
 シーケンス図は、発生する一連のメッセージを既定で示します。 実行中のシステムでは、図への表示を選択していない他のメッセージが発生することがあります。  
  
 次のフラグメントの種類を使用して、この解釈を変更できます。  
  
|フラグメントの種類|説明|  
|-------------------|-----------------|  
|**検討してください。**|このフラグメントで記述するメッセージのリストを指定します。 他のメッセージが実行中のシステムで発生することがありますが、この記述の目的にとっては重要ではありません。<br /><br /> **Messages** プロパティにリストを入力します。|  
|**無視します。**|このフラグメントで記述しないメッセージの一覧。 これらのメッセージが実行中のシステムで発生することがありますが、この記述の目的にとっては重要ではありません。<br /><br /> **Messages** プロパティにリストを入力します。|  
|**Assert**|オペランド フラグメントは、有効なシーケンスのみを指定します。 通常は、Consider フラグメントまたは Ignore フラグメント内で使用します。|  
|**neg**|このフラグメントに示されたシーケンスが発生しないことを示します。 通常は、Consider フラグメントまたは Ignore フラグメント内で使用します。|  
  
## <a name="see-also"></a>関連項目  
 [UML シーケンス図: ガイドライン](../modeling/uml-sequence-diagrams-guidelines.md)   
 [UML シーケンス図: リファレンス](../modeling/uml-sequence-diagrams-reference.md)   
 [UML モデルおよびダイアグラムの編集](../modeling/edit-uml-models-and-diagrams.md)



