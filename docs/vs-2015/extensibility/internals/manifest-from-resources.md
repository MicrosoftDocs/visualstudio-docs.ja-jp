---
title: Manifest from Resources |Microsoft Docs
ms.date: 11/15/2016
ms.topic: conceptual
ms.assetid: 0234109b-5dcb-4d9d-acb9-a63f8bd5699c
caps.latest.revision: 5
ms.author: gregvanl
manager: jillfra
ms.openlocfilehash: 4827402b63eadf517f031b04b7c7cf2fe8a4f56b
ms.sourcegitcommit: b885f26e015d03eafe7c885040644a52bb071fae
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/30/2020
ms.locfileid: "85537099"
---
# <a name="manifest-from-resources"></a>リソースからのマニフェスト
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

Manifest from Resources ツールは、イメージリソース (.png または .xaml ファイル) の一覧を取得し、それらのイメージを Visual Studio Image Service と共に使用できるようにする imagemanifest ファイルを生成するコンソールアプリケーションです。 また、このツールを使用して、既存の imagemanifest にイメージを追加することもできます。 このツールは、イメージの高 DPI およびテーマサポートを Visual Studio 拡張機能に追加する場合に便利です。 生成された imagemanifest ファイルは、Visual Studio 拡張機能 (.vsix) の一部としてに含まれ、配置される必要があります。  
  
## <a name="how-to-use-the-tool"></a>ツールの使用方法  
 **構文**  
  
 ManifestFromResources/resources: \<Dir1> ; \<Img1> /assembly: \<AssemblyName>\<Optional Args>  
  
 **引数**  
  
|**スイッチ名**|**ノート**|**必須またはオプション**|  
|-|-|-|  
|/リソース|セミコロンで区切られたイメージまたはディレクトリのリスト。 この一覧には、マニフェストに含まれるイメージの完全な一覧が必ず含まれている必要があります。 部分的なリストだけを指定した場合、含まれていないエントリは失われます。<br /><br /> 指定されたリソースファイルがイメージストリップである場合は、各サブイメージをマニフェストに追加する前に、ツールによって個別のイメージに分割されます。<br /><br /> 画像が .png ファイルの場合は、次のように名前を設定して、ツールがイメージの適切な属性を入力できるようにすることをお \<Name> 勧めします \<Width> 。 \<Height>.png.|必須|  
|/assembly|マネージアセンブリの名前 (拡張子を含まない)、またはリソースをホストするネイティブアセンブリのランタイムパス (マニフェストのランタイムの場所を基準とします)。|必須|  
|/manifest|生成された imagemanifest ファイルに付ける名前。 これには、ファイルを別の場所に作成するための絶対パスまたは相対パスを含めることもできます。 既定の名前は、アセンブリ名と一致します。<br /><br /> 既定値: \<Current Directory> \\<\> imagemanifest|オプション|  
|/guidname|生成されたマニフェスト内のすべてのイメージの GUID シンボルに付ける名前。<br /><br /> 既定値: Asセット Guid|オプション|  
|/rootpath|マネージリソース Uri を作成する前に削除する必要があるルートパス。 (このフラグは、相対 URI パスが正しく取得されず、リソースの読み込みに失敗した場合に役立ちます)。<br /><br /> 既定値: \<Current Directory>|オプション|  
|/recursive|このフラグを設定すると、/resources 引数内のディレクトリを再帰的に検索するようにツールに指示します。 このフラグを省略すると、ディレクトリの最上位レベルの検索が行われます。|オプション|  
|/isnative|アセンブリ引数がネイティブアセンブリのパスである場合は、このフラグを設定します。 アセンブリ引数がマネージアセンブリの名前である場合は、このフラグを省略します。 (このフラグの詳細については、「メモ」を参照してください)。|オプション|  
|/newguid|このフラグを設定すると、既存のマニフェストにあるものをマージするのではなく、イメージの GUID シンボルに新しい値を作成するようにツールに指示します。|オプション|  
|/newIds|このフラグを設定すると、既存のマニフェストから値をマージするのではなく、すべてのイメージに対して新しい ID シンボル値を作成するようにツールに指示します。|オプション|  
|/noLogo|このフラグを設定すると、製品および著作権情報は印刷されなくなります。|オプション|  
|/?|ヘルプ情報を印刷します。|オプション|  
|/help|ヘルプ情報を印刷します。|オプション|  
  
 **例**  
  
- ManifestFromResources/resources: D:\Images/assembly: My. アセンブリ名/isnative  
  
- ManifestFromResources/resources:D:\Images\Image1.png;D: MyImageManifest/manifest: imagemanifest/manifest: 名前/マニフェストの名前を指定します。  
  
- ManifestFromResources/resources:D:\Images\Image1.png;D: \ imag? image1 xaml/assembly:/newIds/guidname: MyImages/newguid  
  
## <a name="notes"></a>メモ  
  
- このツールでは、.png ファイルと .xaml ファイルのみがサポートされます。 その他のイメージまたはファイルの種類は無視されます。 リソースの解析中に検出された、サポートされていないすべての型に対して警告が生成されます。 ツールがリソースの解析を完了したときにサポートされているイメージが見つからない場合は、エラーが生成されます。  
  
- Png 画像に対して推奨される形式に従うことで、画像の実際のサイズと異なる場合でも、.png のサイズと次元の値が、形式指定のサイズに設定されます。  
  
- .Png 画像では幅/高さの形式を省略できますが、このツールでは画像の実際の幅と高さを読み取り、画像のサイズ/ディメンション値に使用します。  
  
- 同じイメージでこのツールを実行すると、同じ imagemanifest に対して複数回削除されます。このツールでは、イメージストリップをスタンドアロンイメージに分割し、既存のマニフェストに追加しようとするため、マニフェストエントリが重複します。  
  
- マージ (/newguid または/newIds の省略) は、ツールで生成されたマニフェストに対してのみ実行する必要があります。 他の方法でカスタマイズまたは生成されたマニフェストは、正しくマージされない可能性があります。  
  
- ネイティブアセンブリ用に生成されるマニフェストは、ID シンボルがネイティブアセンブリの .rc ファイルのリソース Id と一致するように、生成後に手動で編集する必要がある場合があります。  
  
## <a name="sample-output"></a>出力例  
 **単純なイメージマニフェスト**  
  
 イメージマニフェストは、次の .xml ファイルに似ています。  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<!-- This file was generated by the ManifestFromResources tool.-->  
<!-- Version: 14.0.15197 -->  
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">  
  <Symbols>  
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/Images" />  
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />  
    <ID Name="MyImage" Value="0" />  
  </Symbols>  
  <Images>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImage)">  
      <Source Uri="$(Resources)/Xaml/MyImage.xaml" />  
      <Source Uri="$(Resources)/Png/MyImage.16.16.png">  
        <Size Value="16" />  
      </Source>  
    </Image>  
  </Images>  
  <ImageLists />  
</ImageManifest>  
```  
  
 **イメージストリップのイメージマニフェスト**  
  
 イメージストリップのイメージマニフェストは、次の .xml ファイルに似ています。  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<!-- This file was generated by the ManifestFromResources tool.-->  
<!-- Version: 14.0.15197 -->  
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">  
  <Symbols>  
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/ImageStrip" />  
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />  
    <ID Name="MyImageStrip_0" Value="1" />  
    <ID Name="MyImageStrip_1" Value="2" />  
    <ID Name="MyImageStrip" Value="3" />  
  </Symbols>  
  <Images>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)">  
      <Source Uri="$(Resources)/MyImageStrip_0.png">  
        <Size Value="16" />  
      </Source>  
    </Image>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)">  
      <Source Uri="$(Resources)/MyImageStrip_1.png">  
        <Size Value="16" />  
      </Source>  
    </Image>  
  </Images>  
  <ImageLists>  
    <ImageList Guid="$(AssetsGuid)" ID="$(MyImageStrip)">  
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)" />  
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)" />  
    </ImageList>  
  </ImageLists>  
</ImageManifest>  
```  
  
 **ネイティブアセンブリイメージリソースのイメージマニフェスト**  
  
 ネイティブイメージのイメージマニフェストは、次の .xml ファイルに似ています。  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<!-- This file was generated by the ManifestFromResources tool.-->  
<!-- Version: 14.0.15198 -->  
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">  
  <Symbols>  
    <String Name="Resources" Value="..\Assembly\Folder\My.Assembly.Name" />  
    <Guid Name="AssetsGuid" Value="{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}" />  
    <ID Name="MyImage1" Value="0" />  
    <ID Name="MyImage2" Value="1" />  
  </Symbols>  
  <Images>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImage1)">  
      <Source Uri="$(Resources)">  
        <Size Value="16" />  
        <NativeResource ID="$(MyImage1)" Type="PNG" />  
      </Source>  
    </Image>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImage2)">  
      <Source Uri="$(Resources)">  
        <Size Value="16" />  
        <NativeResource ID="$(MyImage2)" Type="PNG" />  
      </Source>  
    </Image>  
  </Images>  
  <ImageLists />  
</ImageManifest>  
```
