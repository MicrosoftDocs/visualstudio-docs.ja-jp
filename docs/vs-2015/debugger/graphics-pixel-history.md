---
title: グラフィックス ピクセル履歴 |Microsoft Docs
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- vs.graphics.pixelhistory
ms.assetid: 0a2cbde5-1ad9-487e-857c-a3664158c268
caps.latest.revision: 17
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 9ac64d352bfb6d6a35ea1bd9027d30f527aab116
ms.sourcegitcommit: 9ceaf69568d61023868ced59108ae4dd46f720ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/12/2018
ms.locfileid: "49208365"
---
# <a name="graphics-pixel-history"></a>グラフィックス ピクセル履歴
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Visual Studio Graphics Analyzer の [ピクセル履歴] ウィンドウでは、特定のピクセルが、ゲームまたはアプリのフレームの生成中に発生する Direct3D イベントによってどのように影響を受けるかを理解できます。  
  
 [ピクセル履歴] ウィンドウを次に示します。  
  
 ![その履歴に次の 3 つの Direct3D イベントがあるピクセル。](../debugger/media/gfx-diag-demo-pixel-history-orientation.png "gfx_diag_demo_pixel_history_orientation")  
  
## <a name="understanding-the-pixel-history-window"></a>[ピクセル履歴] ウィンドウについて  
 [ピクセル履歴] を使用すると、レンダー ターゲットの特定のピクセルが、特定のフレームの処理で Direct3D イベントの影響をどのように受けたかを分析できます。 ピクセルの最終的なカラー値が、後続のイベントまたは同じイベント内の後続のプリミティブによって変更された場合でも、レンダリングに関する問題の発生元である Direct3D イベントを正確に特定できます。 たとえば、ピクセルが正しくレンダリングされず、その色がフレームバッファー内で別の半透明ピクセルの色と混ざり合うことによって、あいまいになる場合があります。 レンダー ターゲットの最終的な内容だけを手がかりに、このような問題を診断することは困難です。  
  
 [ピクセル履歴] ウィンドウには、選択したフレームの処理におけるピクセルの完全な履歴が表示されます。 **最終フレーム バッファー**ウィンドウの上部にあることに由来するフレームや画面ピクセルに関する追加情報と共に、フレームの末尾にフレーム バッファーに書き込まれる色を表示します。調整します。 この領域には、**アルファの描画**チェック ボックスをオンします。 このチェック ボックスがオンの場合、**最終フレーム バッファー**色と中間の色の値が表示されます透過性チェッカー ボード パターン。 このチェック ボックスがオフの場合、カラー値のアルファ チャネルは無視されます。  
  
 ウィンドウの下部には、と共に、ピクセルの色に影響を与える可能性のあるイベントが表示されます、**初期**と**最終**の最初と最後の色の値を表す擬似イベントピクセルをフレーム バッファー。 初期カラー値は、ピクセルの色を変更した最初のイベントによって決定されます (通常は `Clear` イベント)。 ピクセル履歴には、他のイベントがそのピクセルに影響を与えなかった場合でも、これら 2 つの擬似イベントが常に含まれます。 ピクセルに影響を与える可能性があるその他のイベントの間で表示されます、**初期**と**最終的な**イベント。 イベントを展開すると、それらの詳細を表示できます。 レンダー ターゲットをクリアするイベントなど、単純なイベントが影響を与えるのはカラー値だけです。 描画呼び出しなどのより複雑なイベントは、ピクセルの色に影響を与える可能性がある、1 つ以上のプリミティブを生成します。  
  
 イベントによって描画されたプリミティブは、それらのプリミティブ型とインデックス、およびオブジェクトの合計プリミティブ数によって識別されます。 などのような識別子**三角形 (1456)/(6214)** プリミティブが 6214 三角形で構成されるオブジェクトの 1456th 三角形に対応することを意味します。 各プリミティブ識別子の左側には、プリミティブがピクセルに与えた影響を要約するアイコンが表示されます。 ピクセルの色に影響を与えるプリミティブは、結果の色で塗りつぶされた角丸四角形で表されます。 ピクセルの色に影響を与えるプリミティブから除外されるプリミティブは、そのピクセルが除外された理由を示すアイコンで表されます。 これらのアイコンが、セクションで説明されている[プリミティブの除外](../debugger/graphics-pixel-history.md#exclusion)この記事で後述します。  
  
 各プリミティブを展開すると、ピクセル シェーダーの出力が、どのように既存のピクセルの色にマージされ、結果の色が作成されたかを調べることができます。 ここでは、プリミティブに関連付けられているピクセル シェーダーのコードを確認またはデバッグしたり、頂点シェーダー ノードをさらに展開して、頂点シェーダーの入力を確認したりすることもできます。  
  
###  <a name="exclusion"></a> プリミティブの除外  
 プリミティブがピクセルの色に影響を与えるプリミティブから除外される場合、その除外の理由はさまざまです。 それぞれの理由は、次の表に記載されているアイコンで表されます。  
  
|アイコン|除外の理由|  
|----------|--------------------------|  
|![深度テスト エラーのアイコン。](../debugger/media/vsg-hist-icon-failed-depth.png "vsg_hist_icon_failed_depth")|ピクセルは深度テストに失敗したため除外されました。|  
|![ハサミ テスト エラーのアイコン。](../debugger/media/vsg-hist-icon-failed-scissor.png "vsg_hist_icon_failed_scissor")|ピクセルはハサミ テストに失敗したため除外されました。|  
|![ステンシル テスト エラーのアイコン。](../debugger/media/vsg-hist-icon-failed-stencil.png "vsg_hist_icon_failed_stencil")|ピクセルはステンシル テストに失敗したため除外されました。|  
  
### <a name="draw-call-exclusion"></a>描画呼び出しの除外  
 描画呼び出し内のすべてのプリミティブが、テストに失敗したことが原因で、レンダー ターゲットに影響を与えるプリミティブから除外された場合、その描画呼び出しは展開できず、除外の理由に対応するアイコンが、描画呼び出しの横に表示されます。 描画呼び出しの除外の理由は、プリミティブの除外の理由と似ており、そのアイコンも似ています。  
  
### <a name="viewing-and-debugging-shader-code"></a>シェーダー コードの表示およびデバッグ  
 シェーダーに関連付けられたプリミティブの下にあるコントロールを使用して、頂点、ハル、ドメイン、ジオメトリ、およびピクセルの各シェーダーのコードをデバッグできます。  
  
##### <a name="to-view-a-shaders-source-code"></a>シェーダーのソース コードを表示するには  
  
1.  **グラフィックス ピクセル履歴**ウィンドウで、シェーダーに対応する描画呼び出しを見つけを調べて、それを展開します。  
  
2.  展開した描画呼び出しの下で、該当する問題を示しているプリミティブを選択して展開します。  
  
3.  関心があるプリミティブの下には、シェーダー タイトル リンクをご覧ください。 — たとえば、次のリンク**頂点シェーダー obj:30**頂点シェーダーのソース コードを表示します。  
  
    > [!TIP]
    >  オブジェクト番号**obj:30**、オブジェクト テーブルやパイプライン ステージ ウィンドウなどの Graphics Analyzer インターフェイス全体でこのシェーダーを識別します。  
  
##### <a name="to-debug-a-shader"></a>シェーダーをデバッグするには  
  
1.  **グラフィックス ピクセル履歴**ウィンドウで、シェーダーに対応する描画呼び出しを見つけを調べて、それを展開します。  
  
2.  次に、展開した描画呼び出しの下で、該当する問題を示しているプリミティブを選択して展開します。  
  
3.  関心があるプリミティブの下にある選択**デバッグの開始**します。 HLSL デバッガーへのこのエントリ ポイントは、既定で、対応するプリミティブに対するシェーダーの最初の呼び出しに設定されます。つまり、このシェーダーによって処理される最初のピクセルまたは頂点です。 プリミティブに関連付けられるピクセルは 1 つだけですが、直線や三角形に対しては複数の頂点シェーダーが呼び出されます。  
  
     特定の頂点に対する頂点シェーダーの呼び出しをデバッグし、VertexShader タイトル リンクを展開し、関心がある頂点の検索を選択し、**デバッグの開始**その横にあります。  
  
### <a name="links-to-graphics-objects"></a>グラフィックス オブジェクトへのリンク  
 ピクセル履歴のグラフィック イベントについて理解するために、イベントの発生時点におけるデバイスの状態や、そのイベントで参照されている Direct3D オブジェクトに関する情報が必要になる場合があります。 ピクセル履歴内の各イベントの**グラフィックス ピクセル履歴**その時点のデバイスへのリンクの状態と関連オブジェクトを提供します。  
  
## <a name="see-also"></a>関連項目  
 [チュートリアル: デバイス状態によるオブジェクトの不足](../debugger/walkthrough-missing-objects-due-to-device-state.md)   
 [チュートリアル: 網かけによるレンダリング エラーのデバッグ](../debugger/walkthrough-debugging-rendering-errors-due-to-shading.md)



