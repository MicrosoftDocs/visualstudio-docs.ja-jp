---
title: C++ コードの使用 (クラス デザイナー)
ms.date: 06/21/2017
ms.topic: conceptual
f1_keywords:
- vs.classdesigner.cpplimitation
helpviewer_keywords:
- C++, Class Designer
- Class Designer, C++ support
- Class Designer, limitations
- Class Designer, tasks in C++
- C++, class diagrams
- C++, class diagrams
- C++, Class Designer
ms.assetid: f5b40921-2ef7-4de0-b595-45b44c79ffa6
author: jillre
ms.author: jillfra
manager: jillfra
ms.workload:
- cplusplus
ms.openlocfilehash: e59ee1305c0c482686505959aac7187902906086
ms.sourcegitcommit: 5f6ad1cefbcd3d531ce587ad30e684684f4c4d44
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/22/2019
ms.locfileid: "72748898"
---
# <a name="work-with-c-code-in-class-designer"></a>クラス デザイナーでの C++ コードの使用

**クラス デザイナー**は、*クラス ダイアグラム* と呼ばれるビジュアル デザイン サーフェイスを表示します。クラス ダイアグラムは、プロジェクトのコード要素を視覚的に表現するものです。 クラス ダイアグラムを使用して、プロジェクト内のクラスおよびその他の型を設計し、視覚化できます。

**クラス デザイナー**は、次の C++ コード要素をサポートしています。

- クラス (マネージド クラスの図形に似ていますが、複数の継承関係を持つことができるという点が異なります)

- 匿名クラス (クラス ビューが匿名型に対して生成した名前を表示します)

- テンプレート クラス

- 構造体

- Enum

- マクロ (マクロの後処理ビューを表示します)

- Typedef

> [!NOTE]
> これは、モデリング プロジェクトで作成できる UML クラス図と同じではありません。 詳細については、「[UML Class Diagrams:Reference](../../modeling/create-uml-modeling-projects-and-diagrams.md)」(UML クラス図: リファレンス) を参照してください。

## <a name="troubleshoot-type-resolution-and-display-issues"></a>型解決および表示の問題のトラブルシューティング

### <a name="location-of-source-files"></a>ソース ファイルの場所

**クラス デザイナー**は、ソース ファイルの場所を追跡しません。 したがって、プロジェクト構造を変更するか、プロジェクト内でソース ファイルを移動すると、**クラス デザイナー**が型を見失うことがあります (特に typedef のソース型、基本クラス、または関連型の場合)。 **クラス デザイナーはこの型を表示できません**などのエラーが発生することがあります。 エラーが発生した場合は、変更または再配置したソース コードをもう一度クラス ダイアグラムにドラッグして再表示します。

### <a name="update-and-performance-issues"></a>更新およびパフォーマンスの問題

C++ プロジェクトの場合、ソース ファイルでの変更がクラス ダイアグラムに表示されるまでに 30 から 60 秒かかることがあります。 この遅延によって、**クラス デザイナー**で "**選択内で型が見つかりませんでした**" というエラーがスローされることもあります。 このようなエラーが表示された場合は、エラー メッセージで **[キャンセル]** をクリックし、**クラス ビュー**にコード要素が表示されるまで待ちます。 その後、**クラス デザイナー**が型を表示できるようになります。

コードに加えた変更でクラス ダイアグラムが更新されない場合は、ダイアグラムを閉じて、再度開く必要がある場合があります。

### <a name="type-resolution-issues"></a>型解決の問題

**クラス デザイナー**は、次のような理由により、型解決ができない場合があります。

- 型が、クラス ダイアグラムを含むプロジェクトから参照されていないプロジェクトまたはアセンブリ内にあります。 このエラーを修正するには、型を含むプロジェクトまたはアセンブリへの参照を追加します。 詳細については、「[プロジェクト内の参照の管理](../managing-references-in-a-project.md)」を参照してください。

- 型が正しいスコープ内にないため、**クラス デザイナー**が型を見つけられません。 コードに `using` ステートメント、`imports` ステートメント、または `#include` ステートメントが欠落していないことを確認します。 また、型 (または関連する型) を最初に配置した名前空間の外に移動していないことも確認します。

- 型が存在しません (または、コメント アウトされています)。 このエラーを修正するには、型をコメント アウトまたは削除していないことを確認します。

- この型は、#import ディレクティブで参照されるライブラリに含まれます。 生成したコード (.tlh ファイル) をヘッダー ファイルの #include ディレクティブに追加する、という代替手段があります。

- **クラス デザイナー**が、入力した型をサポートしていることを確認します。 「[C++ コード要素の制限事項](#limitations-for-c-code-elements)」を参照してください。

型の解決に関する問題でよく表示されるエラーは、**クラス ダイアグラム '\<要素>' の 1 つ以上のシェイプに対して、コードが見つかりませんでした**です。 このエラー メッセージは、必ずしもコードがエラーであることを意味しません。 クラス デザイナーで、コードを表示できないことだけを示しています。 次の方法を試してください。

- 型がであることを確認します。 誤ってコメント アウトしたり、ソース コードを削除したりしていないことを確認します。

- 型の解決を試みます。 型は、クラス ダイアグラムを含むプロジェクトから参照されていないプロジェクトまたはアセンブリ内にある場合もあります。 このエラーを修正するには、型を含むプロジェクトまたはアセンブリへの参照を追加します。 詳細については、「[プロジェクト内の参照の管理](../managing-references-in-a-project.md)」を参照してください。

- クラス デザイナーが型を検出できるように、型が正しいスコープ内にあることを確認します。 コードに `using` ステートメント、`imports` ステートメント、または `#include` ステートメントが欠落していないことを確認します。 また、型 (または関連する型) を最初に配置した名前空間の外に移動していないことも確認します。

### <a name="troubleshoot-other-error-messages"></a>その他のエラー メッセージのトラブルシューティング

MSDN (Microsoft Developer Network) のパブリック フォーラムでは、エラーや警告のトラブルシューティングに役立つ情報を参照できます。 [Visual Studio クラス デザイナー フォーラム](http://go.microsoft.com/fwlink/?linkid=160754)を参照してください。

## <a name="limitations-for-c-code-elements"></a>C++ コード要素の制限事項

- C++ のプロジェクトがロードされるとき、**クラス デザイナー**は読み取り専用で機能します。 クラス ダイアグラムは変更できますが、クラス ダイアグラムから変更内容をソース コードに保存することはできません。

- **クラス デザイナー**は、ネイティブ C++ セマンティクスのみをサポートします。 マネージド コードにコンパイルされた C++ プロジェクトの場合、**クラス デザイナー**ではネイティブ型のコード要素のみが視覚化されます。 このため、プロジェクトにクラス ダイアグラムを追加することはできますが、**クラス デザイナー**では、`IsManaged` プロパティが `true` に設定されている要素 (つまり、値型および参照型) を視覚化することはできません。

- C++ プロジェクトの場合、**クラス デザイナー**では型の定義のみが読み取られます。 たとえば、ヘッダー (.h) ファイルで型を定義して、実装 (.cpp) ファイルでメンバーを定義するとします。 実装 (.cpp) ファイルで [クラス ダイアグラムで表示] を起動しても、**クラス デザイナー**には何も表示されません。 もう 1 つの例として、`#include` ステートメントを使用して他のファイルをインクルードし、実際のクラス定義は含まない .cpp ファイルで、[クラス ダイアグラムで表示] を起動する場合があります。この場合も、**クラス デザイナー**には何も表示されません。

- IDL (.idl) ファイルでは COM インターフェイスとタイプ ライブラリが定義されますが、このファイルはネイティブ C++ コードにコンパイルされない限り、ダイアグラムには表示されません。

- **クラス デザイナー**はグローバル関数とグローバル変数をサポートしていません。

- **クラス デザイナー**は共用体をサポートしていません。 共用体は、最大データ メンバーが必要とする量のメモリしか割り当てられない、特殊なタイプのクラスです。

- **クラス デザイナー**では、`int` や `char` などの基本データ型は表示されません。

- 現在のプロジェクトの外部で定義された型への正しい参照がプロジェクトにない場合、これらの型は**クラス デザイナー**で表示されません。

- **クラス デザイナー**は、入れ子にされた型を表示することはできますが、入れ子にされた型とその他の型の間の関係は表示できません。

- **クラス デザイナー**では、void 型または void 型から派生した型を表示できません。

## <a name="see-also"></a>関連項目

- [クラスと型のデザインおよび表示](designing-and-viewing-classes-and-types.md)
- [クラス デザイナーのエラーに関する追加情報](additional-information-about-errors.md)
- [クラス デザイナーの C++ クラス](visual-cpp-classes.md)
- [クラス デザイナーの C++ 構造体](visual-cpp-structures.md)
- [クラス デザイナーの C++ 列挙体](visual-cpp-enumerations.md)
- [クラス デザイナーにおける C++ の typedef](visual-cpp-typedefs.md)
