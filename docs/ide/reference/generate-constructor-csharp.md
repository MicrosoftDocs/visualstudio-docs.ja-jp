---
title: "コンストラクターの生成 - コード生成 (C#) | Microsoft Docs"
ms.custom: 
ms.date: 11/27/2017
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-general
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f2280cfa-a9ec-4b56-9d94-c8fd384db980
author: kuhlenh
ms.author: kaseyu
manager: ghogen
ms.workload: dotnet
ms.openlocfilehash: b6e73b3b012547e98934bbcd76d1ee2eb0f3324d
ms.sourcegitcommit: f89ed5fc2e5078213e30a6ade4604e34df48181f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/13/2018
---
# <a name="generate-a-constructor-in-c"></a>コンストラクターの生成 (C#) #
**機能:** クラスの新しいコンストラクターのコードをすぐに生成できます。 

**条件:** 新しいコンストラクターを導入し、自動的に適切に宣言したいとき。または既存のコンストラクターを変更するとき。 

**理由:** コンストラクターは使用する前に自分で宣言できますが、この機能ではコンストラクターと適切なパラメーターが自動的に生成されます。 さらに、既存のコンストラクターを変更するには、この機能を使って自動的に更新しない限り、すべての呼び出しサイトを更新する必要があります。

**方法:** コンストラクターを生成するにはいくつかの方法があります。
- [コンストラクターを生成してメンバーを選択する](#pick)
- [選択したフィールドからコンストラクターを生成する](#selection)
- [新しい使用からコンストラクターを生成する](#usage)
- [既存のコンストラクターにパラメーターを追加する](#addparameter)
- [コンストラクターのパラメーターからフィールド/プロパティを作成して初期化する](#create)

## <a id = "pick"></a>コンストラクターを生成してメンバーを選択する
1. クラス内の任意の空の行にカーソルを置きます。

   ![空の行のカーソル](media/constructor1-highlight-cs.png)

1. 次に、以下のいずれかを実行します。
   * **キーボード**
     * **Ctrl + .** キーを押して、 **[クイック アクションとリファクタリング]** メニューをトリガーし、[プレビュー] ウィンドウ ポップアップから **[コンストラクターを生成する...]** を選択します。
   * **マウス**
     * 右クリックして **[クイック アクションとリファクタリング]** メニューを選択し、[プレビュー] ウィンドウ ポップアップから **[コンストラクターを生成する...]** を選択します。
     * テキスト カーソルが既にクラスの空の行にある場合は、左余白に表示されている ![電球](media/bulb-cs.png) アイコンをクリックします。

   ![コンストラクター生成のプレビュー](media/constructor1-preview-cs.png)

1. ダイアログが表示され、コンストラクターのパラメーターとして使用するメンバーを選べるだけでなく、メンバーを並べ替えることができます (上矢印と下矢印で)。 **[OK]** をクリックして変更をコミットします。
  
   ![[メンバーの選択] ダイアログ](media/constructor1-dialog-cs.png)

   >[!TIP] 
   >**[null チェックを追加する]** チェックボックスをオンにすると、コンストラクターのパラメーターの null チェックを自動的に生成できます。

1. コンストラクターが、指定した順序で選択したパラメーターを使用して作成されます。
   ![コンストラクター生成の結果](media/constructor1-result-cs.png)

## <a id="selection"></a>選択したフィールドからコンストラクターを生成する
1. 生成されたコンストラクターに含めるメンバーを強調表示します。![強調表示されたメンバー](media/constructor2-highlight-cs.png)

1. 次に、以下のいずれかを実行します。
   * **キーボード**
     * **Ctrl + .** キーを押して、 **[クイック アクションとリファクタリング]** メニューをトリガーし、[プレビュー] ウィンドウ ポップアップから **[コンストラクター 'TypeName(...)' の生成]** を選択します。
   * **マウス**
     * 右クリックして **[クイック アクションとリファクタリング]** メニューを選択し、[プレビュー] ウィンドウ ポップアップから **[コンストラクター 'TypeName(...)' の生成]** を選択します。
     * テキスト カーソルが既に選択項目を含む行にある場合は、左余白に表示されている ![電球](media/bulb-cs.png) アイコンをクリックします。

     ![コンストラクター生成のプレビュー](media/constructor2-preview-cs.png)

1. コンストラクターが、選択したパラメーターを使用して作成されます。
     ![コンストラクター生成の結果](media/constructor2-result-cs.png)

## <a id="usage"></a>新しい使用からコンストラクターを生成する
1. まだ存在しないコンストラクターを使用したことを示す赤い波線がある行にカーソルを置きます。

   ![強調表示されたコード](media/constructor-highlight-cs.png)

1. 次に、以下のいずれかを実行します。
   * **キーボード**
     * **Ctrl + .** キーを押して、 **[クイック アクションとリファクタリング]** メニューをトリガーし、[プレビュー] ウィンドウ ポップアップから **['*TypeName*' にコンストラクターを生成します]** を選択します。
   * **マウス**
     * 右クリックして **[クイック アクションとリファクタリング]** メニューを選択し、[プレビュー] ウィンドウ ポップアップから **['*TypeName*' にコンストラクターを生成します]** を選択します。
     * 赤い波線をポイントし、表示された ![電球](media/bulb-cs.png) アイコンをクリックします。
     * テキスト カーソルが既に赤い波線を含む行にある場合は、左余白に表示されている ![電球](media/bulb-cs.png) アイコンをクリックします。

   ![コンストラクター生成のプレビュー](media/constructor-preview-cs.png)

   >[!TIP]
   >プレビュー ウィンドウの下部にある [**[変更のプレビュー]** ](../../ide/preview-changes.md) リンクを使用すると、選択を行う前に、行われるすべての変更を確認できます。

1. コンストラクターと、その使用から推論されたすべてのパラメーターが、自動的に作成されます。

   ![コンストラクター生成の結果](media/constructor-result-cs.png)

## <a id="addparameter"></a>既存のコンストラクターにパラメーターを追加する
1. 既存のオブジェクトのインスタンス化にパラメーターを追加します。

1. まだ存在しないコンストラクターを使用したことを示す赤い波線がある行にカーソルを置きます。
    
    ![強調表示されているコンストラクターの生成](media/constructor4-highlight-cs.png)

1. 次に、以下のいずれかを実行します。
   * **キーボード**
     * **Ctrl + .** キーを押して、 **[クイック アクションとリファクタリング]** メニューをトリガーし、[プレビュー] ウィンドウ ポップアップから **[Add parameter to 'TypeName(...)']\('TypeName(...)' にパラメーターを追加\)** を選択します。
   * **マウス**
     * 右クリックして **[クイック アクションとリファクタリング]** メニューを選択し、[プレビュー] ウィンドウ ポップアップから **[Add parameter to 'TypeName(...)']\('TypeName(...)' にパラメーターを追加\)** を選択します。
     * 赤い波線をポイントし、表示された ![電球](media/bulb-cs.png) アイコンをクリックします。
     * テキスト カーソルが既に赤い波線を含む行にある場合は、左余白に表示されている ![電球](media/bulb-cs.png) アイコンをクリックします。

    ![コンストラクター生成のプレビュー](media/constructor4-preview-cs.png)

1. パラメーターと、その使用から推測された型が自動的に追加されます。
   
   ![コンストラクター生成の結果](media/constructor4-result-cs.png)

## <a id="create"></a>コンストラクターのパラメーターからフィールド/プロパティを作成して初期化する
1. 既存のコンストラクターからパラメーターを追加します。

   ![強調表示されているコンストラクターの生成](media/constructor5-highlight-cs.png)

1. 新しく追加されたパラメーター内にカーソルを置きます。

1. 次に、以下のいずれかを実行します。
   * **キーボード**
     * **Ctrl + .** キーを押して、 **[クイック アクションとリファクタリング]** メニューをトリガーし、[プレビュー] ウィンドウ ポップアップから **[プロパティ 'YourProperty' を作成して初期化する]** または **[フィールド 'YourField' を作成して初期化する]** を選択します。
   * **マウス**
     * 右クリックして **[クイック アクションとリファクタリング]** メニューを選択し、[プレビュー] ウィンドウ ポップアップから **[プロパティ 'YourProperty' を作成して初期化する]** または **[フィールド 'YourField' を作成して初期化する]** を選択します。
     * テキスト カーソルが既に追加されたパラメーターを含む行にある場合は、左余白に表示されている ![電球](media/bulb-cs.png) アイコンをクリックします。

   ![コンストラクター生成のプレビュー](media/constructor5-preview-cs.png)

1. フィールド/プロパティが作成され、自動的に型と一致する名前が付けられます。

   ![コンストラクター生成の結果](media/constructor5-result-cs.png)

## <a name="see-also"></a>関連項目

[コード生成](../code-generation-in-visual-studio.md)  
[変更のプレビュー](../../ide/preview-changes.md)