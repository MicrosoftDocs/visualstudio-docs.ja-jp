---
title: JIT の最適化とデバッグ |Microsoft ドキュメント
ms.custom: ''
ms.date: 11/04/2016
ms.technology: vs-ide-debug
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- debugging [Visual Studio], optimized code
- optimized code, debugging
ms.assetid: 19bfabf3-1a2e-49dc-8819-a813982e86fd
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 9a9b18ab38c7c19fa5208d34439bd3133099e8bc
ms.sourcegitcommit: 3d10b93eb5b326639f3e5c19b9e6a8d1ba078de1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2018
---
# <a name="jit-optimization-and-debugging"></a>JIT の最適化とデバッグ
**.NET での最適化の作業:**場合コードをデバッグしようとしてが容易とそのコードが**いない**最適化します。 これは、コードの最適化時に、コンパイラとランタイム変更を行うので、出力の CPU コードをできるように、高速で実行されますが、元のソース コードに直接マップされています。 つまり、デバッガーは、ローカル変数の値を指定して、コードのステップ実行することが頻繁にはブレークポイントが期待どおりに機能しません。

通常、リリース ビルドの構成が最適化されたコードを作成し、デバッグ ビルド構成はありません。 `Optimize` MSBuild プロパティは、コンパイラがコードを最適化するように通知するかどうかを制御します。

.NET のエコシステムでは、ソースからコードをオンに 2 段階のプロセスで CPU 命令: c# コンパイラが最初に、MSIL と呼ばれる中間のバイナリ形式で入力した文字列に変換し、.dll ファイルに書き込みます。 その後、.NET ランタイムは、この MSIL を CPU 命令に変換します。 両方の手順がある程度最適化できますが、.NET ランタイムで実行される 2 番目の手順がより重要な最適化を実行します。

**'モジュールを読み込めません (マネージのみ) に抑制する状況の JIT 最適化' オプション:**デバッガーがターゲット プロセス内で有効にしてコンパイルされた DLL が読み込まれるときの動作を制御するオプションを公開します。 このオプションがオフの場合 (既定の状態) が有効な最適化が外に出る .NET ランタイムでは、CPU コードを MSIL コードをコンパイルするときに、します。 オプションをオンにした場合、デバッガーを要求しますの最適化を無効にします。

**モジュールを読み込めません (マネージのみ) に抑制する状況の JIT 最適化を**にオプションがあります、**全般**ページで、**デバッグ**内のノード、 **のオプション**  ダイアログ ボックス。

**このオプションをいつ確認すべき:** nuget パッケージなど、別のソースから Dll をダウンロードして、この DLL 内のコードをデバッグするときに、このオプションを確認します。 これを行うためには、この DLL のシンボル (.pdb) ファイルを検索することもあります。

のみをローカルでビルドするコードをデバッグしたら場合、に、場合によっては、このオプションを有効にする速度が著しく低下デバッグは、このオプションをオンになっていないままにしておくことをお勧めします。 ある理由は、次の 2 つのパフォーマンスが低下します。

* 最適化されたコードが高速に実行されます。 大量のコードの最適化を無効にする場合は、パフォーマンスに与える影響追加できます。
* マイ コードのみが有効になっている場合は、デバッガーがいないを再試行してくださいおよび最適化されている Dll のシンボルを読み込めません。 シンボルの検索時間がかかることができます。

**このオプションの制限:**このオプションでは、2 つの状況**いない**動作します。

1. 既に実行中のプロセスにデバッガーをアタッチする場合、このオプション効果はありませんが、デバッガーのアタッチ時に既に読み込まれているモジュールにします。
2. このオプションはされている Dll に影響を与えません事前 (別名 ngen'ed) をネイティブ コードにコンパイルします。 ただし、事前にコンパイルされたコードの使用法を無効にプロセスを使用して開始、環境変数 'COMPlus_ZapDisable' が '1' に設定できます。

## <a name="see-also"></a>関連項目  
 [マネージ コードをデバッグする](../debugger/debugging-managed-code.md)   
 [デバッガーでのコード間の移動](../debugger/navigating-through-code-with-the-debugger.md)   
 [実行中のプロセスをアタッチします。](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [マネージ実行プロセス](/dotnet/standard/managed-execution-process)
