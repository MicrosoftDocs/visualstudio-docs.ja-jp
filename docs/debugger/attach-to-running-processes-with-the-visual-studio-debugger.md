---
title: 実行中のプロセスにデバッガを使用してアタッチする |マイクロソフトドキュメント
ms.custom: seodec18
ms.date: 04/14/2020
ms.topic: conceptual
f1_keywords:
- vs.debug.processes.attach
- vs.debug.process
- vs.debug.programs
- vs.debug.detaching
- vs.debug.processes
- vs.debug.error.attach
- vs.debug.remotemachine
dev_langs:
- CSharp
- FSharp
- C++
- VB
helpviewer_keywords:
- remote debugging, attaching to programs
- processes, attaching to running processes
- Attach to Process dialog box
- debugging [Visual Studio], attaching to processes
- debugger, processes
ms.assetid: 27900e58-090c-4211-a309-b3e1496d5824
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 075f5b0df703e31ea265085f422567a4fb5298a4
ms.sourcegitcommit: cc58ca7ceae783b972ca25af69f17c9f92a29fc2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/15/2020
ms.locfileid: "81385490"
---
# <a name="attach-to-running-processes-with-the-visual-studio-debugger"></a>Visual Studio デバッガーで実行中のプロセスへのアタッチ
ローカルまたはリモート コンピューターで実行中のプロセスに、Visual Studio デバッガーをアタッチできます。 プロセスが実行されたら、[**プロセスにアタッチ****のデバッグ** > ] を選択するか、Visual Studio で**Ctrl**+**Alt**+**P**キーを押し、[**プロセスにアタッチ]** ダイアログ ボックスを使用してプロセスにデバッガーをアタッチします。

**[プロセスにアタッチ]** を使用すると、ローカル コンピューターまたはリモート コンピューターで実行中のアプリのデバッグ、複数のプロセスの同時デバッグ、Visual Studio で作成されていないアプリのデバッグ、または Visual Studio から起動しなかったアプリをデバッガーをアタッチしてデバッグできます。 たとえば、デバッガーなしでアプリを実行していて、例外を発生した場合は、デバッガーをアプリを実行しているプロセスにアタッチして、デバッグを開始できます。

> [!TIP]
> デバッグ シナリオで **[プロセスにアタッチ]** を使用するかどうかがわからない場合 デバッグ[の一般的なシナリオを](#BKMK_Scenarios)参照してください。

## <a name="attach-to-a-running-process-on-your-local-machine"></a><a name="BKMK_Attach_to_a_running_process"></a>ローカル マシン上の実行中のプロセスにアタッチする

以前にアタッチしたプロセスにすばやく再アタッチするには、[プロセスへの再アタッチを](#BKMK_reattach)参照してください。

リモート コンピュータ上のプロセスをデバッグするには、「[リモート コンピュータ上のプロセスにアタッチする](#BKMK_Attach_to_a_process_on_a_remote_computer)」を参照してください。

::: moniker range=">= vs-2019"
Linux Docker コンテナーで .NET Core プロセスをデバッグするには[、「Linux Docker コンテナーにアタッチする](#BKMK_Linux_Docker_Attach)」を参照してください。
::: moniker-end

**ローカル コンピュータ上のプロセスにアタッチするには、次の手順を実行します。**

1. Visual Studio で[**プロセスにアタッチ****のデバッグ** > ]を選択するか、または**Ctrl**+**Alt**+**P**キーを押して **[プロセスにアタッチ]** ダイアログ ボックスを開きます。

   **接続の種類**は **[既定]** に設定する必要があります。 **接続ターゲット**は、ローカル マシン名にする必要があります。

   ![DBG_Basics_Attach_To_Process](../debugger/media/DBG_Basics_Attach_To_Process.png "DBG_Basics_Attach_To_Process")

2. [**使用可能なプロセス**] リストで、アタッチ先のプロセスを検索して選択します。

   - プロセスをすばやく選択するには、[**プロセスのフィルター** ] ボックスにプロセス名または最初の文字を入力します。

   - プロセス名がわからない場合は、一覧を参照するか、[一般的なプロセス名のデバッグの一般的なシナリオ](#BKMK_Scenarios)を参照してください。

   >[!TIP]
   >[プロセス**にアタッチ]** ダイアログ ボックスが開いている間はバックグラウンドでプロセスを開始および停止できるため、実行中のプロセスの一覧が常に最新の状態になるとは限りません。 [**更新]** を選択すると、いつでも現在のリストを表示できます。

3. [**アタッチ先]** フィールドに、デバッグする予定のコードの種類が一覧に表示されていることを確認します。 既定の **[自動]** 設定は、ほとんどのアプリの種類で有効です。

   コードの種類を手動で選択するには
   1. **[選択]** をクリックします。
   1. [**コードの種類の選択**] ダイアログ ボックスで、[**これらのコードの種類をデバッグ**する] を選択します。
   1. デバッグするコードの種類を選択します。
   1. **[OK]** を選択します。

4. [**アタッチ ]** を選択します。

>[!NOTE]
>デバッグ用に複数のアプリにアタッチできますが、デバッガーで一度にアクティブなアプリは 1 つだけです。 アクティブなアプリは、[Visual Studio**デバッグの場所]** ツール バーまたは **[プロセス]** ウィンドウで設定できます。

## <a name="attach-to-a-process-on-a-remote-computer"></a><a name="BKMK_Attach_to_a_process_on_a_remote_computer"></a>リモート コンピュータ上のプロセスにアタッチする

[**プロセスにアタッチ**] ダイアログ ボックスでリモート コンピュータを選択し、そのコンピュータで実行されている使用可能なプロセスの一覧を表示し、デバッグ用に 1 つ以上のプロセスにアタッチすることもできます。 リモート デバッガ (*msvsmon.exe*) は、リモート コンピュータで実行されている必要があります。 詳細については、「[リモート デバッグ](../debugger/remote-debugging.md)」を参照してください。

IIS に展開されたアプリケーションASP.NETデバッグの詳細については、「[リモート IIS コンピュータでのリモート デバッグ ASP.NET」](../debugger/remote-debugging-aspnet-on-a-remote-iis-7-5-computer.md)を参照してください。

**リモート コンピュータ上の実行中のプロセスにアタッチするには、次の手順を実行します。**

1. Visual Studio で[**プロセスにアタッチ****のデバッグ** > ]を選択するか、または**Ctrl**+**Alt**+**P**キーを押して **[プロセスにアタッチ]** ダイアログ ボックスを開きます。

2. ほとんどの場合、**接続の種類**は**既定**にする必要があります。 [**接続先**] ボックスで、次のいずれかの方法を使用してリモート コンピューターを選択します。

   - [**接続先**] の横にあるドロップダウン矢印を選択し、ドロップダウン リストからコンピュータ名を選択します。
   - [**接続先**] ボックスにコンピュータ名を入力し **、Enter**キーを押します。

     Visual Studio がコンピューター名に必要なポートを追加することを確認します**\<>。**

     ::: moniker range=">= vs-2019"

     > [!NOTE]
     > リモート コンピュータ名を使用して接続できない場合は、IP アドレスとポート アドレス (など)`123.45.678.9:4022`を使用してみてください。 4024 は、Visual Studio 2019 x64 リモート デバッガーの既定のポートです。 その他のリモート デバッガー ポートの割り当てについては、「[リモート デバッガー ポートの割り当て](remote-debugger-port-assignments.md)」を参照してください。

     ::: moniker-end
     ::: moniker range="vs-2017"

     > [!NOTE]
     > リモート コンピュータ名を使用して接続できない場合は、IP アドレスとポート アドレス (など)`123.45.678.9:4022`を使用してみてください。 4022 は、Visual Studio 2017 x64 リモート デバッガーの既定のポートです。 その他のリモート デバッガー ポートの割り当てについては、「[リモート デバッガー ポートの割り当て](remote-debugger-port-assignments.md)」を参照してください。

     ::: moniker-end

   - [**接続先**] ボックスの横にある [**検索**] ボタンを選択して、[**リモート接続**] ダイアログ ボックスを開きます。 [**リモート接続]** ダイアログ ボックスには、ローカル サブネット上またはコンピュータに直接接続されているすべてのデバイスが一覧表示されます。 リモート デバイスを検出するには、サーバーで[UDP ポート 3702](../debugger/remote-debugger-port-assignments.md)を開く必要があります。 目的のコンピュータまたはデバイスを選択し、[**選択**] をクリックします。

   > [!NOTE]
   > **[接続の種類]** の設定は、デバッグ セッション間で保持されます。 **[接続先] の**設定は、そのターゲットで正常にデバッグ接続が発生した場合にのみ、デバッグ セッション間で保持されます。

3. [**更新**] をクリックして **、[使用可能なプロセス**] リストにデータを入力します。

    >[!TIP]
    >[プロセス**にアタッチ]** ダイアログ ボックスが開いている間はバックグラウンドでプロセスを開始および停止できるため、実行中のプロセスの一覧が常に最新の状態になるとは限りません。 [**更新]** を選択すると、いつでも現在のリストを表示できます。

4. [**使用可能なプロセス**] リストで、アタッチ先のプロセスを検索して選択します。

   - プロセスをすばやく選択するには、[**プロセスのフィルター** ] ボックスにプロセス名または最初の文字を入力します。

   - プロセス名がわからない場合は、一覧を参照するか、[一般的なプロセス名のデバッグの一般的なシナリオ](#BKMK_Scenarios)を参照してください。

   - すべてのユーザー アカウントで実行されているプロセスを検索するには、[**すべてのユーザーからプロセスを表示**する] チェック ボックスをオンにします。

     >[!NOTE]
     >信頼関係のないユーザー アカウントによって所有されているプロセスにアタッチしようとすると、セキュリティ警告の確認ダイアログ ボックスが表示されます。 詳細については、次を参照してください。[セキュリティ警告。信頼されていないユーザーによって所有されているプロセスにアタッチすると、危険なことができます。以下の情報に関して疑わしい点がある場合や、不明な場合は、このプロセスにアタッチしないでください](../debugger/security-warning-attaching-to-a-process-owned-by-an-untrusted-user.md)。

5. [**アタッチ先]** フィールドに、デバッグする予定のコードの種類が一覧に表示されていることを確認します。 既定の **[自動]** 設定は、ほとんどのアプリの種類で有効です。

   コードの種類を手動で選択するには
   1. **[選択]** をクリックします。
   1. [**コードの種類の選択**] ダイアログ ボックスで、[**これらのコードの種類をデバッグ**する] を選択します。
   1. デバッグするコードの種類を選択します。
   1. **[OK]** を選択します。

6. [**アタッチ ]** を選択します。

>[!NOTE]
>デバッグ用に複数のアプリにアタッチできますが、デバッガーで一度にアクティブなアプリは 1 つだけです。 アクティブなアプリは、[Visual Studio**デバッグの場所]** ツール バーまたは **[プロセス]** ウィンドウで設定できます。

場合によっては、リモート デスクトップ (ターミナル サービス) セッションでデバッグするときに、[**使用可能なプロセス**] ボックスの一覧に使用可能なプロセスが表示されないことがあります。 制限付きユーザー アカウントを持つユーザーとして Visual Studio を実行している場合は、セッション 0 で実行されているプロセスが **[使用可能なプロセス**] の一覧に表示されません。 セッション 0 は、*サービスや、w3wp.exe*を含む他のサーバー プロセスに使用されます。 この問題を解決するには、管理者アカウントで [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] を実行するか、ターミナル サービス セッションからではなくサーバー コンソールから [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] を実行します。

どちらの方法も実行できない場合、3 つ目の方法として、Windows コマンド ラインから `vsjitdebugger.exe -p <ProcessId>` を実行することによって、プロセスにアタッチできます。 *tlist.exe*を使用してプロセス ID を確認できます。 *tlist.exe*を入手するには[、Windows](/windows-hardware/drivers/download-the-wdk)用デバッグ ツールをダウンロードしてインストールします。

::: moniker range=">= vs-2019"


## <a name="attach-to-a-net-core-process-running-on-linux-using-ssh"></a>SSH を使用して Linux 上で実行されている .NET コア プロセスにアタッチする

詳細については、「 [SSH を使用して Linux で実行されているリモート デバッグ .NET コア](../debugger/remote-debugging-dotnet-core-linux-with-ssh.md)」を参照してください。

## <a name="attach-to-a-process-running-on-a-linux-docker-container"></a><a name="BKMK_Linux_Docker_Attach"></a>Linux Docker コンテナーで実行されているプロセスにアタッチする

[プロセスにアタッチ] ダイアログ ボックスを使用して、ローカル またはリモート コンピューター上の Linux .NET Core Docker コンテナーで実行されているプロセスに Visual Studio デバッガー**をアタッチ**できます。

> [!IMPORTANT]
> この機能を使用するには、.NET Core クロスプラットフォーム開発ワークロードをインストールし、ソース コードにローカルでアクセスする必要があります。

**Linux Docker コンテナで実行中のプロセスにアタッチするには、次の手順に従います。**

1. Visual Studio で、[**プロセスにアタッチ>デバッグ**] を選択し (Ctrl + Alt + P キーを押して) [**プロセスにアタッチ]** ダイアログ ボックスを開きます。

![プロセスメニューにアタッチ](../debugger/media/attach-process-menu.png "Attach_To_Process_Menu")

2. 接続の**種類**を**Docker (Linux コンテナー)** に設定します。
3. [**検索]を**選択して **、[Docker コンテナの選択**]ダイアログボックスから**接続ターゲット**を設定します。

    Docker コンテナー プロセスは、ローカルまたはリモートでデバッグできます。
    
    **Docker コンテナー プロセスをローカルでデバッグするには、次の手順を実行します。**
    1. **Docker CLI ホスト**をローカル**マシン**に設定します。
    1. リストからアタッチする実行中のコンテナを選択し **、[OK] をクリックします**。
    
    ![Docker コンテナメニューの選択](../debugger/media/select-docker-container.png "Select_Docker_Container_Menu")
 
    **B. Docker コンテナー プロセスをリモートでデバッグするには、**
    
    > [!NOTE] 
    > Docker コンテナー内の実行中のプロセスにリモートで接続するには、2 つのオプションがあります。 SSH を使用する最初のオプションは、ローカル コンピューターに Docker ツールがインストールされていない場合に最適です。  Docker ツールがローカルにインストールされていて、リモート要求を受け入れるように構成された Docker デーモンがある場合は、Docker デーモンを使用して 2 番目のオプションを試してください。

    1. ***SSH 経由でリモート マシンに接続するには:***
        1. リモート システムに接続するには、[**追加....** ] を選択します。<br/>
        ![リモートシステムへの接続](../debugger/media/connect-remote-system.png "リモートシステムへの接続")
        1. SSH またはデーモンに正常に接続した後にアタッチする実行中のコンテナを選択し **、[OK] を押します**。

    
    1. ***[Docker デーモン](https://docs.docker.com/engine/reference/commandline/dockerd/)を使用してプロセスを実行するリモートコンテナにターゲットを設定するには***
        1. Docker ホスト (オプション) の下でデーモンアドレスを指定し **(オプション)、** 更新リンクをクリックします。
        1. デーモンに正常に接続した後にアタッチする実行中のコンテナを選択し **、[OK] を押します**。

4. **使用可能なプロセス**の一覧から対応するコンテナー プロセスを選択し、[**アタッチ]** を選択して Visual Studio で C# コンテナー プロセスのデバッグを開始します。

    ![完了ドッカーアタッチメニュー](../debugger/media/docker-attach-complete.png "完了した Linux ドッカーアタッチメニュー")
    

## <a name="attach-to-a-process-running-on-a-windows-docker-container"></a><a name="BKMK_Windows_Docker_Attach"></a>Windows Docker コンテナーで実行されているプロセスにアタッチする

[プロセスにアタッチ] ダイアログ ボックスを使用して、ローカル コンピューター上の Windows Docker コンテナーで実行されているプロセスに Visual Studio デバッガー**をアタッチ**できます。

> [!IMPORTANT]
> この機能を .NET Core プロセスで使用するには、.NET Core クロスプラットフォーム開発ワークロードをインストールし、ソース コードにローカルでアクセスする必要があります。

**Windows Docker コンテナーで実行中のプロセスにアタッチするには、次の手順を実行します。**

1. Visual Studio で、[**デバッグ] > [プロセスにアタッチ]** を選択します (または**Ctrl + Alt + P)** をクリックして [**プロセスにアタッチ]** ダイアログ ボックスを開きます。

   ![プロセスメニューにアタッチ](../debugger/media/attach-process-menu-docker-windows.png "Attach_To_Process_Menu")

2. 接続の**種類**を **[ドッカー (Windows コンテナー)] に**設定します。
3. [**検索]を**選択して **、[Docker コンテナーの選択**]ダイアログ ボックスを使用して**接続ターゲット**を設定します。

    > [!IMPORTANT]
    > ターゲット プロセスは、実行されている Docker Windows コンテナーと同じプロセッサ アーキテクチャを持つ必要があります。
    
   SSH を介してリモート コンテナにターゲットを設定することは現在利用できず、Docker デーモンを使用してのみ実行できます。
    
    ***[Docker デーモン](https://docs.docker.com/engine/reference/commandline/dockerd/)を使用してプロセスを実行するリモートコンテナにターゲットを設定するには***
    1. Docker ホスト (オプション) の下でデーモンアドレスを指定し **(オプション)、** 更新リンクをクリックします。 

    1. デーモンに正常に接続した後にアタッチする実行中のコンテナを選択し、[OK] を選択します。
    
4. **[使用可能なプロセス**] の一覧から対応するコンテナー プロセスを選択し、[**アタッチ]** を選択して C# コンテナー プロセスのデバッグを開始します。

    ![完了ドッカーアタッチメニュー](../debugger/media/docker-attach-complete-windows.png "完了したウィンドウドッカー接続メニュー")
    

5.  使用可能なプロセスの一覧から対応するコンテナー プロセスを選択し、[**アタッチ]** を選択して C# コンテナー プロセスのデバッグを開始します。


::: moniker-end

## <a name="reattach-to-a-process"></a><a name="BKMK_reattach"></a>プロセスに再アタッチする

[プロセスへの**再** > アタッチのデバッグ] (**Shift**+**Alt**+**P**) を選択すると、以前アタッチしていた**プロセスにすばやく再アタッチ**できます。 このコマンドを選択すると、デバッガーは、直前のプロセス ID と一致するように最初に試みて、アタッチした最後のプロセスにアタッチしようとします。 一致するものが見つからない場合、または複数のプロセスが同じ名前を持つ場合は、[**プロセスにアタッチ]** ダイアログ ボックスが開き、正しいプロセスを選択できます。

> [!NOTE]
> **[プロセスに再アタッチ]** コマンドは、Visual Studio 2017 以降で使用できます。

## <a name="common-debugging-scenarios"></a><a name="BKMK_Scenarios"></a>一般的なデバッグ シナリオ

**[プロセスにアタッチ]** を使用するかどうか、およびアタッチ先のプロセスを決定するために、次の表に、一般的なデバッグ シナリオをいくつか示します。 (リストは完全ではありません。

ユニバーサル Windows アプリ (UWP) アプリなどの一部のアプリの種類では、プロセス名に直接アタッチするのではなく、Visual Studio の **[インストール済みのアプリ パッケージのデバッグ**] メニュー オプションを使用します (表を参照)。

C++ で記述されたコードにデバッガーをアタッチするには、コードが `DebuggableAttribute`を生成する必要があります。 [/ASSEMBLYDEBUG](/cpp/build/reference/assemblydebug-add-debuggableattribute) リンカー オプションを使ってリンクすると、これを自動的にコードに追加できます。

クライアント側スクリプトのデバッグでは、ブラウザでスクリプトのデバッグを有効にする必要があります。 Chrome でクライアント側のスクリプトをデバッグする場合は、コードの種類として **[JavaScript (Chrome)]** または **[JavaScript(Microsoft Edge - クロム)] を**選択し、アプリの種類に応じて、すべての Chrome`chrome.exe --remote-debugging-port=9222`インスタンスを閉じてデバッグ モードでブラウザーを起動する必要があります (コマンドラインから入力)。 以前のバージョンの Visual Studio では、Chrome 用のスクリプト デバッガは**Web キット**でした。

実行中のプロセスを簡単に選択してアタッチするには、Visual Studio で Ctrl**Alt**+**P****と入力**+し、プロセス名の最初の文字を入力します。

|シナリオ|デバッグメソッド|[処理名]|メモとリンク|
|-|-|-|-|
|IIS サーバー上ASP.NET 4 または 4.5 のリモート デバッグ|リモート ツールを使用して**プロセスにアタッチ**|*w3wp.exe*|リモート[IIS コンピュータのリモート デバッグ ASP.NETを](../debugger/remote-debugging-aspnet-on-a-remote-iis-7-5-computer.md)参照してください。|
|IIS サーバー上のリモート デバッグ ASP.NET コア|リモート ツールを使用して**プロセスにアタッチ**|*w3wp.exe*または*ドットネット.exe*|NET Core 3 以降では *、w3wp.exe*プロセスが既定[のアプリ内ホスティング モデルに使用されます](/aspnet/core/host-and-deploy/aspnet-core-module?view=aspnetcore-3.1#hosting-models)。 アプリの展開については、「 [IIS に発行する](/aspnet/core/host-and-deploy/iis/)」を参照してください。 詳細については、「[リモート IIS コンピューターのリモート デバッグ ASP.NETコア」を参照してください。](../debugger/remote-debugging-aspnet-on-a-remote-iis-computer.md#BKMK_attach)|
|サポートされているアプリの種類に対して、ローカル IIS サーバーでクライアント側スクリプトをデバッグする |**プロセスにアタッチを**使用|クロム *.exe*、*マイクロソフトエッジCP.exe*、または*iexplore.exe*|スクリプトのデバッグを有効にする必要があります。 Chrome の場合は、Chrome をデバッグ モードで`chrome.exe --remote-debugging-port=9222`実行し (コマンドラインから入力)、[**アタッチ先]** フィールドで **[JavaScript (Chrome)] を**選択する必要があります。|
|ローカル コンピューターで C# 、Visual Basic、または C++ アプリをデバッグする|標準デバッグ (**F5**) または**プロセスにアタッチのいずれかを使用します。**|*\<アプリ名>.exe*|ほとんどのシナリオでは、標準のデバッグを使用し、**プロセスにアタッチ**しない。|
|Windows デスクトップ アプリをリモート デバッグする|リモート ツール|該当なし| [「C# または Visual Basic アプリのリモート デバッグ」または](../debugger/remote-debugging-csharp.md)[「C++ アプリのリモート デバッグ」を](../debugger/remote-debugging-cpp.md)参照してください。|
|Linux 上で .NET コアをデバッグします。|**プロセスにアタッチを**使用|*dotnet.exe*|SSH を使用するには、 [SSH を使用して Linux で実行されているリモート デバッグ .NET コアを](../debugger/remote-debugging-dotnet-core-linux-with-ssh.md)参照してください。 |
|デバッガーを使用せずにアプリを起動した後、ローカル コンピューターでASP.NET アプリをデバッグする|**プロセスにアタッチを**使用|*iiexpress.exe*|これは、プロファイリング時など、アプリの読み込みを高速化する場合に役立ちます。 |
|サーバー プロセスでサポートされているその他のアプリの種類をデバッグする|サーバーがリモートの場合は、リモート ツールを使用し、**プロセスにアタッチする**|*クロム.exe*、 *iexplore.exe*、またはその他のプロセス|必要に応じて、リソース モニタを使用してプロセスを識別します。 [リモート デバッグ](../debugger/remote-debugging.md)を参照してください。|
|ユニバーサル Windows アプリ (UWP)、ワンコア、ホロレンズ、または IoT アプリをリモート デバッグする|インストールされているアプリ パッケージのデバッグ|該当なし|「プロセスにアタッチ」を使用する代わりに[、インストール済みのアプリ パッケージをデバッグ](debug-installed-app-package.md)**するを**参照してください。|
|Visual Studio から起動しなかったユニバーサル Windows アプリ (UWP)、OneCore、HoloLens、または IoT アプリをデバッグする|インストールされているアプリ パッケージのデバッグ|該当なし|「プロセスにアタッチ」を使用する代わりに[、インストール済みのアプリ パッケージをデバッグ](debug-installed-app-package.md)**するを**参照してください。|

## <a name="use-debugger-features"></a>デバッガー機能を使用する

プロセスにアタッチするときに Visual Studio デバッガーの完全な機能 (ブレークポイントを押すなど) を使用するには、アプリがローカル ソースとシンボルと正確に一致している必要があります。 つまり、デバッガは正しい[シンボル (.pdb) ファイル](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)を読み込める必要があります。 既定では、デバッグ ビルドが必要です。

リモート デバッグのシナリオでは、ソース コード (またはソース コードのコピー) が Visual Studio で既に開かれている必要があります。 リモート コンピューター上のコンパイル済みアプリ バイナリは、ローカル コンピューターと同じビルドから取得する必要があります。

一部のローカル デバッグ シナリオでは、正しいシンボル ファイルがアプリに存在する場合、ソースにアクセスできない Visual Studio でデバッグできます。 既定では、デバッグ ビルドが必要です。 詳細については、「[シンボルファイルとソースファイルの指定](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)」を参照してください。

## <a name="troubleshoot-attach-errors"></a><a name="BKMK_Troubleshoot_attach_errors"></a>アタッチ エラーをトラブルシューティングする
 実行中のプロセスにデバッガーがアタッチすると、このプロセスは、1 種類以上のコードを含むことができます。 デバッガーをアタッチできるコードの種類は **[コードの種類の選択]** ダイアログ ボックスで表示されて選択されています。

 デバッガーは、ある種類のコードに正常にアタッチできても、別の種類にはアタッチできないことがあります。 この問題は、リモート コンピューターで動作しているプロセスにアタッチしようとする場合に発生することがあります。 リモート コンピューターには、一部の種類のコードにしか対応しないリモート デバッグ コンポーネントがインストールされている場合があるためです。 また、ダイレクト データベース デバッグのために複数のプロセスにアタッチしようとした場合にも発生することがあります。 SQL デバッグ機能は、単一プロセスへのアタッチのみをサポートします。

 デバッガが一部のコード型にアタッチできるが、すべてのコード型にアタッチできる場合は、どの型をアタッチできなかったかを示すメッセージが表示されます。

 デバッガーが少なくとも 1 種類のコードに正常にアタッチできる場合は、プロセスのデバッグを開始できます。 正常にアタッチされたコードの種類のみをデバッグできます。 プロセス内の接続されていないコードは引き続き実行されますが、ブレークポイントの設定、データの表示、またはそのコードに対する他のデバッグ操作の実行はできません。

 デバッガーがコードの種類にアタッチできなかった理由について、より具体的な情報が必要な場合は、そのコードの種類にのみ再アタッチを試みます。

 **ある種類のコードへのアタッチに失敗した理由を確認するには**

1. プロセスからデタッチします。 [**デバッグ**] メニューの [**すべてデタッチ]** をクリックします。

1. アタッチに失敗したコードの種類のみを選択して、プロセスに再アタッチします。

    1. **[プロセスにアタッチ]** ダイアログ ボックスの **[選択可能なプロセス]** の一覧で、プロセスを選択します。

    2. **[選択]** を選択します。

    3. **[コードの種類の選択]** ダイアログ ボックスの **[次のコードの種類をデバッグする]** をクリックし、アタッチに失敗したコードの種類を選択します。 他のコードタイプの選択を解除します。

    4. **[OK]** を選択します。

    5. [**プロセスにアタッチ]** ダイアログ ボックスで、[**アタッチ**] を選択します。

    このとき、アタッチは完全に失敗し、詳細なエラー メッセージが表示されます。

## <a name="see-also"></a>関連項目

- [複数プロセスをデバッグする](../debugger/debug-multiple-processes.md)
- [ジャストインタイムデバッグ](../debugger/just-in-time-debugging-in-visual-studio.md)
- [リモート デバッグ](../debugger/remote-debugging.md)
