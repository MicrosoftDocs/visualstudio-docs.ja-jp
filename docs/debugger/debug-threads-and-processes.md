---
title: スレッドとプロセスをデバッグするためのツール |Microsoft ドキュメント
ms.custom: ''
ms.date: 04/21/2017
ms.technology: vs-ide-debug
ms.topic: conceptual
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- multiprocess debugging
- threading [Visual Studio], debugging
- processes, debugging
- debugging threads
- debugging [Visual Studio], threads
ms.assetid: 9f0c8505-b6b2-452b-adfd-076db14d8115
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: f42159b15bbba4bd092dcde34404459212e26ab3
ms.sourcegitcommit: 3d10b93eb5b326639f3e5c19b9e6a8d1ba078de1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2018
ms.locfileid: "31477369"
---
# <a name="tools-to-debug-threads-and-processes-in-visual-studio"></a>Visual Studio のスレッドおよびプロセスをデバッグするためのツール
*スレッド*と*プロセス*コンピューター科学における関連する概念です。 いずれも特定の順序で実行する必要がある命令のシーケンスを表します。 ただし、別個のスレッドやプロセスの命令は並列実行できます。  
  
 プロセスは、オペレーティング システム内に存在するものであり、ユーザーがプログラムやアプリケーションとして認識するものに相当します。 一方、スレッドはプロセス内に存在します。 このため、スレッドとも呼ば*軽量プロセス*です。 各プロセスは、1 つ以上のスレッドで構成されます。  
  
 複数のプロセスが存在すると、コンピューターは、同時に複数のタスクを実行できます。 複数のスレッドが存在すると、プロセスで作業を分割して並列実行できます。 マルチプロセッサを搭載したコンピューターでは、プロセスやスレッドを各プロセッサに振り分けて実行できます。 これにより、真の並列処理が実現されます。  
  
 完全な並列処理は、常に実現できるとは限りません。 スレッドの同期が必要になることがあります。 スレッドは、別のスレッドが結果を生成するまで待機したり、別のスレッドが使用しているリソースに排他的にアクセスしたりすることが必要な場合があります。 同期に関する問題は、マルチスレッド アプリケーションで発生するバグの一般的な原因です。 また、スレッドは、決して利用可能にならないリソースを待機することがあります。 これは、結果と呼ばれる状態*デッドロック*です。  
  
 [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] デバッガーは、強力で使いやすい、スレッドとプロセスのデバッグ用ツールを提供します。  
  
## <a name="tools-and-features"></a>ツールおよび機能
使用する必要があるツール[!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]デバッグしようとしているコードの種類によって異なります。

- 主なツールには、プロセスの場合、**プロセスにアタッチする**ダイアログ ボックスで、**プロセス**ウィンドウ、および**デバッグの場所**ツールバー。

- スレッド、スレッドのデバッグの主なツールは、**スレッド**ウィンドウで、ソース ウィンドウでスレッド マーカー**並列スタック**ウィンドウ、**並列ウォッチ**ウィンドウ、および**デバッグの場所**ツールバー。  
  
- 使用するコード、<xref:System.Threading.Tasks.Task>で、[タスク並列ライブラリ (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl)、[同時実行ランタイム](/cpp/parallel/concrt/concurrency-runtime/)(ネイティブ コード)、マルチ スレッド アプリケーションのデバッグに関する主なツールは、 **並列スタック** ウィンドウで、**並列ウォッチ**ウィンドウ、および**タスク**ウィンドウ (、**タスク**ウィンドウもサポートしています、JavaScript の約束オブジェクト)。

- GPU 上でスレッドをデバッグするには、主要なツールは、 **GPU スレッド**windows です。  
  
 各ツールで提供される情報と実行できる操作を次の表に示します。  
  
|ユーザー インターフェイス|提供される情報|実行できる操作|  
|--------------------|---------------------------|-----------------------------|  
|**プロセスにアタッチする** ダイアログ ボックス|アタッチが可能なプロセス<br /><br /> プロセス名 (.exe)<br />-プロセス ID 番号<br />メニュー バーのタイトル<br />型 (マネージ v4.0 です。マネージ v2.0、v1.1、v1.0 です。x86 です。x64 です。IA64)<br />ユーザー名 (アカウント名)<br />のセッション数|アタッチ先のプロセスの選択。<br /><br /> リモート コンピューターの選択。<br /><br /> リモート コンピューターに接続するためのトランスポートの種類の変更。|  
|**プロセス**ウィンドウ|アタッチされたプロセス<br /><br /> プロセス名<br />-プロセス ID 番号<br />.Exe を処理するパス<br />メニュー バーのタイトル<br />状態 (中断します。 実行中)<br />-デバッグ (ネイティブ、管理、およびなどです。)<br />トランスポートの種類 (既定、認証なしのネイティブ)<br />-トランスポート修飾子 (リモート コンピューター)|ツールでの操作 :<br /><br /> アタッチします。<br />デタッチします。<br />終了します。<br /><br /> ショートカット メニューでの操作 : <br /><br /> アタッチします。<br />デタッチします。<br />-デバッグの停止時のデタッチします。<br />終了します。|  
|**スレッド**ウィンドウ|現在のプロセス内のスレッド<br /><br /> のスレッド ID<br />-管理対象の ID<br />-カテゴリ (メイン スレッド、インターフェイス スレッド、リモート プロシージャ コール ハンドラー、またはワーカー スレッド)<br />-スレッド名<br />-スレッドが作成される場所<br />優先順位<br />-関係マスク<br />中断カウント<br />プロセス名<br />フラグ インジケーター<br />中断中のインジケーター|ツールでの操作 :<br /><br /> 検索<br />呼び出し履歴の検索<br />-マイ コードのみにフラグを設定します。<br />-カスタム モジュール選択にフラグ<br />-グループ化<br />列<br />-展開/折りたたみの呼び出し履歴<br />-展開/折りたたみグループ<br />のスレッド凍結/凍結解除<br /><br /> ショートカット メニューでの操作 : <br /><br /> -ソース内のスレッドを表示します。<br />-スレッドに切り替え<br />-実行中のスレッドを凍結します。<br />-凍結されたスレッドを凍結解除します。<br />-追加の調査のためのスレッドにフラグを設定します。<br />-スレッドのフラグの解除します。<br />-スレッド名の変更します。<br />-を表示して、スレッドを非表示<br /><br /> その他の操作 : <br /><br /> -データヒントで、スレッドの呼び出し履歴を表示します。|  
|ソース ウィンドウ|左側の余白のスレッド インジケーターは、1 つまたは複数のスレッドを示します (既定ではオフでショートカット メニューを使用してオンに**スレッド**ウィンドウ)|ショートカット メニューでの操作 : <br /><br /> -スレッドに切り替え<br />-追加の調査のためのスレッドにフラグを設定します。<br />-スレッドのフラグの解除します。|  
|**デバッグの場所**ツールバー|-現在のプロセス<br />は、アプリケーションを中断します。<br />-アプリケーションを再開します。<br />-一時停止し、アプリケーションをシャット ダウン<br />-現在のスレッド<br />の現在のスレッドのフラグ状態切り替え<br />-フラグが設定されたスレッドのみを表示します。<br />-現在のプロセスのみを表示します。<br />-現在のスタック フレーム|-別のプロセスに切り替える<br />-一時停止、再開、または、アプリケーションをシャット ダウン<br />-現在のプロセス内の別のスレッドに切り替える<br />-現在のスレッド内の別のスタック フレームに切り替える<br />-現在のスレッドのフラグの設定またはフラグ<br />-フラグが設定されたスレッドのみを表示します。<br />-現在のプロセスのみを表示します。|  
|**並列スタック**ウィンドウ|-複数のスレッドの 1 つのウィンドウで、呼び出し履歴。<br />、スレッドごとにアクティブなスタック フレーム。<br />呼び出し元関数と任意のメソッドの呼び出し先です。|-指定したスレッドをフィルター処理します。<br />-タスク ビューに切り替えます。<br />-フラグまたはスレッドのフラグの解除<br />/拡大縮小|   
|**並列ウォッチ**ウィンドウ|-フラグ列。 特に注意することをスレッドのマークを付けることができます。<br />-フレーム列。 矢印が、選択したフレームを示します。<br />は、構成可能な列を表示できます、コンピューター、プロセス、タイル、タスク、およびスレッドです。|-フラグまたはスレッドのフラグの解除<br />-フラグが設定されたスレッドのみを表示します。<br />-フレームを切り替える<br />-列を並べ替える<br />-グループのスレッド<br />-凍結またはスレッドを凍結解除<br />-並列ウォッチ ウィンドウ内のデータのエクスポート| 
|**タスク**ウィンドウ|-に関する情報の表示<xref:System.Threading.Tasks.Task>タスク ID、タスクの状態を含むオブジェクト (スケジュール済み、実行中、待機中、デッドロック)、スレッドがタスクに割り当てられているとします。<br />の呼び出し履歴内現在の場所。<br />デリゲートの作成時に、タスクに渡されます|-現在のタスクへの切り替え<br />-フラグを設定または解除タスク<br />-凍結または凍結解除するタスク|  
|**GPU スレッド**ウィンドウ|-フラグ列。 特に注意することをスレッドのマークを付けることができます。<br />-現在のスレッドの列、黄色の矢印が、現在のスレッドを示します。<br />-**スレッド数**列で、同じ場所にあるスレッドの数を表示します。<br />-**行**列で、スレッドの各グループが配置されているコードの行が表示されます。<br />-**アドレス**列で、スレッドの各グループがある命令アドレスが表示されます。<br />-**場所**列で、アドレスのコード内の位置です。<br />-**ステータス**列で、スレッドがアクティブまたはブロックされているかどうかを示します。<br />-**タイル**列で、行のスレッドのタイル インデックスを示します。|-別のスレッドに変更します。<br />-特定のタイルとスレッドを表示します。<br />-表示、または列を非表示<br />-列による並べ替え<br />-グループのスレッド<br />-凍結またはスレッドを凍結解除<br />-フラグまたはスレッドのフラグの解除<br />-フラグが設定されたスレッドのみを表示します。|  
  
## <a name="see-also"></a>関連項目  
 [実行中のプロセスをアタッチします。](../debugger/attach-to-running-processes-with-the-visual-studio-debugger.md)   
 [マルチ スレッド アプリケーションをデバッグします。](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [GPU コードのデバッグ](../debugger/debugging-gpu-code.md)