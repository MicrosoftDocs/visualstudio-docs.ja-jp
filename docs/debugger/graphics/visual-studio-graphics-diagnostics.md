---
title: グラフィックス診断 |Microsoft Docs
ms.custom: seodec18
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.graphics
ms.assetid: fa69c550-62a7-41b5-bb1f-7eb04af1a6e8
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: cbc3edfabe041804a632b919eff4e565be9cc5e3
ms.sourcegitcommit: b0d8e61745f67bd1f7ecf7fe080a0fe73ac6a181
ms.translationtype: MTE95
ms.contentlocale: ja-JP
ms.lasthandoff: 02/22/2019
ms.locfileid: "56703033"
---
# <a name="visual-studio-graphics-diagnostics"></a>Visual Studio グラフィックス診断
Visual Studio*グラフィックス診断*記録し、Direct3D アプリのレンダリングとパフォーマンスの問題を分析するためのツールのセットです。 グラフィックス診断は、Windows PC でローカルに実行されているアプリ、Windows デバイス エミュレーターで実行されているアプリ、あるいはリモート PC またはデバイスで実行されているアプリに対して使用できます。

 グラフィックス診断のワークフローは、アプリが Direct3D を使用する方法の記録を、アプリの実行中にライブでキャプチャすることから始まります。記録したアプリの動作は、直ちに分析し、共有し、後で使用するために保存できます。 キャプチャ セッションを開始し、Visual Studio またはコマンド ライン キャプチャ ツールを使用して手動で制御される**dxcap.exe**します。 キャプチャ セッションを開始もされグラフィックス診断キャプチャ Api を使用してプログラムで制御できます。

 キャプチャ セッションによる記録が終わったら、Visual Studio の *Graphics Analyzer* を使用して、いつでもその内容を再生できます。その際、アプリが使用したのと正確に同じリソースとレンダリング コマンドを使用して、キャプチャされたフレームが再作成されます。 次に、グラフィックス分析ウィンドウで提供されるツールを使用して、キャプチャされたフレームのいずれかで分析できます詳細。 これらのツールを使用して、任意の Direct3D API 呼び出し、リソース、パイプライン状態オブジェクト、パイプライン ステージ、またはキャプチャしたフレーム内の任意のピクセルの完全な履歴さえも、調べることができます。 これらのツールを連携して使用すれば、レンダリングの問題を直感的に調査できます。キャプチャされたフレームにその問題が現れた地点から始めて、アプリのソース コード、シェーダー、またはグラフィックス アセットにある根本原因にまで掘り下げていきます。

 パフォーマンスの問題を診断するには、キャプチャしたフレームを*フレーム分析*ツールを使用して分析できます。 このツールは、アプリが Direct3D を使用する方法を自動的に変更して、さらに最適なパフォーマンスを実現できないかどうか探索し、すべてのバリエーションのベンチマークを提供します。 以前は、このような変更を手動で設定してベンチマークを取り、いちばん違いの大きいものを見つけるだけでした。 フレーム分析を利用する場合は、有効であることが既に分かっている変更を加える必要があるだけです。

 グラフィックス診断は、Direct3D アプリの外観を視覚的に優れたものにし、パフォーマンスを最大にするために役立ちます。

 引き続き[の概要](overview-of-visual-studio-graphics-diagnostics.md)を Visual Studio グラフィックス診断の機能の詳細を参照してください。

## <a name="in-this-section"></a>このセクションの内容
 [概要](overview-of-visual-studio-graphics-diagnostics.md)グラフィックス診断のワークフロー、およびツールについて説明します。

 [Getting Started](getting-started-with-visual-studio-graphics-diagnostics.md)このセクションでは、Visual Studio グラフィックス診断をインストールする方法と、Direct3D アプリでグラフィックス診断の使用を開始する方法を説明します。

 [グラフィックス情報のキャプチャ](capturing-graphics-information.md)アプリが DirectX を使用する方法についての情報の記録最初に、アプリのレンダリングの問題を確認するには、グラフィックス診断を使用、します。 アプリが通常どおりに実行されているときの記録セッション中に関心があるフレームを "*キャプチャ*" (つまり、選択) します。 キャプチャには、フレームがレンダリングされる方法に関する詳細情報が含まれています。 キャプチャした情報をグラフィックス ログのドキュメントとして保存し、後で調べたり、チームの他のメンバーと共有したりできます。

 [GPU 使用率](gpu-usage.md)にアプリをプロファイリングするグラフィックス診断を使用して、GPU 使用率ツールを使用します。 GPU 使用率ツールを、CPU 使用率など、他のプロファイリング ツールと連携して使用すると、アプリのパフォーマンスの問題を引き起こしている可能性のある CPU および GPU のアクティビティを、問題と関連付けることができます。

 [グラフィックス ログ ドキュメント](graphics-log-document.md)を記録したグラフィックス ログの調査を開始するには、キャプチャされたフレームを選択するグラフィックス ログ ドキュメント ウィンドウを使用する: 特定のピクセルまたは -詳細に調査できるように、*イベント*(DirectX API 呼び出し) に影響します。

 [フレーム分析](graphics-frame-analysis.md)を調べて、レンダリング パフォーマンスを調整する、グラフィックス フレーム分析を使用するフレームを選択した後。

 [イベント一覧](graphics-event-list.md)フレームを選択した後、使用して、**グラフィックス イベント一覧**レンダリングの問題に関連しているかどうかを判断するには、そのイベントを確認します。

 [状態](graphics-state.md)状態ウィンドウを使用して、現在のイベントの時点でアクティブになっているグラフィックスの状態を把握できます。

 [パイプライン ステージ](graphics-pipeline-stages.md)で、**グラフィックス パイプライン ステージ**ウィンドウで、現在選択されているイベントがグラフィックス パイプラインの各ステージで処理される場所を特定できるようにする方法を調査するレンダリングの問題を最初表示されます。 パイプライン ステージの調査は、正しくない変換のためにオブジェクトが表示されない場合、または次のステージで期待される出力と一致しない出力が 1 つのステージで生成された場合に特に便利です。

 [イベント呼び出し履歴](graphics-event-call-stack.md)を使用する、**グラフィックス イベント呼び出し履歴**レンダリングの問題に関連するアプリのコードに移動できるように、現在選択されているイベントの呼び出し履歴を確認します。

 [ピクセル履歴](graphics-pixel-history.md)を使用して、**グラフィックス ピクセル履歴**ウィンドウ、現在選択されているピクセルが、影響を与えたイベントによって影響を受ける方法を分析するイベントまたはイベントを発生する特定の組み合わせを識別できますレンダリングの問題の種類。 ピクセル履歴は、ピクセル シェーダー出力が正しくないか、フレーム バッファーと不適切に組み合わされているためにオブジェクトが正しくレンダリングされない場合、または、オブジェクトのピクセルがフレーム バッファーに到達する前に破棄されているためにオブジェクトが表示されない場合に特に便利です。

 [オブジェクト テーブル](graphics-object-table.md)を使用する、**グラフィックス オブジェクト テーブル**プロパティと特定の Direct3D オブジェクトおよび現在選択されているイベントの有効となっているリソースの内容を確認します。 オブジェクト テーブルを使用すると、イベントの発生時にアクティブであるグラフィックス デバイス コンテキストを特定し、定数バッファー、頂点バッファー、テクスチャなどのグラフィックス リソースの内容を調べることが容易になります。

 [HLSL デバッガー](hlsl-shader-debugger.md)を使用するシェーダー コードの現在選択されているイベントおよびグラフィックス パイプライン ステージの動作を確認する、 **HLSL デバッガー**コードをステップ実行、変数の内容を確認し、その他の実行一般的なデバッグ タスク。 また、結果がグラフィックス パイプラインによってさらに処理されるか、アプリによって再び読み取られるかに関係なく、HLSL デバッガーを使用して計算シェーダー コードを調べることができます。

 [コマンド ライン キャプチャ ツール](command-line-capture-tool.md)コマンド ライン キャプチャ ツールを使用して簡単にキャプチャして、Visual Studio またはプログラムによるキャプチャを使用せず、グラフィックス情報を再生します。 具体的には、オートメーションを行う場合や、テスト環境でコマンド ライン キャプチャ ツールを使用できます。

 [例](graphics-diagnostics-examples.md)いくつかの例は、さまざまな種類のレンダリングの問題の診断にグラフィックス診断ツールを併用する方法を示します。

## <a name="related-sections"></a>関連項目

| Title | 説明 |
| - | - |
| [デバッガー機能ツアー](/visualstudio/debugger/debugger-feature-tour) | [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] のデバッグ機能を紹介します。 |
| [DirectX のグラフィックスとゲーム](http://go.microsoft.com/fwlink/?LinkId=256498) | DirectX グラフィックスの手法を説明する文書を提供します。 |
