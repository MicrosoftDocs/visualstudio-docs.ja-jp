---
title: グラフィックス ピクセル履歴 |Microsoft ドキュメント
ms.custom: ''
ms.date: 11/04/2016
ms.technology: vs-ide-debug
ms.topic: conceptual
f1_keywords:
- vs.graphics.pixelhistory
ms.assetid: 0a2cbde5-1ad9-487e-857c-a3664158c268
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 9e0302e4b245a4fbf94d0eb49850101c404cd8a2
ms.sourcegitcommit: 3d10b93eb5b326639f3e5c19b9e6a8d1ba078de1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2018
---
# <a name="graphics-pixel-history"></a>グラフィックス ピクセル履歴
Visual Studio Graphics Analyzer の [ピクセル履歴] ウィンドウでは、特定のピクセルが、ゲームまたはアプリのフレームの生成中に発生する Direct3D イベントによってどのように影響を受けるかを理解できます。  
  
 [ピクセル履歴] ウィンドウを次に示します。  
  
 ![その履歴で次の 3 つの Direct3D イベントと共にピクセルです。] (media/gfx_diag_demo_pixel_history_orientation.png "gfx_diag_demo_pixel_history_orientation")  
  
## <a name="understanding-the-pixel-history-window"></a>[ピクセル履歴] ウィンドウについて  
 [ピクセル履歴] を使用すると、レンダー ターゲットの特定のピクセルが、特定のフレームの処理で Direct3D イベントの影響をどのように受けたかを分析できます。 ピクセルの最終的なカラー値が、後続のイベントまたは同じイベント内の後続のプリミティブによって変更された場合でも、レンダリングに関する問題の発生元である Direct3D イベントを正確に特定できます。 たとえば、ピクセルが正しくレンダリングされず、その色がフレームバッファー内で別の半透明ピクセルの色と混ざり合うことによって、あいまいになる場合があります。 レンダー ターゲットの最終的な内容だけを手がかりに、このような問題を診断することは困難です。  
  
 [ピクセル履歴] ウィンドウには、選択したフレームの処理におけるピクセルの完全な履歴が表示されます。 **最終フレーム バッファー**ウィンドウの上部にある、フレームバッファーのものであるフレームや画面のピクセルに関する追加情報と共に、フレームの末尾に書き込まれた色が表示されます座標です。 この領域にも含まれています、**アルファの描画**チェック ボックスをオンします。 このチェック ボックスがオンの場合、**最終フレーム バッファー**色と中間のカラー値が表示されます透過性、チェッカー ボード パターンをします。 このチェック ボックスがオフの場合、カラー値のアルファ チャネルは無視されます。  
  
 ウィンドウの下部にある部分をと共に、ピクセルの色を与える可能性のあるイベントを表示する、**初期**と**最終**の最初と最後の色値を表すの擬似イベントフレームバッファー内のピクセルです。 初期カラー値は、ピクセルの色を変更した最初のイベントによって決定されます (通常は `Clear` イベント)。 ピクセル履歴には、他のイベントがそのピクセルに影響を与えなかった場合でも、これら 2 つの擬似イベントが常に含まれます。 他のイベントにピクセルに影響を与える可能性があるときにそれらの間に表示される、**初期**と**最終**イベント。 イベントを展開すると、それらの詳細を表示できます。 レンダー ターゲットをクリアするイベントなど、単純なイベントが影響を与えるのはカラー値だけです。 描画呼び出しなどのより複雑なイベントは、ピクセルの色に影響を与える可能性がある、1 つ以上のプリミティブを生成します。  
  
 イベントによって描画されたプリミティブは、それらのプリミティブ型とインデックス、およびオブジェクトの合計プリミティブ数によって識別されます。 ような識別子など、**三角形 (1456)/(6214)**プリミティブが 6214 三角形で構成されるオブジェクトの 1456th 三角形に対応することを意味します。 各プリミティブ識別子の左側には、プリミティブがピクセルに与えた影響を要約するアイコンが表示されます。 ピクセルの色に影響を与えるプリミティブは、結果の色で塗りつぶされた角丸四角形で表されます。 ピクセルの色に影響を与えるプリミティブから除外されるプリミティブは、そのピクセルが除外された理由を示すアイコンで表されます。 これらのアイコンは、セクションで説明した[プリミティブの除外](#exclusion)この記事で後述します。  
  
 各プリミティブを展開すると、ピクセル シェーダーの出力が、どのように既存のピクセルの色にマージされ、結果の色が作成されたかを調べることができます。 ここでは、プリミティブに関連付けられているピクセル シェーダーのコードを確認またはデバッグしたり、頂点シェーダー ノードをさらに展開して、頂点シェーダーの入力を確認したりすることもできます。  
  
###  <a name="exclusion"></a> プリミティブの除外  
 プリミティブがピクセルの色に影響を与えるプリミティブから除外される場合、その除外の理由はさまざまです。 それぞれの理由は、次の表に記載されているアイコンで表されます。  
  
|アイコン|除外の理由|  
|----------|--------------------------|  
|![深度テスト エラーのアイコン。] (media/vsg_hist_icon_failed_depth.png "vsg_hist_icon_failed_depth")|ピクセルは深度テストに失敗したため除外されました。|  
|![ハサミ テスト エラーのアイコン。] (media/vsg_hist_icon_failed_scissor.png "vsg_hist_icon_failed_scissor")|ピクセルはハサミ テストに失敗したため除外されました。|  
|![ステンシル テスト エラーのアイコン。] (media/vsg_hist_icon_failed_stencil.png "vsg_hist_icon_failed_stencil")|ピクセルはステンシル テストに失敗したため除外されました。|  
  
### <a name="draw-call-exclusion"></a>描画呼び出しの除外  
 描画呼び出し内のすべてのプリミティブが、テストに失敗したことが原因で、レンダー ターゲットに影響を与えるプリミティブから除外された場合、その描画呼び出しは展開できず、除外の理由に対応するアイコンが、描画呼び出しの横に表示されます。 描画呼び出しの除外の理由は、プリミティブの除外の理由と似ており、そのアイコンも似ています。  
  
### <a name="viewing-and-debugging-shader-code"></a>シェーダー コードの表示およびデバッグ  
 シェーダーに関連付けられたプリミティブの下にあるコントロールを使用して、頂点、ハル、ドメイン、ジオメトリ、およびピクセルの各シェーダーのコードをデバッグできます。  
  
##### <a name="to-view-a-shaders-source-code"></a>シェーダーのソース コードを表示するには  
  
1.  **グラフィックス ピクセル履歴**ウィンドウで、シェーダーに対応する描画呼び出しを見つけを確認し、展開します。  
  
2.  展開した描画呼び出しの下で、該当する問題を示しているプリミティブを選択して展開します。  
  
3.  関心は、プリミティブの下には、シェーダーのタイトル リンクを辿ってください。-たとえば、次のリンク**頂点シェーダー obj:30**頂点シェーダーのソース コードを表示します。  
  
    > [!TIP]
    >  オブジェクト番号**obj:30**、オブジェクト テーブルやパイプライン ステージ ウィンドウなどの Graphics Analyzer インターフェイス全体でこのシェーダーを識別します。  
  
##### <a name="to-debug-a-shader"></a>シェーダーをデバッグするには  
  
1.  **グラフィックス ピクセル履歴**ウィンドウで、シェーダーに対応する描画呼び出しを見つけを確認し、展開します。  
  
2.  次に、展開した描画呼び出しの下で、該当する問題を示しているプリミティブを選択して展開します。  
  
3.  関心は、プリミティブを選択して**デバッグの開始**です。 HLSL デバッガーへのこのエントリ ポイントは、既定で、対応するプリミティブに対するシェーダーの最初の呼び出しに設定されます。つまり、このシェーダーによって処理される最初のピクセルまたは頂点です。 プリミティブに関連付けられるピクセルは 1 つだけですが、直線や三角形に対しては複数の頂点シェーダーが呼び出されます。  
  
     特定の頂点に対する頂点シェーダーの呼び出しをデバッグし、VertexShader タイトル リンクを展開し、調査する頂点を見つけて、クリックして**デバッグの開始**横にします。  
  
### <a name="links-to-graphics-objects"></a>グラフィックス オブジェクトへのリンク  
 ピクセル履歴のグラフィック イベントについて理解するために、イベントの発生時点におけるデバイスの状態や、そのイベントで参照されている Direct3D オブジェクトに関する情報が必要になる場合があります。 ピクセル履歴内の各イベントに対して、**グラフィックス ピクセル履歴**状態と関連オブジェクトの時点のデバイスへのリンクを提供します。  
  
## <a name="see-also"></a>関連項目  
 [チュートリアル: デバイス状態によるオブジェクトの不足](walkthrough-missing-objects-due-to-device-state.md)   
 [チュートリアル: 網かけによるレンダリング エラーのデバッグ](walkthrough-debugging-rendering-errors-due-to-shading.md)