---
title: デバッガーを概要します。
ms.description: Learn how to start the Visual Studio debugger, step through code, and inspect data.
ms.custom: mvc
ms.date: 03/16/2018
ms.technology: vs-ide-debug
ms.topic: tutorial
helpviewer_keywords:
- debugger
ms.assetid: 62734c0d-a75a-4576-8f73-0e97c19280e1
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: c62137422a4cbd7b85b4f7415e9b3fa85c2c0248
ms.sourcegitcommit: e13e61ddea6032a8282abe16131d9e136a927984
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/26/2018
---
# <a name="tutorial-learn-to-debug-using-visual-studio"></a>チュートリアル: Visual Studio を使用してデバッグする方法を学習します。

このトピックでは、ステップ バイ ステップ チュートリアルで Visual Studio デバッガーの機能を紹介します。 デバッガーの機能の高レベルの表示にする場合は、「[デバッガー機能のツアー](../debugger/debugger-feature-tour.md)です。

デバッガーの機能を参照してくださいに沿ってして読み取ることができますか、または機能のツアーで使用される完全なサンプルをダウンロードして手順を自分でします。 サンプルをダウンロードし、理解するには[フォト ビューアーのデモ](https://code.msdn.microsoft.com/windowsdesktop/WPF-Photo-Viewer-Demo-be75662a)です。

|         |         |
|---------|---------|
|  ![ビデオのムービー カメラ アイコン](../install/media/video-icon.png "ビデオを見る")  |    [ビデオを見る](https://mva.microsoft.com/en-US/training-courses-embed/getting-started-with-visual-studio-2017-17798/Debugger-Feature-tour-of-Visual-studio-2017-sqwiwLD6D_1111787171)のデバッグに関する同様の手順を表示します。 |

デモ アプリが必要な場合は、c# を使用しての機能は、C++、Visual Basic、JavaScript、および (場合を除き) Visual Studio でサポートされるその他の言語に適用されます。

このチュートリアルでは、次の作業を行います。

> [!div class="checklist"]
> * デバッガーを起動し、ブレークポイントにヒットします。
> * デバッガーでコードをステップ実行するためのコマンドを説明します。
> * データのヒント、およびデバッガー ウィンドウで変数を検査します。
> * コール スタックを調べる
> * 例外ヘルパーを使用します。

## <a name="start-the-debugger"></a>デバッガーを開始します。

1. Visual Studio でのこれらの手順を理解するには、サンプルをダウンロード[このページで](https://code.msdn.microsoft.com/windowsdesktop/WPF-Photo-Viewer-Demo-be75662a)です。

    > [!IMPORTANT]
    > デモでを使用してアプリを実行する、.NET デスクトップ開発用のワークロードで Visual Studio をインストールする必要があります。

2. プロジェクトを解凍します。

3. Visual Studio を開き、選択、**ファイル > 開く**メニュー コマンドを使用し、**プロジェクト/ソリューション**、プロジェクトをダウンロードしたフォルダーを開きます。

     ![サンプル プロジェクトを開いて](../debugger/media/dbg-tour-open-project.png "プロジェクトを開く")

3. WPF フォト ビューアーのデモを開く > C# の場合、フォルダーが photoapp.sln ファイルを選択し、選択**開く**です。

     Visual Studio でプロジェクトを開きます。 右側のウィンドウで、ソリューション エクスプ ローラーでは、すべてのプロジェクト ファイルを示します。

    ![ソリューション エクスプ ローラー ファイル](../debugger/media/dbg-tour-solution-explorer.png "ソリューション エクスプ ローラー")

4. F5 キーを押して (**デバッグ > [デバッグ開始]** または**デバッグの開始**ボタン![デバッグの開始](../debugger/media/dbg-tour-start-debugging.png "デバッグの開始")デバッグ ツールバーで)。

     ![フォト ビューアー アプリ](../debugger/media/dbg-tour-wpf-app.png "ビューアー アプリの写真")

     F5 キーは、アプリをおブレークポイントを追加またはコードをチェックする特別な処理を完了していないので、アプリのプロセスが右側にアタッチされたデバッガーを開始します。 アプリを読み込むようにと写真イメージを参照してください。

     このツアーでおを見て、デバッガーを使用してこのアプリを実行しを見て、デバッガーの機能を取得します。

5. 赤色の停止を押して、デバッガーを停止![デバッグの停止](../debugger/media/dbg-tour-stop-debugging.png "デバッグの停止")ボタンをクリックします。

## <a name="set-a-breakpoint-and-start-the-debugger"></a>ブレークポイントを設定し、デバッガーを起動

デバッグするには、デバッガーでは、アプリのプロセスにアタッチされているアプリを起動する必要があります。

1. `MainWindow` MainWindow.xaml.cs のコンス トラクターは、コードの最初の行の左側の余白をクリックしてブレークポイントを設定します。

     ![ブレークポイントを設定する](../debugger/media/dbg-tour-set-a-breakpoint.gif "SetABreakPoint")

6. F5 キーを押して、または**デバッグの開始**ボタンをクリックして、アプリが起動し、デバッガーを実行するコードの行にブレークポイントを設定します。

    黄色の矢印は、デバッガーが一時停止しても同じ時点 (このステートメントは、まだ実行) アプリの実行を中断するステートメントを表します。

    F5 キーでは、次のブレークポイントにアプリの実行が続行されます。 (アプリが実行されていない場合は、f5 キーを押してデバッガーを起動し、最初のブレークポイントで停止します。)

    ブレークポイントは、コードの行または詳細に調査コードのセクションがわかっている場合に便利な機能がします。

## <a name="restart-your-app-quickly"></a>アプリを迅速に再起動します。

をクリックして、**再起動**![アプリの再起動](../debugger/media/dbg-tour-restart.png "RestartApp") (Ctrl + Shift + f5 キーを押して) デバッグ ツールバーのボタンをクリックします。

押すと**再起動**時間、アプリを停止してデバッガーを再起動すると保存されます。 デバッガーは、最初のコードを実行してヒットしたブレークポイントで一時停止します。

設定するでのブレークポイントでデバッガーが再び停止する、`MainWindow`コンス トラクターです。

## <a name="navigate-code-in-the-debugger-using-step-commands"></a>ステップ コマンドを使用して、デバッガーでコード内を移動します。

ほとんどの場合、使用して、キーボード ショートカットここを取得することをお勧めになっているため、デバッガーの (対応するコマンド メニューなどのコマンドは、かっこで囲まれた) でアプリを実行する高速にします。

1. F11 キーを押します (**デバッグ > ステップ イン**) にはアプリの実行を進めるには、2 回、`InitializeComponent()`関数。

     ![F11 キーを使用してコードにステップ インを](../debugger/media/dbg-tour-f11.png "F11 ステップ イン")

     F11 キーは、**ステップ イン**コマンドを実行し、時にアプリの実行の 1 つのステートメントを進めます。 F11 キーは、ほとんど詳細に、実行フローを検査することをお勧めします。 (コードを高速移動するには表示する他のいくつかのオプションも)。既定では、デバッガーが非ユーザー コードをスキップ (詳細についてを参照してください[マイ コードのみ](../debugger/just-my-code.md))。

     >[!NOTE]
     > マネージ コードでは、プロパティおよび演算子 (既定の動作) 経由で自動的にステップ インするときに通知するかどうかたずねるダイアログ ボックスが表示されます。 設定を変更する場合、後で無効にする**プロパティおよび演算子をステップ オーバー**での設定、**ツール > オプション**下にあるメニュー**デバッグ**です。

2. F10 キーを押します (**デバッグ > ステップ オーバー**) を数回のコードの最初の行でデバッガーを停止するまで、`OnApplicationStartup`イベント ハンドラー。

     ![F10 キーを使用して、ステップ オーバー コードを](../debugger/media/dbg-tour-f10-step-over.png "f10 キーを押してステップ オーバー")

     F10 キーは、(引き続きコードが実行される)、アプリ コードの関数やメソッドにステップ インせず、デバッガーを進めます。 F10 キーを押すことで、`InitializeComponent`メソッドの呼び出し (F11)、代わりにスキップの実装コード`InitializeComponent`(おそらくおいないに興味が現在どの)。

## <a name="step-into-a-property"></a>プロパティにステップ インします。

1. デバッガーでは、次のコード行で一時停止。

    ````
    mainWindow.Photos.Path = Environment.CurrentDirectory + "\\images";
    ````

    コードの行を右クリックし、選択**イン**、し**SDKSamples.ImageSample.PhotoCollection.Path.set**

     ![特定の機能にステップを使用して](../debugger/media/dbg-tour-step-into-specific.png "イン")

    既定では、デバッガーでは、管理対象のプロパティ、フィールドをスキップ、前述のようですが、**イン**コマンドでは、この動作をオーバーライドすることができます。 ここでは、動作を説明するときに、`Path.set`プロパティ set アクセス操作子を実行します。 **イン**を取得すること、`Path.set`コードします。

     ![関数にステップ インの結果](../debugger/media/dbg-tour-step-into-specific-2.png "イン")

     `Update`興味深い、可能性がありますように、このコードでメソッドが見えるそれでは、プレゼンテーションでは、デバッガーを使用して、そのコードの詳細を確認します。

5. ポインターを合わせる、`Update`緑までメソッド**実行 をクリックする**ボタン![実行 をクリックする](../debugger/media/dbg-tour-run-to-click.png "RunToClick")左側に表示します。

     ![クリックして、実行を使用して機能](../debugger/media/dbg-tour-run-to-click-2.png "実行 をクリックする")

    >  [!NOTE] 
    > **実行 をクリックする**ボタンはで新しく[!include[vs_dev15](../misc/includes/vs_dev15_md.md)]です。 緑色の矢印ボタンを表示されない場合代わりに F11 この例では、デバッガーを進める

6. クリックして、**実行 をクリックする**ボタン![実行 をクリックする](../debugger/media/dbg-tour-run-to-click.png "RunToClick")です。

    このボタンを使用することは、一時的なブレークポイントの設定に似ています。 **クリックして実行**(開いているファイルでクリックすることができます)、アプリ コードの表示領域内で簡単に回避するため便利です。

    デバッガーに進めます、`Update`メソッドの実装です。

7. ステップ イン f11 キーを押して、`Update`メソッドです。

     ![Update メソッドにステップ インの結果](../debugger/media/dbg-tour-update-method.png "Update メソッドにステップ")

    ここでは、興味深い; を検索するコードがわかりますすべての *.jpg ファイル、特定のディレクトリに存在しており、各ファイルのフォト オブジェクトを作成するアプリを取得します。 このコードでは、デバッガーでは、アプリ状態 (変数) を調査を開始する良い機会によりします。 このチュートリアルの次のセクションでは、行うおされます。

    変数を検査できるようにする機能は、デバッガーの最も便利な機能の 1 つと、それを実行する方法はあります。 多くの場合、問題をデバッグしようとすると、特定の時刻に付与すると想定している値を変数に格納するかどうかを確認するとしています。

## <a name="examine-the-call-stack"></a>コール スタックを調べる

一時停止中に、`Update`メソッドをクリックして、**呼び出し履歴**ウィンドウで、既定では左下のウィンドウで開くがします。

![コール スタックを調べる](../debugger/media/dbg-tour-call-stack.png "ExamineCallStack")

**呼び出し履歴** ウィンドウに表示するメソッドおよび関数が呼び出された順序。 最初の行が現在の関数を示しています (、`Update`ツアー アプリ内のメソッド)。 2 番目の行を表示する`Update`から呼び出されていた、`Path.set`プロパティというようにします。

>  [!NOTE]
> **呼び出し履歴**ウィンドウは Eclipse のようないくつかの Ide でデバッグ パースペクティブに似ています。

呼び出し履歴を調査して、アプリの実行フローを理解することをお勧めします。

画面をそのソース コードを表示するコードの行をダブルクリックしてもに、デバッガーによって検査されている現在のスコープを変更します。 この操作では、デバッガーは変化しません。

右クリック メニューを使用することも、**呼び出し履歴**他の操作 ウィンドウ。 たとえば、指定した関数にブレークポイントを挿入を使用して、デバッガーを進める**カーソルまで実行**、進みソース コードを調べます。 詳細については、次を参照してください。[する方法: 呼び出し履歴を調べて](../debugger/how-to-use-the-call-stack-window.md)です。

## <a name="step-out"></a>[ステップ アウト]

たとえば、終了することを調べること、 `Update` Data.cs でメソッドが、関数から益を得るがデバッガーに保持します。 こうことを使用して、**ステップ アウト**コマンド。

1. Shift キーを押しながら F11 キーを押します (または**デバッグ > ステップ アウト**)。

     このコマンドがアプリの実行を再開する (およびデバッガーを進めます) まで、現在の関数を返します。

     チェックインする必要があります、 `Update` Data.cs のメソッド呼び出しです。

2. Shift + f11 キーをもう一度、およびデバッガー キーを押して呼び出し履歴の上に移動して、`OnApplicationStartup`イベント ハンドラー。

## <a name="run-to-cursor"></a>[カーソル行の前まで実行]

1. 選択、**デバッグの停止**赤いボタン![デバッグの停止](../debugger/media/dbg-tour-stop-debugging.png "デバッグの停止")または shift キーを押しながら f5 キーを押します。

2. `Update` Data.cs、内のメソッドを右クリックし、`Add`メソッドを呼び出すし、選択**カーソルまで実行**です。 このコマンドは、デバッグを開始し、現在のコード行に一時的なブレークポイントを設定します。

     ![カーソル機能を実行 を使って](../debugger/media/dbg-tour-run-to-cursor.png "カーソルまで実行")

    内のブレークポイントで一時停止する必要があります`MainWindow`(ので、最初のブレークポイントを設定します)。

3. 進める f5 キーを押して、`Add`メソッドを選択した**カーソルまで実行**です。

    このコマンドは、コードを編集して、すぐに一時的なブレークポイントを設定し、デバッガーを起動する場合に便利です。

## <a name="change-the-execution-flow"></a>実行フローを変更します。

1. デバッガーで一時停止、`Add`メソッドを呼び出すが、左側の黄色の矢印 (実行ポインター) を取得する、マウスを使用してし、に 1 行上の黄色の矢印を移動、`foreach`ループします。

     ![実行ポインターを移動](../debugger/media/dbg-tour-move-the-execution-pointer.gif "実行ポインターを移動")

    実行フローを変更すると、別のコードの実行パスをテストまたはデバッガーを再起動しなくてもコードを再実行などの処理を行うことができます。

2. ここで、F5 キーを押します。

    アプリのウィンドウに追加されたイメージを表示できます。 内のコードを再実行しているため、`foreach`ループ、一部の画像が 2 回追加されました!
    
    > [!WARNING]
    > 多くの場合、この機能を使用するように注意する必要があり、ツールヒントに警告を参照してください。 その他の警告がすぎる表示可能性があります。 ポインターの移動と、以前のアプリの状態をアプリケーションを戻すことはできません。

## <a name="inspect-variables-with-data-tips"></a>データ ヒントで変数を検査します。

1. フォト ビューアーのデモ アプリで Data.cs を開きを右クリックし、`private void Update`関数宣言と選択**カーソルまで実行**(アプリケーションの停止、最初は既に実行されている場合)。

    アタッチされたデバッガーでこの、アプリは一時停止します。 これにより、その状態を確認します。

2. ポインターを合わせる、`Add`メソッドを呼び出すし、をクリックして、**クリック実行**ボタン![実行 をクリックする](../debugger/media/dbg-tour-run-to-click.png "RunToClick")です。

3. ここで、ファイル オブジェクト ポインターを合わせる (`f`) し、その既定のプロパティ値、ファイル名を参照してください`market 031.jpg`です。

     ![データ ヒントを表示する](../debugger/media/dbg-tour-data-tips.gif "データ ヒントを表示します。")

4. など、すべてのプロパティを表示するオブジェクトを展開して、`FullPath`プロパティです。

    多くの場合、デバッグする場合、オブジェクトのプロパティ値を確認する簡単な方法あり、データのヒントは、それを実行することをお勧めします。

    > [!TIP]
    > 最もサポートされている言語では、変更するものが見つかった場合、デバッガー セッション中のコードを編集できます。 詳細については、次を参照してください。[エディット コンティニュ](../debugger/edit-and-continue.md)です。 このアプリでその機能を使用するには、ただしはまず必要があります、.NET Framework のアプリのバージョンを更新します。

## <a name="inspect-variables-with-the-autos-and-locals-windows"></a>[自動変数] と [ローカル] ウィンドウで変数を検査します。

1. 見て、 **[自動変数]** コード エディターの下部のウィンドウ。

     ![[自動変数] ウィンドウで変数を検査](../debugger/media/dbg-tour-autos-window.png "自動変数 ウィンドウ")

    **[自動変数]** ウィンドウで、変数と、現在の値を参照してください。 **[自動変数]** ウィンドウが現在の行または前の行で使用されるすべての変数を示しています (C++ では、ウィンドウに表示される変数上記の 3 行のコードにします。 言語固有の動作のマニュアルを確認) します。

    > [!NOTE]
    > JavaScript では、**ローカル**ウィンドウはしない場合はサポートされて、 **[自動変数]** ウィンドウです。

2. 次を見て、**ローカル**ウィンドウです。

    **ローカル**ウィンドウには、現在のスコープ内にある変数が表示されます。

    ![[ローカル] ウィンドウで変数を検査](../debugger/media/dbg-tour-locals-window.png "[ローカル] ウィンドウ")

    現時点では、`this`オブジェクトと、ファイル オブジェクト (`f`) は現在のスコープ内にします。 詳細については、次を参照してください。 [[自動変数] と [ローカル] ウィンドウで変数を検査](../debugger/autos-and-locals-windows.md)です。

## <a name="set-a-watch"></a>ウォッチ式を設定します。

1. 主要なコード エディター ウィンドウで、ファイル オブジェクトを右クリックし (`f`) を選択して**ウォッチ式の追加**です。

    使用することができます、**ウォッチ**ウィンドウ上、注意する変数 (または式) を指定します。

    ここで、ウォッチがある、`File`オブジェクトとするには、その値をデバッガー内を移動するように変更を表示できます。 他の変数ウィンドウとは異なり、**ウォッチ**ウィンドウが常に表示変数試聴していること (それらいるグレー表示時にスコープ外)。

2. `Add`メソッド [緑] をクリックして![実行 をクリックする](../debugger/media/dbg-tour-run-to-click.png "RunToClick")を再度クリックして (または f11 キーを何回か押します) を進めていくと、`foreach`ループします。

    ![変数のウォッチを設定する](../debugger/media/dbg-tour-watch-window.png "[ウォッチ] ウィンドウ")

    実行のメイン ウィンドウに追加される最初の画像を表示することも可能性があります。 サンプル アプリが行われる別のアプリのスレッドでため、イメージがまだ表示されなくなります。

    詳細については、次を参照してください[ウォッチと [クイック ウォッチ] ウィンドウを使用して監視を設定。](../debugger/watch-and-quickwatch-windows.md)

## <a name="examine-an-exception"></a>例外を調べる

1. 実行中のアプリ ウィンドウ内のテキストを削除、**パス**入力ボックスを選択、**変更**ボタンをクリックします。

     ![例外がスローされる](../debugger/media/dbg-tour-cause-an-exception.png "例外が発生します。")

     アプリが、例外をスローし、デバッガーの例外をスローしたコード行に移動します。
     
     ![例外ヘルパー](../debugger/media/dbg-tour-exception-helper.png "例外ヘルパー")

     ここでは、**例外ヘルパー**を表示、`System.ArgumentException`され、パスは正しい書式ではないというエラー メッセージ。 わかるようにするため、メソッドまたは関数の引数に、エラーが発生しました。

     この例では、`DirectoryInfo`に格納されている空の文字列での呼び出しがエラーを付けた、`value`変数。 (ポインターを合わせる`value`に空の文字列を参照してください)。

     例外ヘルパーは、エラーをデバッグするのに役立つ優れた機能です。 エラーの詳細なビューと同様の操作を実行し、例外ヘルパーからのウォッチを追加できます。 または、必要な場合は、特定の例外をスローするための条件を変更することができます。

    >  [!NOTE] 
    > 例外ヘルパーが、例外処理アシスタントに置き換えられます[!include[vs_dev15](../misc/includes/vs_dev15_md.md)]です。

2. 展開して、**例外設定**このツアーを何も変更する必要はありませんが、この種類の例外を処理する方法の他のオプションを表示するノードです。

3. F5 キーを押して、アプリを続行します。

デバッガーの機能の詳細については、次を参照してください。[デバッガー ヒントとテクニック](../debugger/debugger-tips-and-tricks.md)です。

## <a name="next-steps"></a>次の手順

このチュートリアルでは、コードをステップ実行、デバッガーを起動し、変数を検査する方法を学びました。 詳細情報へのリンクと共にデバッガーの機能について詳しく説明を取得することがあります。

> [!div class="nextstepaction"]
> [デバッガー機能ツアー](../debugger/debugger-feature-tour.md)
