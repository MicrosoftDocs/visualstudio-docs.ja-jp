---
title: Visual Studio デバッガーを使用してデバッグするについて説明します
ms.description: Learn how to start the Visual Studio debugger, step through code, and inspect data.
ms.custom: mvc
ms.date: 06/15/2018
ms.technology: vs-ide-debug
ms.topic: tutorial
helpviewer_keywords:
- debugger
ms.assetid: 62734c0d-a75a-4576-8f73-0e97c19280e1
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 1144e7e33709510cb03ed02cb62020f81e8e8b62
ms.sourcegitcommit: 498e39e89a89ad7bf9dcb0617424fff999b1c3b2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/21/2018
ms.locfileid: "36303147"
---
# <a name="tutorial-learn-to-debug-using-visual-studio"></a>チュートリアル: Visual Studio を使用してデバッグする方法を学習します。

このトピックでは、ステップ バイ ステップ チュートリアルでは、Visual Studio デバッガーの機能を紹介します。 デバッガー機能の上位レベルのビューにする場合は、「[デバッガー機能ツアー](../debugger/debugger-feature-tour.md)します。 ときにする*アプリのデバッグ*、アタッチされたデバッガーでアプリケーションを実行していることを通常意味します。 デバッガーにはさまざまな方法でコードが何を参照してください。 これを行うときに実行中にします。 値を変更するときに表示する変数のウォッチを設定する、コードをステップ実行したり、変数に格納されている値を確認は、コードの実行パスを調べることができます et al します。コードをデバッグしようとした初めての場合は、読み取りをする可能性があります[超初心者向けのデバッグ](../debugger/debugging-absolute-beginners.md)にこのトピックに進む前にします。

に沿って、デバッガーの機能を参照してくださいに読むことができますか、または機能ツアーで使用される完全なサンプルをダウンロードして自分で、手順に従います。 サンプルをダウンロードし、理解するには[フォト ビューアーのデモ](https://code.msdn.microsoft.com/windowsdesktop/WPF-Photo-Viewer-Demo-be75662a)します。

|         |         |
|---------|---------|
|  ![ビデオのムービー カメラ アイコン](../install/media/video-icon.png "ビデオを見る")  |    [ビデオを見る](https://mva.microsoft.com/en-US/training-courses-embed/getting-started-with-visual-studio-2017-17798/Debugger-Feature-tour-of-Visual-studio-2017-sqwiwLD6D_1111787171)のデバッグに関する同様の手順を示すです。 |

デモ アプリが必要な場合は、c# を使用しての機能は、C++、Visual Basic、JavaScript、および (場合を除き)、Visual Studio でサポートされている他の言語に適用されます。

このチュートリアルでは、次の作業を行います。

> [!div class="checklist"]
> * デバッガーを起動し、ブレークポイントにヒットします。
> * デバッガーでコードをステップ実行コマンドを習得します。
> * データのヒント、およびデバッガー ウィンドウで変数を検査します。
> * コール スタックを調べる
> * 例外ヘルパーを使用して、

## <a name="prerequisites"></a>前提条件

* Visual Studio 2017 をインストールする必要があります、します。**NET のデスクトップ開発**ワークロード。

    Visual Studio をまだインストールしていない場合は、[Visual Studio のダウンロード](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=button+cta&utm_content=download+vs2017) ページに移動し、無料試用版をインストールしてください。

    ワークロードをインストールする必要があるが、既に Visual Studio を所有している場合は、(**[ファイル]** > **[新規作成]** > **[プロジェクト]** の順に選択し) **[新しいプロジェクト]** ダイアログ ボックスの左側のウィンドウにある **[Visual Studio インストーラーを開く]** リンクをクリックします。 Visual Studio インストーラーが起動します。 選択します。**NET のデスクトップ開発**ワークロードを選択し、**変更**します。

## <a name="start-the-debugger"></a>デバッガーを起動します。

1. Visual Studio で次の手順を理解するには、サンプルをダウンロード[このページで](https://code.msdn.microsoft.com/windowsdesktop/WPF-Photo-Viewer-Demo-be75662a)します。

    > [!IMPORTANT]
    > .NET デスクトップ開発ワークロードがデモを使用してアプリを実行する Visual Studio をインストールする必要があります。

2. プロジェクトを解凍します。

3. Visual Studio を開き、選択、**ファイル > を開く**メニュー コマンドを選択し、**プロジェクト/ソリューション**、プロジェクトをダウンロードしたフォルダーを開きます。

     ![サンプル プロジェクトを開いて](../debugger/media/dbg-tour-open-project.png "プロジェクトを開く")

3. WPF のフォト ビューアーのデモを開く > c# フォルダー、選択、 *photoapp.sln*ファイル、および選択**オープン**します。

     プロジェクトが Visual Studio で開きます。 右側のウィンドウで、ソリューション エクスプ ローラーでは、すべてのプロジェクト ファイルを示します。

    ![ソリューション エクスプ ローラー ファイル](../debugger/media/dbg-tour-solution-explorer.png "ソリューション エクスプ ローラー")

4. キーを押して**F5** (**デバッグ > [デバッグ開始]**) または**デバッグの開始**ボタン![デバッグの開始](../debugger/media/dbg-tour-start-debugging.png "デバッグの開始")デバッグ ツールバー。

     ![フォト ビューアー アプリ](../debugger/media/dbg-tour-wpf-app.png "フォト ビューアー アプリ")

     F5 キーを押してブレークポイントを追加またはコードをチェックする特別な処理を完了していないので、アプリのプロセスが右側にアタッチされたデバッガー、アプリを起動します。 アプリを読み込むようにし、photo イメージを参照してください。

     このツアーでは、デバッガーを使用してこのアプリを詳しく見てがされさらに機能が、デバッガーを参照してください。

5. 赤色の停止を押して、デバッガーを停止![デバッグの停止](../debugger/media/dbg-tour-stop-debugging.png "デバッグの停止")ボタンをクリックします。

## <a name="set-a-breakpoint-and-start-the-debugger"></a>ブレークポイントを設定し、デバッガーを起動します

デバッグするには、アプリのプロセスにアタッチされたデバッガーでアプリを開始する必要があります。

1. `MainWindow` MainWindow.xaml.cs のコンス トラクターは、コードの最初の行の左余白をクリックしてブレークポイントを設定します。

     ![ブレークポイントを設定する](../debugger/media/dbg-tour-set-a-breakpoint.gif "SetABreakPoint")

    ブレークポイントは、信頼できるデバッグの最も基本的で重要な機能です。 ブレークポイントは、Visual Studio が実行コードを中断する場所を示します。これにより、変数の値またはメモリの動作を確認したり、コードの分岐が実行されるかどうかを確認したりすることができます。 

6. キーを押して**F5**または**デバッグの開始**ボタンをクリックして、アプリが起動し、ブレークポイントを設定したコードの行に、デバッガーが実行されます。

    黄色の矢印は、デバッガーが一時停止されても (このステートメントがまだ実行) 同じ時点でアプリの実行を中断するステートメントを表します。

    F5 キーでは、次のブレークポイントまでアプリの実行が続行されます。 (アプリがまだ実行されていない場合は、f5 キーを押してデバッガーを起動し、最初のブレークポイントで停止します。)

    ブレークポイントは、コードの行または詳細に確認するコードのセクションがわかっている場合に便利な機能です。

## <a name="optional-restart-your-app-quickly"></a>(省略可能)アプリを迅速に再起動します。

をクリックして、**再起動**![アプリの再起動](../debugger/media/dbg-tour-restart.png "RestartApp")デバッグ ツールバーのボタン (**Ctrl** + **Shift**  +  **F5**)。

押したとき**再起動**アプリを停止して、デバッガーを再起動すると時間が節約されます。 コードを実行してヒットした最初のブレークポイントでデバッガーが一時停止します。

設定するでのブレークポイントでデバッガーが再び停止する、`MainWindow`コンス トラクター。

## <a name="navigate-code-in-the-debugger-using-step-commands"></a>ステップ コマンドを使用して、デバッガーでコードを移動します。

ほとんどの場合、使用してキーボード ショートカットここでは、取得する優れた方法であるデバッガー (同等のコマンド メニューなどのコマンドは、かっこ内に表示されます) で、アプリの実行時に、高速です。

1. キーを押して**F11** (**デバッグ > ステップ イン**) には、アプリの実行を進めるには、2 回、`InitializeComponent()`関数。

     ![F11 キーを使用して、コードにステップ インを](../debugger/media/dbg-tour-f11.png "ステップ イン F11")

     F11 キーは、**ステップ イン**コマンドを実行し、時にアプリの実行の 1 つのステートメントを進めます。 F11 キーは、ほとんどの詳細情報で実行フローを確認する良い方法です。 (コードをより迅速に紹介するその他のオプションも。)既定で、デバッガーが非ユーザー コードをスキップ (詳細についてを実行する場合に、「[マイ コードのみ](../debugger/just-my-code.md)).

     >[!NOTE]
     > マネージ コードでは、プロパティおよび演算子 (既定の動作) 経由で自動的にステップ インするときに通知するかどうかたずねるダイアログ ボックスが表示されます。 設定を変更する場合、後で無効にする**プロパティおよび演算子をステップ オーバー**での設定、**ツール > オプション**下にあるメニュー**デバッグ**します。

2. キーを押して**F10** (**デバッグ > ステップ オーバー**) 何回かのコードの最初の行でデバッガーを停止するまで、`OnApplicationStartup`イベント ハンドラー。

     ![F10 キーを使用して、ステップ オーバー コードを](../debugger/media/dbg-tour-f10-step-over.png "f10 キーを押してステップ オーバー")

     F10 キーは、(まだコードが実行される)、アプリのコードの関数やメソッドにステップ インすることがなく、デバッガーを進めます。 F10 キーを押して、`InitializeComponent`メソッドの呼び出しの実装コードでは省略しました (F11) ではなく`InitializeComponent`(おそらくはいない、対象となるで現在どの)。

## <a name="step-into-a-property"></a>プロパティにステップ インします。

1. デバッガーでは、次のコード行で一時停止。

    ````c#
    mainWindow.Photos.Path = Environment.CurrentDirectory + "\\images";
    ````

    コード行を右クリックし、選択**関数にステップ イン**、し**SDKSamples.ImageSample.PhotoCollection.Path.set**

     ![特定の機能にステップ インを使用して、](../debugger/media/dbg-tour-step-into-specific.png "関数にステップ イン")

    既定では、デバッガーは、管理対象のプロパティやフィールドをスキップ、前に説明したようが**関数にステップ イン**コマンドでは、この動作をオーバーライドすることができます。 ここでは、動作にご注目するときに、`Path.set`プロパティ set アクセス操作子を実行します。 **関数にステップ イン**を取得、`Path.set`ここをコードします。

     ![結果の関数にステップ イン](../debugger/media/dbg-tour-step-into-specific-2.png "関数にステップ イン")

     `Update`可能性があります、興味深いようこのコードでメソッドそれでは、プレゼンテーションでは、デバッガーを使用して、閉じるには、そのコードを確認します。

5. ポインターを合わせる、`Update`緑までメソッド**クリックで実行**ボタン![クリックで実行](../debugger/media/dbg-tour-run-to-click.png "RunToClick")左側に表示します。

     ![クリックで実行を使用して機能](../debugger/media/dbg-tour-run-to-click-2.png "クリックで実行")

    >  [!NOTE]
    > **クリックで実行**ボタンは新[!include[vs_dev15](../misc/includes/vs_dev15_md.md)]します。 緑色の矢印ボタンが表示されない場合は、F11 この例では代わりに使用、デバッガーを進めます。

6. をクリックして、**クリックで実行**ボタン![クリックで実行](../debugger/media/dbg-tour-run-to-click.png "RunToClick")します。

    このボタンを使用することは、一時的なブレークポイントを設定に似ています。 **クリックで実行**はアプリのコード (開いているファイルでクリックすることができます) の可視領域内で簡単に回避するために便利です。

    デバッガーに進めます、`Update`メソッドの実装。

7. キーを押して**F11**にステップ イン、`Update`メソッド。

     ![結果の Update メソッドにステップ イン](../debugger/media/dbg-tour-update-method.png "Update メソッドにステップ")

    ここでは、興味深い; コードはいくつかがわかりますアプリがすべてを取得します。*jpg*ファイルの特定のディレクトリ内に存在して、ファイルごとに、写真オブジェクトを作成します。 このコードでは、アプリの状態 (変数) と、デバッガーでの検査を開始するよい機会によりします。 このチュートリアルの次のセクションで行います。

    変数を検査できるようにする機能は、デバッガーの最も便利な機能の 1 つと、これを行う方法はあります。 多くの場合、問題をデバッグするときに、変数が期待どおりにして、特定の時刻値を格納するかどうかを確認しようとしています。

## <a name="examine-the-call-stack"></a>コール スタックを調べる

一時停止中に、`Update`メソッド、クリックして、**呼び出し履歴**ウィンドウで、既定の右下のウィンドウで開くことです。

![呼び出し履歴を調べ](../debugger/media/dbg-tour-call-stack.png "ExamineCallStack")

**呼び出し履歴**ウィンドウ メソッドと関数を呼び出す作業はこれで順序が表示されます。 先頭行は、現在の関数を示しています (、`Update`ツアー アプリでメソッド)。 2 行目を示しています`Update`から呼び出されていた、`Path.set`プロパティ、という具合です。

>  [!NOTE]
> **呼び出し履歴**Eclipse などの一部の Ide ウィンドウはデバッグ パースペクティブに似ています。

呼び出し履歴は、調査およびアプリの実行フローを理解することをお勧めします。

ソース コードを確認します。 コード行をダブルクリックしても、デバッガーによって検査されている現在のスコープを変更します。 このアクションでは、デバッガーは変化しません。

右クリック メニューを使用することもできます、**呼び出し履歴**ウィンドウを他の操作を行います。 たとえば、指定した関数にブレークポイントを挿入を使用して、デバッガーを進める**カーソルまで実行**、go ソース コードを調べるとします。 詳細については、次を参照してください。[方法: 呼び出し履歴を調べる](../debugger/how-to-use-the-call-stack-window.md)します。

## <a name="step-out"></a>ステップ アウト

たとえばを終了することを調べる、 `Update` Data.cs でメソッドを活用、関数が、デバッガーで常にします。 これを行うを使用して、**ステップ アウト**コマンド。

1. キーを押して**Shift** + **F11** (または**デバッグ > ステップ アウト**)。

     このコマンドがアプリの実行を再開 (および、デバッガーを進めます) まで、現在の関数を返します。

     戻る必要があります、 `Update` Data.cs でメソッド呼び出し。

2. キーを押して**shift キーを押し** + **F11**ここでも、デバッガーが呼び出し履歴とに、`OnApplicationStartup`イベント ハンドラー。

## <a name="run-to-cursor"></a>[カーソル行の前まで実行]

1. 選択、**デバッグの停止**赤いボタン![デバッグの停止](../debugger/media/dbg-tour-stop-debugging.png "デバッグの停止")または**Shift** + **F5**.

2. `Update`メソッド*Data.cs*を右クリックし、`Add`メソッドを呼び出すし、選択**カーソルまで実行**します。 このコマンドは、デバッグを開始し、コードの現在の行に一時的なブレークポイントを設定します。

     ![実行カーソル機能を使用して、](../debugger/media/dbg-tour-run-to-cursor.png "カーソルまで実行")

    内のブレークポイントで一時停止する必要があります`MainWindow`(は、最初のブレークポイントを設定します)。

3. キーを押して**F5**に進めておく、`Add`メソッドを選択した**カーソルまで実行**します。

    このコマンドは、コードを編集して迅速に一時的なブレークポイントを設定し、デバッガーを起動する場合に便利です。

## <a name="change-the-execution-flow"></a>実行フローを変更します。

1. デバッガーでの一時停止して、`Add`メソッドの呼び出しは、左側の黄色の矢印 (実行ポインター) を取得する、マウスを使用してし、を 1 つの行に黄色の矢印を移動、`foreach`ループします。

     ![実行ポインターを移動](../debugger/media/dbg-tour-move-the-execution-pointer.gif "実行ポインターを移動")

    実行フローを変更するには、別のコードの実行パスをテストまたはデバッガーを再起動しなくてもコードを再実行などの処理を行うことができます。

2. ここで、キーを押して**F5**します。

    アプリのウィンドウに追加する画像を表示できます。 内のコードを再実行するため、`foreach`イメージの一部には、ループが 2 回追加されています。

    > [!WARNING]
    > 多くの場合、この機能により、注意する必要があり、ツールヒントに警告を表示します。 すぎて他の警告を表示可能性があります。 ポインターを移動すると、アプリケーションを以前のアプリの状態を元に戻すことはできません。

## <a name="inspect-variables-with-data-tips"></a>データ ヒントで変数を検査します。

1. 開いている*Data.cs*フォト ビューアーのデモ アプリを右クリックし、`private void Update`関数の宣言と選択**カーソルまで実行**(アプリの停止、最初は既に実行されている場合)。

    アタッチされたデバッガーでこの、アプリは一時停止します。 これにより、その状態を調べることができます。

2. ポインターを合わせる、`Add`メソッドを呼び出すし、をクリックして、**クリックで実行**ボタン![クリックで実行](../debugger/media/dbg-tour-run-to-click.png "RunToClick")します。

3. ここで、ファイル オブジェクト ポインターを合わせる (`f`) とその既定のプロパティ値、ファイル名を参照してください*市場 031. jpg*します。

     ![データ ヒントを表示する](../debugger/media/dbg-tour-data-tips.gif "データ ヒントを表示します。")

4. すべてのプロパティを表示するオブジェクトを展開して、`FullPath`プロパティ。

    多くの場合、オブジェクト、プロパティ値を確認する簡単な方法が必要なデバッグ時にし、データ ヒントには、これを行う良い方法です。

    > [!TIP]
    > サポートされているほとんどの言語を変更する項目が見つかった場合、デバッガー セッションの途中でコードを編集できます。 詳細については、次を参照してください。[エディット コンティニュ](../debugger/edit-and-continue.md)します。 このアプリでその機能を使用するには、ただしはまず必要があります、.NET Framework のアプリのバージョンを更新します。

## <a name="inspect-variables-with-the-autos-and-locals-windows"></a>[自動変数] と [ローカル] ウィンドウで変数を検査します。

1. 見て、 **[自動変数]** コード エディターの下部のウィンドウ。

     ![[自動変数] ウィンドウで変数の検査](../debugger/media/dbg-tour-autos-window.png "[自動変数] ウィンドウ")

    **[自動変数]** ウィンドウで、変数と、現在の値を参照してください。 **[自動変数]** ウィンドウには、現在の行または前の行で使用されるすべての変数が表示されます (C++ で、ウィンドウが表示されます変数に上記の 3 行のコード。 言語固有の動作のマニュアルを確認)。

    > [!NOTE]
    > JavaScript では、**ローカル**ウィンドウはサポートされていませんが、 **[自動変数]** ウィンドウ。

2. 次を見て、**ローカル**ウィンドウ。

    **ローカル**ウィンドウには、現在のスコープ内にある変数が表示されます。

    ![[ローカル] ウィンドウで変数の検査](../debugger/media/dbg-tour-locals-window.png "[ローカル] ウィンドウ")

    現時点では、`this`オブジェクトとファイル オブジェクト (`f`) 現在のスコープ内にあります。 詳細については、次を参照してください。 [[自動変数] と ローカルの Windows での変数の検査](../debugger/autos-and-locals-windows.md)します。

## <a name="set-a-watch"></a>ウォッチを設定します。

1. メインのコード エディター ウィンドウで、ファイル オブジェクトを右クリックし (`f`) 選択**ウォッチ式の追加**します。

    使用することができます、**ウォッチ**ウィンドウ上に注意する変数 (または式) を指定します。

    ここで、ウォッチがある、`File`オブジェクトとは、その値をデバッガー内を移動するように変更を表示できます。 その他の変数ウィンドウとは異なり、**ウォッチ**ウィンドウは常に表示、変数試聴していること (グレー場合にスコープ外)。

2. `Add`メソッド [緑] をクリックして![クリックで実行](../debugger/media/dbg-tour-run-to-click.png "RunToClick")ボタンをもう一度 (または何回か、f11 キーを押します) を進めていくと、`foreach`ループ。

    ![変数のウォッチを設定する](../debugger/media/dbg-tour-watch-window.png "[ウォッチ] ウィンドウ")

    実行中のメイン ウィンドウに追加される最初の画像も、イメージが表示されないためにの別のアプリ スレッドでサンプル アプリが、これが発生します。

    詳細については、次を参照してください[ウォッチ ウィンドウと [クイック ウォッチ] の Windows を使用してウォッチを設定。](../debugger/watch-and-quickwatch-windows.md)

## <a name="examine-an-exception"></a>例外を調べる

1. 実行中のアプリ ウィンドウでのテキストを削除、**パス**入力ボックスを選択します、**変更**ボタンをクリックします。

     ![例外がスローされる](../debugger/media/dbg-tour-cause-an-exception.png "例外が発生します。")

     アプリは、例外をスローし、デバッガーの例外をスローしたコード行に移動します。

     ![例外ヘルパー](../debugger/media/dbg-tour-exception-helper.png "例外ヘルパー")

     ここでは、**例外ヘルパー**では、`System.ArgumentException`とパスは、形式が無効ではないことを示すエラー メッセージ。 そのため、メソッドまたは関数の引数でエラーが発生したわかっています。

     この例で、`DirectoryInfo`呼び出しした結果、エラー、空の文字列に格納されている、`value`変数。 (ポインターを合わせる`value`に空の文字列を参照してください)。

     例外ヘルパーは、エラーをデバッグするのに役立つ優れた機能です。 エラーの詳細ビューと同様の処理を実行し、例外ヘルパーからウォッチを追加できます。 または、必要な場合は、特定の例外をスローするための条件を変更することができます。

    >  [!NOTE]
    > 例外ヘルパーが、例外処理アシスタントで置き換えられます[!include[vs_dev15](../misc/includes/vs_dev15_md.md)]します。

2. 展開、**例外設定**がこの種類の例外を処理する方法のほかのオプションを表示するノードがこのツアーでは何も変更する必要はありません。

3. アプリを続行するには **F5** キーを押します。

デバッガーの機能の詳細については、次を参照してください。[デバッガーのヒントとテクニック](../debugger/debugger-tips-and-tricks.md)します。

## <a name="next-steps"></a>次の手順

このチュートリアルでは、コードをステップ実行、デバッガーを起動し、変数を確認する方法を学習できました。 詳細情報へのリンクと共にデバッガー機能の概要を取得することがあります。

> [!div class="nextstepaction"]
> [デバッガー機能ツアー](../debugger/debugger-feature-tour.md)
