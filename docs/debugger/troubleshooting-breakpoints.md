---
title: デバッガーでのブレークポイントのトラブルシューティング |Microsoft Docs
ms.custom: seodec18
ms.date: 01/23/2018
ms.topic: troubleshooting
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 7c11741cb9bb9a0b0c64b9452b54daa6ac226b92
ms.sourcegitcommit: 08c144d290da373df841f04fc799e3133540a541
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2019
ms.locfileid: "72535931"
---
# <a name="troubleshoot-breakpoints-in-the-visual-studio-debugger"></a>Visual Studio デバッガーでのブレークポイントのトラブルシューティング

## <a name="breakpoint-warnings"></a>ブレークポイントの警告

デバッグ時には、ブレークポイントに2つの視覚的な状態があります。赤い丸と白抜き (白の塗りつぶし) の円です。 デバッガーがターゲットプロセスでブレークポイントを正常に設定できる場合は、赤い丸で塗りつぶされたままになります。 ブレークポイントが白抜きの円の場合は、ブレークポイントを設定しようとすると、ブレークポイントが無効になるか、警告が発生します。 相違点を確認するには、ブレークポイントの上にマウスポインターを移動し、警告が表示されているかどうかを確認します。

次の2つのセクションでは、目立つ警告とその修正方法について説明します。

### <a name="no-symbols-have-been-loaded-for-this-document"></a>"このドキュメントのシンボルが読み込まれていません"

**[モジュール]** ウィンドウ (**Windows**  > **モジュール**の**デバッグ** > ) にアクセスし、モジュールが読み込まれているかどうかを確認します。
* モジュールが読み込まれている場合は、 **[シンボルの状態]** 列をチェックして、シンボルが読み込まれているかどうかを確認します。
  * シンボルが読み込まれていない場合は、シンボルの状態を確認して問題を診断します。 **[モジュール]** ウィンドウのモジュールのコンテキストメニューから、 **[シンボルの読み込み情報...]** をクリックして、デバッガーがシンボルを試してみようとした場所を確認します。 シンボルの読み込みの詳細については、「[シンボル (.pdb) ファイルとソースファイルの指定](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)」を参照してください。
  * シンボルが読み込まれた場合、PDB にはソースファイルに関する情報が含まれていません。 次のような原因が考えられます。
    * ソースファイルが最近追加された場合は、モジュールの最新バージョンが読み込まれていることを確認します。
    * **/PDBSTRIPPED**リンカーオプションを使用して、削除された pdb を作成することができます。 削除された Pdb にソースファイルの情報が含まれていません。 Pdb が削除されていないことを確認します。
    * PDB ファイルが部分的に破損しています。 ファイルを削除し、モジュールのクリーンビルドを実行して問題を解決してください。

* モジュールが読み込まれていない場合は、次のことを確認して原因を見つけます。
  * 適切なプロセスをデバッグしていることを確認します。
  * 正しい種類のコードをデバッグしていることを確認します。 デバッガーがデバッグするように構成されているコードの種類については、 **[プロセス]** ウィンドウ ([**デバッグ** > **Windows**  > **プロセス**)] を参照してください。 たとえば、コードをデバッグC#する場合は、適切な種類とバージョンの .net (たとえば、managed (v4 \*) とマネージ (v2 \*/v3 \*) と管理対象 (CoreCLR)) に対してデバッガーが構成されていることを確認します。

### <a name="-the-current-source-code-is-different-from-the-version-built-into"></a>"… 現在のソースコードは、に組み込まれているバージョンと異なります。

ソースファイルが変更され、ソースがデバッグ中のコードと一致しなくなった場合、デバッガーは既定でコードにブレークポイントを設定しません。 通常、この問題はソースファイルが変更されたが、ソースコードが再構築されなかった場合に発生します。 この問題を解決するには、プロジェクトをリビルドします。 ビルドシステムでプロジェクトが既に最新の状態であると判断された場合は、ソースファイルを再度保存するか、ビルドする前にプロジェクトのビルド出力を消去して、プロジェクトシステムを強制的にリビルドすることができます。

まれなシナリオでは、対応するソースコードを使用せずにデバッグすることが必要になる場合があります。 ソースコードを一致させずにデバッグすると、デバッグが複雑になる可能性があるため、次の手順に従うことを確認してください。

これらの安全性チェックを無効にするには、次のいずれかの操作を行います。
* 1つのブレークポイントを変更するには、エディターのブレークポイントアイコンの上にマウスポインターを移動し、[設定] (歯車) アイコンをクリックします。 [ピーク] ウィンドウがエディターに追加されます。 [ピーク] ウィンドウの上部には、ブレークポイントの場所を示すハイパーリンクが表示されます。 ハイパーリンクをクリックしてブレークポイントの位置を変更できるようにし、[**ソースコードを元と異なるものに**する] チェックボックスをオンにします。
* すべてのブレークポイントのこの設定を変更するには、[**デバッグ** >  の**オプションと設定]** にアクセスします。 **[デバッグ] / [全般]** ページで、 **[元のバージョンと完全に一致するソース ファイルを必要とする]** オプションをオフにします。 デバッグが完了したら、このオプションを再度有効にしてください。

## <a name="the-breakpoint-was-successfully-set-no-warning-but-didnt-hit"></a>ブレークポイントは正常に設定されましたが (警告はありません)、ヒットしませんでした

このセクションでは、デバッガーで警告が表示されない場合の問題のトラブルシューティングに関する情報を提供します。ブレークポイントはアクティブデバッグ中は赤い丸で囲まれていますが、ブレークポイントはヒットしていません。

次の点を確認してください。
1. 1つ以上のプロセスまたは複数のコンピューターでコードを実行する場合は、適切なプロセスまたはコンピューターをデバッグしていることを確認してください。
2. コードが実行されていることを確認します。 コードが実行されていることをテストするには、C#ブレークポイントを設定しようC++としているコード行に `System.Diagnostics.Debugger.Break` (/VB) または `__debugbreak` () の呼び出しを追加し、プロジェクトをリビルドします。
3. 最適化されたコードをデバッグする場合は、ブレークポイントが設定されている関数が別の関数にインライン化されていないことを確認してください。 前のチェックで説明した `Debugger.Break` テストは、この問題のテストにも使用できます。

## <a name="i-deleted-a-breakpoint-but-i-continue-to-hit-it-when-i-start-debugging-again"></a>ブレークポイントを削除したが、デバッグを再実行するとヒットし続ける

デバッグ中にブレークポイントを削除した場合は、次にデバッグを開始したときにブレークポイントに再びヒットすることがあります。 このブレークポイントのヒットを停止するには、ブレークポイントのすべてのインスタンスが **[ブレークポイント]** ウィンドウから削除されていることを確認します。
