---
title: "並列スタック ウィンドウを使用するスレッドの表示 |Microsoft ドキュメント"
ms.custom: 
ms.date: 04/25/2017
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: vs.debug.parallelstacks
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords: debugger, parallel tasks window
ms.assetid: f50efb78-5206-4803-bb42-426ef8133f2f
caps.latest.revision: "18"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 32870ebf31c88bbc6bdf024c2c4c93ae1869660a
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/31/2017
---
# <a name="view-threads-and-tasks-using-the-parallel-stacks-window"></a>スレッドと並列スタック ウィンドウを使用してタスクを表示します。
**並列スタック**ウィンドウは、マルチ スレッド アプリケーションをデバッグする場合に役立ちます。 その**スレッド ビュー**アプリケーション内のすべてのスレッドの呼び出し履歴情報を表示します。 これを使用して、スレッドとそれらのスレッドのスタック フレームの間を移動できます。 マネージ コードで、**タスク ビュー**呼び出し履歴の表示<xref:System.Threading.Tasks.Task?displayProperty=fullName>オブジェクト。 ネイティブ コードで、**タスク ビュー**呼び出し履歴の表示[タスク グループ](/cpp/parallel/concrt/task-parallelism-concurrency-runtime)、[並列アルゴリズム](/cpp/parallel/concrt/parallel-algorithms)、[非同期エージェント](/cpp/parallel/concrt/asynchronous-agents)、および[軽量タスク](/cpp/parallel/concrt/task-scheduler-concurrency-runtime)です。  
  
## <a name="threads-view"></a>スレッド ビュー  
 次の図は、Main から A、B の順に移行した後に外部コードに移った 1 つのスレッドと、 同じ外部コードから始まり A に移行した他の 2 つのスレッドを示しています。そのうちの 1 つは、その後 B を経て外部コードに移り、もう一方は C を経て AnonymousMethod に移っています。  
  
 ![並列スタック ウィンドウのビューをスレッド](../debugger/media/parallel_stacksthread.png "Parallel_StacksThread")  
  
 図では、現在のスレッドの呼び出しパスが青で強調表示し、スレッドの現在の場所 (アクティブなスタック フレーム) が黄色の矢印で表されます。 別のメソッドを選択して、現在のスタック フレームを変更することができます、**並列スタック**ウィンドウです。 このとき、選択したメソッドが既に現在のスレッドの一部であるか別のスレッドの一部であるかに応じて、現在のスレッドも切り替わる場合があります。 次の表の主な機能、**並列スタック**ウィンドウの図に示すようにします。  
  
|コールアウトの文字|要素名|説明|  
|--------------------|------------------|-----------------|  
|A|呼び出し履歴のセグメントまたはノード|一連 1 つまたは複数のスレッドのメソッドにはが含まれています。 ノードに矢印の線が結ばれていない場合は、スレッドのすべての呼び出しパスを表します。|  
|B|青の強調表示|現在のスレッドの呼び出しパスを示します。|  
|C|矢印の線|ノードを結び、スレッドのすべての呼び出しパスを構成します。|  
|D|ノードのヘッダーのツールヒント|呼び出しパスがこのノードを共有する各スレッドの ID とユーザー定義名を示します。|  
|E|メソッド|同じメソッド内の 1 つ以上のスタック フレームを表します。|  
|F|メソッドのツールヒント|スレッド ビューですべてのスレッドに表示、テーブルのような**スレッド**ウィンドウです。 タスク ビューでは、すべてのタスク テーブルに表示のような**タスク**ウィンドウです。|  
  
 さらに、並列スタック ウィンドウを示しています、**バード アイ ビュー**時はグラフが大きすぎてウィンドウには、メイン ウィンドウのアイコン。 このアイコンをクリックすると、ウィンドウ内にグラフ全体を表示できます。  
  
## <a name="stack-frame-icons"></a>スタック フレームのアイコン  
 アクティブなスタック フレームと現在のスタック フレームに関する情報を示すアイコンを次の表に示します。  
  
|||  
|-|-|  
|アイコン|説明|  
|![並列スタックの黄色の矢印](../debugger/media/icon_parallelyellowarrow.gif "Icon_ParallelYellowArrow")|メソッドが、現在のスレッドの現在の場所 (アクティブなスタック フレーム) が含まれていることを示します。|  
|![並列スタック スレッドのアイコン](../debugger/media/icon_parallelthreads.gif "Icon_ParallelThreads")|メソッドが、現在ではないスレッドの現在の場所 (アクティブなスタック フレーム) が含まれていることを示します。|  
|![並列スタックの緑色の矢印](../debugger/media/icon_parallelgreenarrow.gif "Icon_ParallelGreenArrow")|メソッドが現在のスタック フレーム (現在のデバッガー コンテキスト) が含まれていることを示します。 対応するメソッド名は、表示されるすべてのノードで太字で表されます。|  
  
## <a name="toolbar-controls"></a>ツール バー コントロール  
 次の図と表は、[並列スタック] のツール バーで使用できるコントロールを示したものです。  
  
 ![並列スタック ウィンドウのツールバー](../debugger/media/parallel_stackstoolbar.png "Parallel_StacksToolbar")  
  
|コールアウトの文字|コントロール|説明|  
|--------------------|-------------|-----------------|  
|A|[スレッド]/[タスク] ボックス|スレッドの呼び出し履歴とタスクの呼び出し履歴の表示を切り替えます。 詳細については、「タスク ビュー」および「スレッド ビュー」を参照してください。|  
|B|[フラグが設定されたもののみを表示]|など、他のデバッグ ウィンドウでフラグ付けされているスレッドのみの呼び出し履歴を表示、 **GPU スレッド**ウィンドウおよび**並列ウォッチ**ウィンドウです。|  
|C|[メソッド ビューの切り替え]|スタック ビューとメソッド ビューを切り替えます。 詳細については、「メソッド ビュー」を参照してください。|  
|D|[現在のスタック フレームに自動スクロール]|現在のスタック フレームがビューに表示されるように図を自動でスクロールします。 この機能は、他のウィンドウから現在のスタック フレームを変更する場合や、大きなダイアグラム内で新しいブレークポイントにヒットした場合に役立ちます。|  
|E|[ズーム コントロールの切り替え]|ズーム コントロールの表示と非表示を切り替えます。 CTRL キーを押し、ズーム コントロールの可視性に関係なく、マウス ホイールを回すして ctrl キーを押しながら shift キーを使用してを拡大することも + '+' は、ズーム インして CTRL + SHIFT +'-' を縮小します。Ctrl キーを押しながら f8 キーを押し、画面に合わせてサイズで表示されます。|  
  
### <a name="context-menu-items"></a>コンテキスト メニュー項目  
 次の図と表は、スレッド ビューまたはタスク ビューのいずれかのメソッドを右クリックしたときに使用できるショートカット メニュー項目を説明します。 最後の 6 つの項目は、[呼び出し履歴] ウィンドウの機能をそのまま使用したものであり、動作も同じになります。  
  
 ![並列スタック ウィンドウのショートカット メニュー](../debugger/media/parallel_contmenu.png "Parallel_ContMenu")  
  
|メニュー項目|説明|  
|---------------|-----------------|  
|フラグ|選択した項目にフラグを設定します。|  
|フラグ解除|選択した項目のフラグを解除します。|  
|凍結|選択した項目を凍結します。|  
|凍結解除|選択した項目の凍結を解除します。|  
|[タスクに移動] ([スレッドに移動])|実行される機能はツール バーのボックスと同じですが、同じスタック フレームが強調表示されたままになります。|  
|[ソース コードへ移動]|ユーザーが右クリックしたスタック フレームに対応するソース コード内の位置に移動します。|  
|[フレームに切り替え]|[呼び出し履歴] ウィンドウの対応するメニュー コマンドと同じです。 ただし、並列スタック では、複数のフレームは 1 つのメソッドに対応可能性があります。 そのため、このメニュー項目には、それぞれ特定のスタック フレームを表すサブメニューがあります。 現在のスレッドのスタック フレームが 1 つだけの場合は、そのスタック フレームに対応するメニューが選択されます。|  
|[逆アセンブルを表示]|ユーザーが右クリックしたスタック フレームに対応する逆アセンブル ウィンドウ内の位置に移動します。|  
|外部コードの表示|外部コードの表示と非表示を切り替えます。|  
|[16 進数で表示]|10 進数と 16 進数の表示を切り替えます。|  
|[シンボルの読み込み情報]|対応するダイアログ ボックスを表示します。|  
|[シンボルの設定]|対応するダイアログ ボックスを表示します。|  
  
## <a name="tasks-view"></a>タスク ビュー  
 アプリケーションが使用されている場合<xref:System.Threading.Tasks.Task?displayProperty=fullName>オブジェクト (マネージ コード) または`task_handle`並列化を表現するオブジェクト (ネイティブ コード) に切り替えるには、並列スタック ウィンドウのツールバーのコンボ ボックスを使用することができます*タスク ビュー*です。 タスク ビューには、スレッドではなくタスクの呼び出し履歴が表示されます。 タスク ビューがスレッド ビューと異なる点は次のとおりです。  
  
-   タスクを実行していないスレッドの呼び出し履歴は表示されません。  
  
-   タスクを実行しているスレッドの呼び出し履歴は上下の項目が非表示になり、タスクに関連する重要なフレームだけが表示されます。  
  
-   1 つのスレッドに複数のタスクがある場合、それらのタスクの呼び出し履歴が個々のノードに分けられます。  
  
 次の図は、右側に [並列スタック] のタスク ビュー、左側に対応するスレッド ビューを示したものです。  
  
 ![タスクの並列スタック ウィンドウのビューに](../debugger/media/parallel_tasksview.png "Parallel_TasksView")  
  
 すべての呼び出し履歴を表示するには、切り替えることスレッド ビューに戻すスタック フレームを右クリックし、をクリックして**スレッドに移動**です。  
  
 メソッドを合わせることで、前の表で説明されているとは、追加情報を表示できます。 次の図は、スレッド ビューおよびタスク ビューのツールヒントに表示される情報を示しています。  
  
 ![並列スタック ウィンドウのツールヒント](../debugger/media/parallel_stack_tooltips.png "Parallel_Stack_Tooltips")  
  
## <a name="method-view"></a>メソッド ビュー  
 スレッド ビューまたはタスク ビューでツール バーの [メソッド ビュー] アイコンをクリックすると、現在のメソッドを中心とするグラフを表示できます。 メソッド ビューを使用すると、現在のメソッドを呼び出すか現在のメソッドから呼び出されるすべてのスレッドのすべてのメソッドを一目で確認できます。 次の図は、スレッド ビューと共に、同じ情報がメソッド ビューではどのように表示されるかを示したものです。  
  
 ![並列スタック ウィンドウのメソッド ビュー](../debugger/media/parallel_methodview.png "Parallel_MethodView")  
  
 新しいスタック フレームに切り替えると、そのメソッドが現在のメソッドになり、新しいメソッドのすべての呼び出し元と呼び出し先がウィンドウに表示されます。 これにより、そのメソッドが呼び出し履歴に含まれているかどうかに応じて、一部のスレッドの表示と非表示が切り替わる場合があります。 スタック ビューに戻るには、ツール バーの [メソッド ビュー] ボタンをもう一度クリックします。  
  
## <a name="see-also"></a>関連項目  
 [マルチ スレッド アプリケーションのデバッグの開始します。](../debugger/get-started-debugging-multithreaded-apps.md)   
 [チュートリアル: 並行アプリケーションのデバッグ](../debugger/walkthrough-debugging-a-parallel-application.md)   
 [デバッガーの基本事項](../debugger/debugger-basics.md)   
 [マネージ コードをデバッグする](../debugger/debugging-managed-code.md)   
 [並列プログラミング](/dotnet/standard/parallel-programming/index)   
 [[タスク] ウィンドウを使用します。](../debugger/using-the-tasks-window.md)   
 [Task クラス](../extensibility/debugger/task-class-internal-members.md)
