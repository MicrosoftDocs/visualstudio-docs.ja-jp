---
title: デバッガーでのスレッドの表示 |Microsoft ドキュメント
ms.custom: ''
ms.date: 04/25/2017
ms.technology:
- vs-ide-debug
ms.topic: conceptual
f1_keywords:
- vs.debug.threads
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- threading [Visual Studio], debugging
- Thread.Name property
- debugger, Threads window
- SetThreadName function
- Threads window
- '@TIB'
- debugging [Visual Studio], threads
ms.assetid: 590ffd57-0556-43d8-8962-ee27e5b2b7d7
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 081d3d2289ff73b3e5ccacfc23fd8a5fe7eb292b
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/16/2018
---
# <a name="view-threads-in-the-debugger-in-visual-studio-using-the-threads-window"></a>[スレッド] ウィンドウを使用して Visual Studio のデバッガーでスレッドの表示
**スレッド** ウィンドウで確認し、できますデバッグしているアプリケーションのスレッドを使用します。 使用する方法の手順については、**スレッド**ウィンドウを参照してください[チュートリアル: [スレッド] ウィンドウを使用してデバッグ](../debugger/how-to-use-the-threads-window.md)です。
  
 **スレッド**ウィンドウには、各行が、アプリケーション内のスレッドを表すテーブルが含まれています。 既定では、このテーブルにはアプリケーション内のすべてのスレッドが表示されますが、目的のスレッドのみを表示するように一覧にフィルターをかけることができます。 各列には、さまざまな種類の情報が表示されます。 一部の列は非表示にすることもできます。 すべての列を表示する場合、次の情報が左から右へ表示されます。  
  
-   フラグ列。特に注意する必要のあるスレッドをマークすることができます。 スレッドにフラグを設定する方法については、次を参照してください。[する方法: フラグとスレッドのフラグを解除](../debugger/how-to-flag-and-unflag-threads.md)です。  
  
-   現在のスレッドの列 (矢印のアウトラインは、現在ではないスレッドの現在のデバッガー コンテキストを示す)、現在のスレッドが黄色の矢印にことを示します。
  
-   **ID**列で、各スレッドの id 番号が含まれています。  
  
-   **マネージ ID**列で、マネージ スレッドのマネージ識別番号が含まれています。  
  
-   **カテゴリ**列で、ユーザー インターフェイス スレッド、リモート プロシージャ コール ハンドラー、またはワーカー スレッドとスレッドをカテゴリに分類します。 アプリケーションのメイン スレッドは特別なカテゴリによって示されます。  
  
-   **名前**列である場合、または名前で各スレッドを識別する必要が\<No Name >。  
  
-   **場所**列で、スレッドが実行されている示しています。 この場所を展開して、スレッドの呼び出し履歴全体を表示できます。  
  
-   **優先度**列で、優先度またはシステムが各スレッドに割り当てられている優先順位が含まれています。  
  
-   **Affinity Mask** (通常非表示) 高度な列には、その列です。 この列には、各スレッドのプロセッサ関係マスクが表示されます。 マルチプロセッサ システムでは、関係マスクによって、スレッドを実行できるプロセッサが決まります。  
  
-   **中断回数**列 (非表示に通常)、中断カウントが含まれており、通常は非表示にします。 このカウントによって、スレッドを実行できるかどうかが決まります。 中断カウントの詳細については、このトピックの「スレッドの凍結と凍結解除」を参照してください。  
  
-   **プロセス名**(非表示に通常)、各スレッドが属しているプロセスを含む列。 この列は、複数のプロセスをデバッグする際に役立ちます。  
  
### <a name="to-display-the-threads-window-in-break-mode-or-run-mode"></a>中断モードまたは実行モードで [スレッド] ウィンドウを表示するには  
  
-   デバッグ中に次のように選択します。、**デバッグ** メニューの  をポイント**Windows**、クリックして**スレッド**です。  
  
### <a name="to-display-or-hide-a-column"></a>列の表示と非表示を切り替えるには  
  
-   上部のツールバーで、**スレッド**ウィンドウで、をクリックして**列**、オンまたはオフに表示/非表示にする列の名前。    

## <a name="display-flagged-threads"></a>フラグが設定されたスレッドを表示します。  
 アイコンでマークすることによって、特に注目するスレッドのフラグを設定することができます、**スレッド**ウィンドウです。 詳細については、次を参照してください。[する方法: フラグとスレッドのフラグを解除](../debugger/how-to-flag-and-unflag-threads.md)です。 **スレッド**ウィンドウのすべてのスレッドまたはフラグが設定されたスレッドのみを表示することもできます。  
  
#### <a name="to-display-only-flagged-threads"></a>フラグが設定されたスレッドのみ表示するには  
  
-   選択、**フラグが設定されたスレッドのみを表示する**の上部にあるボタン、**スレッド**ウィンドウです。 (淡色表示すると、場合に最初にいくつかのスレッドのフラグを設定します。) 

## <a name="freeze-and-thaw-threads"></a>固定およびスレッドを凍結解除  
 スレッドを凍結すると、利用できるリソースがあっても、そのスレッドの実行は開始されません。  
  
 ネイティブ コードで中断またはスレッドを再開して、Windows 関数を呼び出すことによって`SuspendThread`と`ResumeThread`MFC 関数または[CWinThread::SuspendThread](/cpp/mfc/reference/CWinThread-class.md#cwinthread__suspendthread)と[cwinthread::resumethread](/cpp/mfc/reference/CWinThread-class.md#cwinthread__resumethread). 呼び出す場合`SuspendThread`または`ResumeThread`、変更する、*中断カウント*に表示される、**スレッド**ウィンドウです。 ただし、ネイティブ スレッドを凍結または凍結解除しても、中断カウントは変わりません。 ネイティブ コードでは、凍結が解除され、中断カウントがゼロになるまで、スレッドは実行されません。  
  
 マネージ コードでは、スレッドの凍結または凍結解除によって中断カウントが変わります。 マネージ コードでは、凍結されたスレッドの中断カウントは 1 になります。 ネイティブ コードでは、スレッドが `SuspendThread` 呼び出しによって中断されている場合を除き、凍結されたスレッドの中断カウントは 0 です。  
  
> [!NOTE]
>  ネイティブ コードからマネージ コードへの呼び出しをデバッグする場合、マネージ コードは呼び出し元のネイティブ コードと同じ物理スレッドで実行されます。 ネイティブ スレッドを中断または凍結すると、マネージ コードも凍結されます。  
  
#### <a name="to-freeze-or-thaw-execution-of-a-thread"></a>スレッドの実行を凍結または凍結解除するには  
  
-   上部のツールバーで、**スレッド**ウィンドウで、をクリックして**スレッドの凍結**または**スレッドの凍結解除**です。  
  
     この操作で選択されているスレッドのみに影響を与える、**スレッド**ウィンドウです。 

### <a name="switch-to-another-thread"></a>別のスレッドに切り替える 

黄色の矢印は、現在のスレッド (および実行ポインターの場所) を示します。 巻いた尾の付いた緑色の矢印は、現在ではないスレッドが現在のデバッガー コンテキストを示します。

#### <a name="to-switch-to-another-thread"></a>別のスレッドに切り替えるには  
  
-   次のいずれかの操作を実行します。  
  
    -   任意のスレッドをダブルクリックします。  
  
    -   スレッドを右クリックし、をクリックして**スレッドに切り替える**です。

## <a name="group-and-sort-threads"></a>グループと並べ替えのスレッド  
 スレッドをグループ化すると、グループごとに、見出しがテーブルに表示されます。 見出しには、"ワーカー スレッド" や "フラグが解除されたスレッド" などのグループの説明、およびツリー コントロールが表示されます。 各グループのメンバー スレッドは、そのグループの見出しの下に表示されます。 グループのメンバー スレッドを非表示にするには、ツリー コントロールを使用して、グループを折りたたみます。  
  
 グループ化は並べ替えよりも優先されるので、たとえば、カテゴリ別にスレッドをグループ化してから、各カテゴリ内で ID によってグループを並べ替えることができます。  
  
#### <a name="to-sort-threads"></a>スレッドを並べ替えるには  
  
1.  上部のツールバーで、**スレッド**ウィンドウで、任意の列の上部にあるボタンをクリックします。  
  
     スレッドがその列の値で並べ替えられます。  
  
2.  並べ替え順序を逆にするには、同じボタンをもう一度クリックします。  
  
     一覧の一番上に表示されていたスレッドが一番下に表示されます。  
  
#### <a name="to-group-threads"></a>スレッドをグループ化するには  
  
-   **スレッド**ウィンドウのツールバーでをクリックして、 **Group by**リストをクリックし、スレッドのグループ化する条件をクリックします。  
  
#### <a name="to-sort-threads-within-groups"></a>グループ内でスレッドを並べ替えるには  
  
1.  上部のツールバーで、**スレッド**ウィンドウで、をクリックして、**でグループ化**リストをクリックし、スレッドのグループ化する条件をクリックします。  
  
2.  **スレッド**ウィンドウで、任意の列の上部にあるボタンをクリックします。  
  
     スレッドがその列の値で並べ替えられます。  
  
#### <a name="to-expand-or-collapse-all-groups"></a>すべてのグループの展開または折りたたみを行うには  
  
-   上部のツールバーで、**スレッド**ウィンドウで、をクリックして**グループの展開**または**グループの折りたたみ**です。  
  
## <a name="search-for-specific-threads"></a>特定のスレッドを検索  
 [!INCLUDE[vs_dev11_long](../data-tools/includes/vs_dev11_long_md.md)] では、指定した文字列に一致するスレッドを検索できます。 内のスレッドを検索するときに、**スレッド**ウィンドウのウィンドウはすべての列の検索文字列に一致するすべてのスレッドが表示されます。 情報がのコール スタックの最上部に表示されるスレッドの場所が含まれている、**場所**列です。 既定では、ただし、呼び出し履歴全体は検索されません。  
  
#### <a name="to-search-for-specific-threads"></a>特定のスレッドを検索するには  
  
-   上部のツールバーで、**スレッド**ウィンドウに移動して、**検索**ボックスし、いずれか。  
  
    -   検索文字列を入力し、Enter キーを押します。  
  
         \- または -  
  
    -   横にドロップダウン リストをクリックして、**検索**ボックスし、以前の検索から検索文字列を選択します。  
  
-   (省略可能)検索の完全なコール スタックを含めるには**呼び出し履歴の検索**です。   
  
## <a name="display-thread-call-stacks-and-switching-between-frames"></a>スレッドの呼び出し履歴の表示とフレーム間の切り替え  
マルチスレッド プログラムでは、各スレッドに専用の呼び出し履歴があります。 **スレッド**ウィンドウは、これらの呼び出し履歴を表示する便利な手段を提供します。

> [!TIP]
> 各スレッドの呼び出し履歴の視覚的表現を使用して、[並列スタック](../debugger/get-started-debugging-multithreaded-apps.md)ウィンドウです。
  
#### <a name="to-view-the-call-stack-of-a-thread"></a>スレッドの呼び出し履歴を表示するには  
  
-   **場所**列で、スレッドの場所の横にある下向きの三角形をクリックします。  
  
     場所が展開されて、そのスレッドの呼び出し履歴が表示されます。  
  
#### <a name="to-view-or-collapse-the-call-stacks-of-all-threads"></a>すべてのスレッドの呼び出し履歴の表示と非表示を切り替えるには  
  
-   上部のツールバーで、**スレッド**ウィンドウで、をクリックして**呼び出し履歴の**または**呼び出し履歴の折りたたみ**です。  
  
## <a name="see-also"></a>関連項目  
 [マルチ スレッド アプリケーションをデバッグします。](../debugger/debug-multithreaded-applications-in-visual-studio.md)   
 [マルチ スレッド アプリケーションのデバッグの開始します。](../debugger/get-started-debugging-multithreaded-apps.md)