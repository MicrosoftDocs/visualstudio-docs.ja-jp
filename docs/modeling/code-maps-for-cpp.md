---
title: C++ ソース ファイルとヘッダー ファイル間の依存関係を参照してください。
ms.date: 05/16/2018
ms.topic: conceptual
author: gewarren
ms.author: gewarren
manager: jillfra
ms.prod: visual-studio-dev15
ms.workload:
- multiple
ms.openlocfilehash: 087b1f84006140508ba023ba6ba8675ee9719882
ms.sourcegitcommit: 2193323efc608118e0ce6f6b2ff532f158245d56
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/25/2019
ms.locfileid: "54927178"
---
# <a name="code-maps-for-c-projects"></a>C++ プロジェクトのコード マップ

C++ プロジェクトのより完全なマップを作成する場合は、そのプロジェクトに対してブラウザー情報のコンパイラ オプション (**/FR**) を設定します。 設定されていない場合は、メッセージが表示され、このオプションを設定することが求められます。 **[OK]** を選択した場合、このオプションは現在のマップに対してのみ設定されます。 以後のすべてのマップについて、メッセージを非表示にするように選択できます。

Visual C++ のプロジェクトを含むソリューションを開くときは、IntelliSense データベースの更新に時間がかかる場合があります。 この期間中、する可能性のヘッダーのコード マップを作成する (*.h*または`#include`) ファイルの IntelliSense データベースの更新が完了するまでです。 更新の進行状況は、Visual Studio のステータス バーで監視できます。

- すべてのソース ファイルと、ソリューション内のヘッダー ファイル間の依存関係を表示するには、次のように選択します。**アーキテクチャ** > **インクルード ファイルのグラフの生成**します。

   ![ネイティブ コードの依存関係グラフ](../modeling/media/dependencygraphgeneral_nativecode.png)

- 現在開いているファイルと関連するソース ファイルおよびヘッダー ファイルとの間の依存関係を表示するには、そのソース ファイルまたはヘッダー ファイルを開きます。 ファイル内の任意の場所でファイル ショートカット メニューを開きます。 **[インクルード ファイルのグラフを生成]** をクリックします。

   ![.h ファイルの第 1 レベル依存関係グラフ](../modeling/media/dependencygraph_native_firstlevel.png)

## <a name="troubleshoot-code-maps-for-c-and-c-code"></a>C および C++ コードのコード マップをトラブルシューティングします。

これらの項目は C および C++ コードではサポートされていません。

- 基本型は、親階層を含むマップには表示されません。

- **表示** メニューのほとんどの項目は、C および C++ コードでは使用できません。

C および C++ コードのコード マップを作成するときに、これらの問題が発生する可能性があります。

|**問題点**|**原因**|**解決策**|
|-|-|-|
|コード マップを生成できませんでした。|ソリューション内のプロジェクトが正常にビルドされませんでした。|発生したビルド エラーを修正してから、マップを再生成します。|
|コード マップを生成しようとすると、visual Studio が応答しなくなった、**アーキテクチャ**メニュー。|プログラム データベース (.pdb) ファイルが壊れている可能性があります。<br /><br /> .pdb ファイルには、型、メソッド、ソース ファイル情報などのデバッグ情報が格納されます。|ソリューションをリビルドしてから、もう一度実行します。|
|IntelliSense 参照データベースの特定の設定が無効になる。|Visual Studio で IntelliSense の特定の設定を無効にすることがあります**オプション** ダイアログ ボックス。|設定をオンにして有効にします。<br /><br /> 参照してください[オプション、テキスト エディター]、[C/C++ の高度な](../ide/reference/options-text-editor-c-cpp-advanced.md)します。|
|" **不明なメソッド** " という内容のメッセージがメソッド ノードで表示される。<br /><br /> この問題は、メソッドの名前を解決できないために発生します。|バイナリ ファイルにベース再配置テーブルがない可能性があります。|リンカーで **/FIXED:NO** オプションをオンにします。|
||プログラム データベース (.pdb) ファイルがビルドされていない可能性があります。<br /><br /> .pdb ファイルには、型、メソッド、ソース ファイル情報などのデバッグ情報が格納されます。|リンカーで **/DEBUG** オプションをオンにします。|
||予想される場所で .pdb ファイルを開くことができないか、ファイルが見つかりません。|.pdb ファイルが予想される場所にあることを確認します。|
||デバッグ情報が .pdb ファイルから取り除かれています。|**/PDBSTRIPPED** オプションをリンカーで使用した場合は、代わりに完全な .pdb ファイルを使用します。|
||呼び出し元が関数ではなく、バイナリ ファイル内のサンクまたはデータ セクション内のポインターです。|呼び出し元がサンクの場合は、 `_declspec(dllimport)` を使用してサンクの回避を試みます。|

## <a name="see-also"></a>関連項目

- [コード マップで依存関係をマッピングします。](../modeling/map-dependencies-across-your-solutions.md)