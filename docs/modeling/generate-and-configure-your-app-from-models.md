---
title: モデルからアプリを生成し構成する
ms.date: 11/04/2016
ms.topic: conceptual
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: de62cb46c591b554ea4204e88fedbbfa99381fef
ms.sourcegitcommit: 21d667104199c2493accec20c2388cf674b195c3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/08/2019
ms.locfileid: "55907608"
---
# <a name="generate-and-configure-your-app-from-models"></a>モデルからアプリを生成し構成する
モデルからアプリケーションのパーツを生成または構成できます。

 このモデルは、コードと比べて、要求をより直接的に表します。 アプリケーションの動作をモデルから直接派生させることで、コードを更新するよりも迅速かつ確実に、要求の変更に対応できます。 派生を設定するには特定の初期作業が必要ですが、要求の変更が予想される場合、または製品のバリエーションを複数予定している場合、この投資は取り戻すことができます。

## <a name="generating-the-code-of-your-application-from-a-model"></a>モデルからアプリケーション コードを生成する
 コードを生成する最も簡単な方法は、テキスト テンプレートを使用することです。 モデルを保持している同じ Visual Studio ソリューションでコードを生成することができます。 詳細については次を参照してください:

- [T4 テキスト テンプレートを使用したデザイン時コード生成](../modeling/design-time-code-generation-by-using-t4-text-templates.md)

- [ドメイン固有言語からのコード生成](../modeling/generating-code-from-a-domain-specific-language.md)

  このメソッドは、段階的に適用することが簡単にできます。 特定のケースに対してのみ動作するアプリケーションから始めて、モデルから変更する部分をいくつか選択します。 テキスト テンプレート (.tt) ファイルになるように、対象部分のソース ファイル名を変更します。 この時点で、ソースの .cs ファイルはテンプレート ファイルから自動的に生成されるため、アプリケーションは以前と同じように動作します。

  次にコードの 1 つの部分を取り出して、テキスト テンプレート式に置き換えることができます。これにより、モデルが読み込まれ、ソース ファイルの対象部分が生成されます。 モデルの 1 つ以上の値によって元のソースが生成されるため、アプリケーションをもう一度実行しても、以前と同じように動作します。 複数のモデル値をテストした後、コードの別の部分にテンプレート式を挿入できます。

  このような増分方式が意味することは、コード生成は通常の場合、危険度の低いアプローチであるということです。 結果として得られるアプリケーションは通常、手動で作成したバージョンとほぼ同じくらい正常に機能します。

  ただし、既存のアプリケーションで始めた場合、モデルによって制御されているさまざまな動作を分離し、独立して変化させることができるようにするには、数多くのリファクタリングが必要となる可能性があります。 プロジェクトのコストを見積もる際に、アプリケーションのこの側面を評価することをお勧めします。

## <a name="configuring-your-application-from-a-model"></a>モデルからアプリケーションを構成する
 実行時にアプリケーションの動作を変化させる場合は、コードの生成を使うことはできません。これは、アプリケーションをコンパイルする前に、ソース コードが生成されるためです。 代わりに、それに応じてその動作を変更して、モデルを読み取るアプリケーションを設計することができます。 詳細については次を参照してください:

- [方法: プログラム コード内のファイルからモデルを開く](../modeling/how-to-open-a-model-from-file-in-program-code.md)

  この方法は、インクリメント方式で適用することもできますが、最初に必要となる作業量が増加します。 モデルを読み取るコードを作成し、可変部から値にアクセスできるフレームワークを設定する必要があります。 可変部を汎用化すると、コード生成よりもコストが高くなります。

  汎用アプリケーションは通常、固有アプリケーションと比べて性能が低くなります。 パフォーマンスが非常に重要である場合は、プロジェクト計画にこのようなリスクの評価を含める必要があります。

## <a name="developing-a-derived-application"></a>派生アプリケーションの開発
 次の一般的なガイドラインが役に立つことがあります。

-   **固有から始めて、汎用化します。** まず、アプリケーションの特定のバージョンを作成します。 このバージョンは、特定の条件セットで動作します。 正常に動作していることを確認した後、その一部をモデルから派生させることができます。 派生の部分を徐々に拡張します。

     たとえば、モデルで定義されているページを提供する web アプリケーションを設計する前に、web ページの特定のセットを持つ web サイトをデザインします。

-   **バリアントの側面をモデル化します。** 特定のデプロイと別のデプロイ間の違い、または時間経過による要求の変化など、さまざまに異なる側面を識別します。 これらは、モデルから派生させる必要があります。

     たとえば、一連の web ページし、の間にリンクする場合が変更されてもページの書式とスタイルは常に同じですが、モデルでリンクを記述する必要がありますが、ページの形式を記述する必要はありません。

-   **懸案事項を分離します。** 変化する側面を独立した複数の領域に分割できる場合、各領域に対して別個のモデルを使用してください。 ModelBus を使用すると、モデル、およびモデル間の制約の両方に影響する操作を定義できます。

     たとえば、1 つのモデルを使用して、web ページとページのレイアウトを定義する別のモデル間のナビゲーションを定義します。

-   **ソリューションではなく、要件をモデル化します。** ユーザーの要件を記述するように、モデルを設計します。 これとは対照的に、実装の可変部分に従って、表記を設計しないでください。

     たとえば、web ナビゲーション モデルでは、web ページおよびそれらの間のハイパーリンクを表す必要があります。 Web ナビゲーション モデルは、アプリケーションでクラスまたは HTML のフラグメントを表していない必要があります。

-   **生成するか、解釈か。** 特定のデプロイに対する要求がほとんど変わらない場合は、モデルからプログラム コードを生成してください。 要求が頻繁に変わる場合、または同じデプロイ内に 1 つ以上のバリエーションが存在する場合、モデルを読み取って解釈できるようにアプリケーションを作成してください。

     たとえば、一連の異なるおよび個別にインストールされた web サイトを開発する web サイト モデルを使用する場合は、モデルからサイトのコードを生成する必要があります。 そのモデルを使用する、モデルを読み取り、それに応じて、サイトを表示する web サーバーを記述する方が、毎日変わるサイトを制御します。

-   **UML または DSL か。** ステレオタイプを使用してモデリングを拡張することで、モデリングの表記法を作成することを検討してください。 目的に合った UML 図が存在しない場合は、DSL を定義します。 しかし、UML の標準のセマンティクスに違反しないようにしてください。

     たとえば、UML クラス図は一連のボックスと矢印で構成されていて、この表記法を使用すると、理論的には何でも定義できます。 一連の型を実際に記述する場合を除き、クラス図を使用することはお勧めしません。 たとえば、web ページのさまざまな種類を示すクラス図を適用するでした。

## <a name="see-also"></a>関連項目

- [ドメイン固有言語からのコード生成](../modeling/generating-code-from-a-domain-specific-language.md)
- [方法: プログラム コード内のファイルからモデルを開く](../modeling/how-to-open-a-model-from-file-in-program-code.md)
- [T4 テキスト テンプレートを使用したデザイン時コード生成](../modeling/design-time-code-generation-by-using-t4-text-templates.md)