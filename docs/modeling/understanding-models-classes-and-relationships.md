---
title: "モデルの理解、クラスとリレーションシップ |Microsoft ドキュメント"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Domain-Specific Language, models
ms.assetid: 2ecd569c-b369-41ea-b78e-a61b62e2e4e9
caps.latest.revision: 35
author: alancameronwills
ms.author: awills
manager: douge
translationtype: Machine Translation
ms.sourcegitcommit: eb2ab9d49cdeb1ed71da8ef67841f7796862dc30
ms.openlocfilehash: 4982dcc5c6fb0184f1f467971b6255aace6bec53
ms.lasthandoff: 02/22/2017

---
# <a name="understanding-models-classes-and-relationships"></a>モデル、クラス、およびリレーションシップについて
ドメイン固有言語 (DSL) は、作成した場合、カスタム プログラム コードと共に、DSL 定義ファイルで定義されます。 DSL ソリューション内のプログラム コードのほとんどは、このファイルから生成されます。  
  
 このトピックでは、DSL 定義のサーバーの全体の機能について説明します。  
  
## <a name="the-dsl-definition"></a>DSL 定義  
 開くと`Dsl\DslDefinition.dsl`、[!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]ウィンドウは次の図のようになります。  
  
 ![dsl デザイナー](../modeling/media/dsl_designer.png "dsl_designer")  
  
 DSL 定義で最も重要な情報は、DSL 定義図に表示されます。 詳細についても DslDefinition.dsl の一部であるが、図の横にある通常表示される DSL のエクスプ ローラーで表示されます。 最も一般的なタスクについては、図やより高度なカスタマイズ用の DSL のエクスプ ローラーを処理します。  
  
 DSL 定義図では、モデル要素、およびモデル要素間のリンクを定義するリレーションシップを定義するドメイン クラスを示します。 また、図形とコネクタをユーザーに表示されるモデル要素に使用されるも表示されます。  
  
 ![スイムレーンを含む dsl デザイナー](../modeling/media/dsl_desinger.png "dsl_desinger")  
  
 図、または DSL エクスプ ローラーで、DSL 定義内の項目を選択すると、[プロパティ] ウィンドウについての情報が表示されます。 追加情報については、DSL 詳細 ウィンドウで表示します。  
  
### <a name="models-are-instances-of-dsls"></a>モデルは、Dsl のインスタンス  
 A*モデル*ユーザーによって作成された DSL のインスタンスです。 モデルには、定義すると、ドメイン クラスとを定義するドメイン リレーションシップのインスタンスであると、要素間のリンクのインスタンスが、モデル要素が含まれています。 モデルは、図形とコネクタ、図にモデル要素およびリンクを表示することもできます。 DSL 定義には、シェイプ クラス、コネクタ クラス、およびダイアグラムのクラスが含まれています。  
  
 DSL 定義とも呼ばれますが、*ドメイン モデル*します。 DSL 定義またはドメイン モデルは、ドメイン固有言語の実行時のインスタンス化のモデルには、ドメイン固有言語のデザイン時表現です。  
  
## <a name="domain-classes-define-model-elements"></a>ドメイン クラスは、モデル要素を定義します。  
 ドメイン クラスが、ドメイン内のさまざまな要素の作成に使用して、ドメイン間の関係は、要素間のリンク。 要素およびリンクのモデルを作成するときに、デザインに固有の言語のユーザーがインスタンス化にすることの設計時の表現は使用します。  
  
 この図では、音楽ライブラリ DSL のユーザーによって作成されたモデルを示します。 音楽の album は、曲の一覧が表示されるボックスによって表されます。 アーティストでは、ボックスの角の丸いで表されに関与するアルバムに接続しています。  
  
 ![生成された DSL のインスタンス モデル](../modeling/media/music_instance.png "Music_Instance")  
  
 DSL 定義では、2 つの側面を分離します。 モデル図のモデル要素の外観は、シェイプ クラスとコネクタ クラスを使用して定義されます。 モデルに含まれる情報は、ドメイン クラスとドメインの関係を使用して定義されます。  
  
 次の図は、音楽ライブラリの DSL 定義のドメイン クラスとリレーションシップを示しています。  
  
 ![埋め込みリレーションシップと参照リレーションシップ](../modeling/media/music_classes.png "Music_Classes")  
  
 図&4; つのドメイン クラスを示しています。 音楽、アルバム、アーティスト、曲。 ドメイン クラスは、名前、肩書きなどのドメインのプロパティを定義します。 インスタンス モデルは、これらのプロパティの一部の値はダイアグラムに表示されます。  
  
 クラス間には、ドメイン リレーションシップをある: MusicHasAlbums、MusicHasArtists、AlbumbHasSongs、および artistappearedonalbums です。 リレーションシップがある 1..1 などの多重度 0.. * します。 たとえば、すべての曲は、AlbumHasSongs リレーションシップにより&1; つだけのアルバムに関連する必要があります。 すべてのアルバムには、曲のいくつかが存在します。  
  
### <a name="rearranging-the-dsl-definition-diagram"></a>DSL 定義図を再配置  
 アルバムがこの図では、DSL 定義図に、ドメイン クラスが何回かを表示できることに注意してください。 常に&1; つの主なビューがあるしが存在することができます*参照*ビューです。  
  
 DSL 定義図を並べ替えるには、次のことができます。  
  
-   主なを使用してビューを参照し、 **ツリーをここ**と**ツリーを分割**コマンドです。 これらのコマンドを表示する&1; つのドメイン クラスを右クリックします。  
  
-   キーを押して ctrl キーを押しながら上 ctrl キーを押しながら下で、ドメイン クラスとシェイプ クラスを再並べ替えます。  
  
-   折りたたむか、各図形の右上にあるアイコンを使用して、クラスを拡張します。  
  
-   ツリーの一部を折りたたむには、ドメイン クラスの下部にあるマイナス記号 (-) をクリックします。  
  
## <a name="inheritance"></a>継承  
 ドメイン クラスは、継承を使用して定義することができます。 継承派生を作成するには、継承ツールをクリックして、派生クラス、基本クラスをクリックします。 モデル要素には、基本クラスから継承されたすべてのプロパティと共に、独自のドメイン クラスで定義されているすべてのプロパティがあります。 また、そのロールのリレーションシップにも継承します。  
  
 継承は、リレーションシップ、図形、およびコネクタの間も使用できます。 同じグループ内で継承を保持する必要があります。 図形は、ドメイン クラスを継承できません。  
  
## <a name="domain-relationships"></a>ドメイン間の関係  
 モデル要素は、リレーションシップによってリンクできます。 リンクは、常にバイナリです。それらは、2 つの要素をリンクします。 ただし、すべての要素が他のオブジェクトへの多数のリンクを持つから、要素の同じペア間の&1; つ以上のリンクにもあります。  
  
 要素のさまざまなクラスを定義するのと同じように、リンクのさまざまなクラスを定義できます。 リンクのクラスと呼ばれる、*ドメイン リレーションシップ*します。 ドメイン リレーションシップでは、そのインスタンスに接続できる要素のクラスを指定します。 リレーションシップの両端と呼ばれる、*ロール*、ドメイン リレーションシップとリレーションシップ自体に&2; つのロールの名前を定義するとします。  
  
 ドメイン リレーションシップの&2; 種類があります。 埋め込みリレーションシップと参照リレーションシップです。 DSL 定義図に埋め込みリレーションシップがある各ロールの純色の線と参照リレーションシップが破線です。  
  
### <a name="embedding-relationships"></a>埋め込みリレーションシップ  
 モデルでは、そのルートを除くすべての要素は、1 つの埋め込みリンクの対象です。 そのため、モデル全体では、埋め込みリンクの&1; つのツリーを形成します。 埋め込みリレーションシップは、包含または所有権を表します。 この方法で関連する&2; つのモデル要素は、親と子とも呼ばれます。 子は、親に埋め込まれると言われます。  
  
 埋め込みリンク通常として表されない明示的に、図のコネクタ。 代わりに、包含構造の表すは一般的です。 モデルのルートは、図で表され、それに埋め込まれた要素は図のシェイプとして表示されます。  
  
 例では、ルート クラス Music は、埋め込みリレーションシップが曲に埋め込みの AlbumHasSongs アルバムに MusicHasAlbums をいます。 曲は、各アルバム内のリスト内の項目として表示されます。 音楽は、アーティスト クラスであり、そのインスタンスは、図のシェイプとして表示する埋め込みの MusicHasArtists もあります。  
  
 既定で埋め込まれた要素は親が削除されたときに自動的に削除されます。  
  
 モデルが保存された場合に XML 形式のファイルに埋め込まれた要素は、入れ子、親シリアル化をカスタマイズする場合を除きます。  
  
> [!NOTE]
>  埋め込みは継承とは異なります。 埋め込みリレーションシップの子は、親のプロパティを継承しません。 モデル要素間のリンクの種類には埋め込まれたアイテムです。 継承は、クラス間のリレーションシップし、モデル要素間のリンクは作成されません。  
  
### <a name="embedding-rules"></a>ルールの埋め込み  
 インスタンス モデルのすべての要素は、モデルのルートを除く、1 つだけの埋め込みリンクのターゲットにする必要があります。  
  
 そのため、ルート クラス以外のすべての非抽象ドメイン クラスは、少なくとも&1; つの埋め込みリレーションシップのターゲットである必要がありますか、基本クラスからの埋め込み、特性を継承する必要があります。 クラスは&2; つ以上の埋め込みの対象にすることができますが、そのインスタンスのモデル要素は、一度に&1; つの親を持つのみことができます。 ターゲットからソースへの多重度は、0..1 または 1..1 にする必要があります。  
  
### <a name="the-explorer-displays-the-embedding-tree"></a>エクスプ ローラーには、埋め込みのツリーが表示されます。  
 DSL 定義では、ユーザーが、モデル図と共に「エクスプ ローラーも作成されます。  
  
 ![DSL のエクスプ ローラーを生成した](~/modeling/media/music_explorer.png "Music_Explorer")  
  
 エクスプ ローラーも含めてすべての図形を定義するいないと、モデル内のすべての要素を示します。 要素と埋め込みリレーションシップを示していますが、リレーションシップを参照していません。  
  
 要素のドメインのプロパティの値を表示するには、ユーザーがモデル図またはモデル エクスプ ローラーのいずれかの要素を選択し、プロパティ ウィンドウを開きます。 します。 ダイアグラムに表示されていないものも含め、すべてのドメイン プロパティを表示します。 例では、各曲がタイトルとはジャンルの両方が、図上のタイトルの値のみが表示されます。  
  
## <a name="reference-relationships"></a>参照リレーションシップ  
 参照リレーションシップでは、任意の種類の埋め込みはないリレーションシップを表します。  
  
 参照リレーションシップは、図形間のコネクタとして、ダイアグラムに通常表示します。  
  
 使用して&2; つの要素間の参照リンクを表す、モデルの XML 表現で*モニカーです。* つまり、モニカーは、モデル内の各要素を一意に識別する名前です。 各モデル要素の XML ノードには、リレーションシップの名前とその他の要素のモニカーを指定するノードが含まれています。  
  
## <a name="roles"></a>役割  
 すべてのドメイン リレーションシップに&2; つのロール、ソース ロールとターゲット ロール。  
  
 次の図の間に、**パブリッシャー**ドメイン クラスと**PublisherCatalog**ドメイン リレーションシップがソース ロールです。 ドメイン リレーションシップ間の線、および**アルバム**ドメイン クラスは、ターゲット ロール。  
  
 ![ロールおよびプロパティ] (~/modeling/media/propertycode.png "PropertyCode")  
  
 リレーションシップに関連付けられている名前は、モデルを通過するプログラム コードを記述する場合に特に重要です。 たとえば、DSL ソリューションをビルドすると、生成されたクラスでは、パブリッシャーには、アルバムのコレクションであるカタログ プロパティがあります。 クラスのアルバムには、パブリッシャー クラスのインスタンスは&1; つのパブリッシャーのプロパティがあります。  
  
 DSL 定義でリレーションシップを作成するときに、プロパティとリレーションシップの名前には、既定値が与えられます。 ただし、それらを変更することができます。  
  
## <a name="multiplicities"></a>多重度  
 多重度は、要素の数が、ドメイン リレーションシップで同じロールを持つを指定します。 0 対多の例で (0..\*) の多重度の設定、**カタログ**ロールを指定するの任意のインスタンス、**パブリッシャー**ドメイン クラスの数だけ保持**PublisherCatalog**リレーションシップ リンクを指定するとします。  
  
 ダイアグラムで入力するか、または変更することで、ロールの多重度を構成、`Multiplicity`プロパティに、**プロパティ**ウィンドウです。 次の表では、このプロパティの設定について説明します。  
  
|多重度の種類|説明|  
|-----------------------|-----------------|  
|0.. * (0 対多)|ドメイン クラスの各インスタンスは、リレーションシップの複数のインスタンスまたはリレーションシップのインスタンスがないことができます。|  
|0..1 (0 から&1;)|ドメイン クラスの各インスタンスは、リレーションシップの&2; つ以上のインスタンスまたはリレーションシップのインスタンスがないことができます。|  
|1..1 (1 つ)|ドメイン クラスの各インスタンスの関係の&1; つのインスタンスことができます。 ロールのクラスの任意のインスタンスからこのリレーションシップの&1; つ以上のインスタンスを作成できません。 検証が有効になっている場合、ロール クラスの任意のインスタンスには、リレーションシップのインスタンスがあるないときに、検証エラーが表示されます。|  
|1.. * (1 対多)|この多重度を持つロールのクラスの各インスタンスは、リレーションシップの複数のインスタンスを持つことができ、各インスタンスは、リレーションシップの少なくとも&1; つのインスタンスを設定する必要があります。 検証が有効になっている場合、ロール クラスの任意のインスタンスには、リレーションシップのインスタンスがあるないときに、検証エラーが表示されます。|  
  
## <a name="domain-relationships-as-classes"></a>ドメイン クラスとの関係  
 リンクは、モデル要素の派生クラスである LinkElement のインスタンスとしてストアに表されます。 ドメイン リレーションシップにドメイン モデルの図では、これらのプロパティを定義できます。  
  
 ソースまたはその他のリレーションシップのターゲットにリレーションシップを行うこともできます。 ドメイン モデルの図で、[ドメインの関係を右クリックし] をクリックして**クラスとして表示する**です。 その他のクラス ボックスが表示されます。 リレーションシップを接続できます。  
  
 その他の部分で継承リレーションシップを定義するには、ドメイン クラスの場合と同様です。 派生リレーションシップを選択し、設定**ベース リレーションシップ**[プロパティ] ウィンドウ。  
  
 派生リレーションシップでは、その基本リレーションシップ スペシャ リストです。 ドメイン クラスのリンクがから派生することや、基本のリレーションシップによってリンクされているクラスと同じ。 モデルの派生リレーションシップのリンクが作成されるは、派生クラスと基本リレーションシップの両方のインスタンスです。 プログラム コードでは、基本または派生クラスのいずれかに生成されたプロパティを使用してリンクの反対側の端に移動できます。  
  
## <a name="see-also"></a>関連項目  
 [ドメイン固有言語ツールの用語集](http://msdn.microsoft.com/en-us/ca5e84cb-a315-465c-be24-76aa3df276aa)

