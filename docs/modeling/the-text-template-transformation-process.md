---
title: "テキスト テンプレート変換プロセス |Microsoft ドキュメント"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.topic: article
helpviewer_keywords:
- text templates, transformation process
author: gewarren
ms.author: gewarren
manager: ghogen
ms.workload:
- multiple
ms.technology: vs-ide-modeling
ms.openlocfilehash: e350b123f1945bdeafa7f3ff2ae3da55037922cf
ms.sourcegitcommit: 205d15f4558315e585c67f33d5335d5b41d0fcea
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/09/2018
---
# <a name="the-text-template-transformation-process"></a>テキスト テンプレート変換プロセス
テキスト テンプレート変換プロセスでは、テキスト テンプレート ファイルを入力として受け取りし、新しいテキスト ファイルとして出力を生成します。 テキスト テンプレートを使用するには、Visual Basic または c# のコードを生成するなど、HTML レポートを生成することができます。  
  
 3 つのコンポーネントは、このプロセスに参加: エンジン、ホスト、およびディレクティブ プロセッサ。 エンジン制御プロセスです。出力ファイルを作成するには、ホストとディレクティブ プロセッサを持つ対話します。 ホストは、ファイルとアセンブリの検索などの環境との対話を提供します。 ディレクティブ プロセッサは、XML ファイルまたはデータベースからデータの読み取りなどの機能を追加します。  
  
 テキスト テンプレート変換プロセスは、2 つの手順で実行されます。 最初に、エンジンは、生成された変換クラスと呼ばれる一時的なクラスを作成します。 このクラスには、ディレクティブとコントロール ブロックで生成されるコードが含まれています。 その後は、エンジンは、コンパイルして、出力ファイルを生成するために生成された変換クラスを実行します。  
  
## <a name="components"></a>コンポーネント  
  
|コンポーネント|説明|カスタマイズ可能な (はい/いいえ)|  
|---------------|-----------------|------------------------------|  
|エンジン|エンジン コンポーネントは、テキスト テンプレート変換プロセスを制御します。|いいえ。|  
|ホスト|ホストは、エンジンと、ユーザーの環境間のインターフェイスです。 [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]テキスト変換プロセスのホストです。|はい。 カスタム ホストを作成することができます。|  
|ディレクティブ プロセッサ|ディレクティブ プロセッサは、テキスト テンプレートのディレクティブを処理するクラスです。 ディレクティブを使用すると、テキスト テンプレートへの入力ソースからデータを提供します。|はい。 カスタム ディレクティブ プロセッサを記述することができます。|  
  
## <a name="the-engine"></a>エンジンは、  
 エンジンは、変換処理で使用されているすべてのファイルを処理すると、ホストから文字列としてテンプレートを受け取ります。 エンジンは、カスタム ディレクティブ プロセッサと環境内の他の側面を検索するホストを求めます。 エンジンは、コンパイルして、生成された変換クラスを実行します。 エンジンは、通常のテキストをファイルに保存すると、ホストに生成されるテキストを返します。  
  
## <a name="the-host"></a>ホスト  
 ホストは、次を含む、変換プロセスの外部の環境に関連するすべてのもの。  
  
-   テキストと、エンジンまたはディレクティブ プロセッサによって要求されたバイナリ ファイルを検索しています。 ディレクトリとグローバル アセンブリ キャッシュのアセンブリを探し、ホストを検索できます。 ホストは、エンジンのコードをカスタム ディレクティブ プロセッサを特定できます。 ホストことができますもおよびテキスト ファイルの読み取りを見つけて、内容を文字列として返します。  
  
-   標準のアセンブリと、エンジンによって生成された変換クラスを作成するために使用される名前空間の一覧を提供します。  
  
-   エンジンは、コンパイルして、生成された変換クラスを実行するときに使用されるアプリケーション ドメインを提供します。 個別のアプリケーション ドメインは、テンプレート コードのエラーから、ホスト アプリケーションを保護するために使用されます。  
  
-   生成された出力ファイルを書き込んでいます。  
  
-   生成された出力ファイルの既定の拡張子を設定します。  
  
-   テキスト テンプレート変換のエラーを処理しています。 たとえば、ホスト ユーザー インターフェイスでのエラーを表示したりファイルに書き込んだりできます。 (で[!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]エラー、エラー メッセージ ウィンドウに表示されます)。  
  
-   ユーザーが値を指定せず、ディレクティブを呼び出された場合は、必要なパラメーター値を提供します。 ディレクティブ プロセッサでは、ディレクティブとパラメーターの名前を指定でき、1 つがある場合、既定値を提供するホストを依頼することができます。  
  
## <a name="directives-and-directive-processors"></a>ディレクティブとディレクティブ プロセッサ  
 ディレクティブは、テキスト テンプレートにコマンドです。 生成プロセスにパラメーターを提供します。 通常のディレクティブは、ソースと、モデルやその他の入力の種類と出力ファイルのファイル名拡張子を定義します。  
  
 ディレクティブ プロセッサは、1 つまたは複数のディレクティブを処理できます。 テンプレートを変換するときに、ディレクティブ プロセッサをテンプレート内のディレクティブを扱うことができますをインストールする必要があります。  
  
 ディレクティブは、生成された変換クラスにコードを追加することによって機能します。 ディレクティブは、生成された変換クラスを作成するときに、テキスト テンプレートと、エンジンは、ディレクティブのすべての呼び出しから呼び出します。 ディレクティブを正常に呼び出すと、テキスト テンプレートに記述するコードの残りの部分は、ディレクティブによって提供される機能に利用できます。 たとえば、次の呼び出しを行うことができます、`import`テンプレートのディレクティブ。  
  
 `<#@ import namespace="System.Text" #>`  
  
 標準のディレクティブ プロセッサでは、これに変換します、`using`生成された変換クラス内のステートメント。 使用してできます、`StringBuilder`として修飾しない場合、テンプレート コードの残りの部分クラス`System.Text.StringBuilder`です。