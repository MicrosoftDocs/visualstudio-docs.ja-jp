---
title: Visual Studio のロード テストの実行設定
ms.date: 10/19/2016
ms.topic: reference
helpviewer_keywords:
- load tests, run settings
ms.assetid: de10dabb-02ed-403b-9e6f-0b735524988c
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.technology: vs-ide-test
ms.openlocfilehash: c3f057a5642fd18affca6894521a5648f01aeb1c
ms.sourcegitcommit: e13e61ddea6032a8282abe16131d9e136a927984
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/26/2018
ms.locfileid: "31977674"
---
# <a name="load-test-run-settings-properties"></a>ロード テストの実行設定のプロパティ

ロード テストの実行設定は、テストの継続時間、結果収集の詳細レベル、テストの実行時に収集されるカウンター セットなど、さまざまな設定を決定します。 それぞれのロード テストに対して複数の実行設定を作成して保存しておき、テストの実行時には使用する特定の設定を選択できます。 新しいロード テスト ウィザードを使用してロード テストを作成するとき、初期実行設定がロード テストに追加されます。

 次の表では、ロード テストの実行設定用のさまざまなプロパティについて説明します。 これらのプロパティを変更して、特定のロード テスト要件を満たすことができます。

 詳細については、「[ロード テストの実行設定の構成](../test/configure-load-test-run-settings.md)」を参照してください。

## <a name="general-properties"></a>全般プロパティ

|プロパティ|定義|
|--------------|----------------|
|**説明**|実行設定の説明。|
|**種類ごとのエラーの最大数**|ロード テストで保存する種類あたりの最大エラー数。<br /><br /> この値は必要に応じて大きくすることができます。ただし、その場合、ロード テスト結果のサイズと処理時間も増加します。|
|**報告される要求 URL の最大数**|このロード テストの結果を報告する一意の Web パフォーマンス テスト要求 URL の最大数。<br /><br /> この値は必要に応じて大きくすることができます。ただし、その場合、ロード テスト結果のサイズと処理時間も増加します。|
|**しきい値違反の最大数**|このロード テストで保存するしきい値違反の最大数。<br /><br /> この値は必要に応じて大きくすることができます。ただし、その場合、ロード テスト結果のサイズと処理時間も増加します。|
|**アプリケーション ドメインで単体テストを実行する**|ロード テストに単体テストが含まれる場合に、各単体テスト アセンブリをそれぞれ別のアプリケーション ドメインで実行するかどうかを決定するブール値。 既定の設定は True です。<br /><br /> 単体テストを正しく実行するために各テストに個別のアプリケーション ドメインまたは app.config ファイルが必要ではない場合は、このプロパティの値を `False` に設定することで、実行速度を向上できる場合があります。|
|**Name**|**ロード テスト エディター**の **[実行設定]** ノードに表示される実行設定の名前。|
|**検証レベル**|ロード テストで実行される検証規則の最高レベルを定義します。 検証規則は、Web パフォーマンス テスト要求に関連付けられます。 それぞれの検証規則には、**高**、**中**、または**低**の検証レベルが関連付けられています。 このロード テストの実行設定では、ロード テストで Web パフォーマンス テストが実行される場合に実行する検証規則を指定します。 たとえば、この実行設定が**中**に設定された場合は、**中**または**低**とマークされたすべての検証規則が実行されます。|

## <a name="logging-properties"></a>ログのプロパティ

|プロパティ|定義|
|--------------|----------------|
|**テスト ログの最大数**|ロード テストで保存するテスト ログの最大数を指定します。 テスト ログの最大数として入力した値に達すると、ロード テストでのログの収集が停止されます。 したがって、ログはテストの開始時には収集されますが、終了時には収集されません。 ロード テストは完了するまで継続されます。|
|**完了したテストのログ頻度を保存**|テスト ログが書き込まれる頻度を指定します。 この数値は、入力したテストの数のうち 1 回がテスト ログに保存されることを示します。 たとえば、値 10 を入力すると、10 番目、20 番目、30 番目などのテストがテスト ログに書き込まれます。 値を 0 に設定した場合、テスト ログは保存されません。<br /><br /> 詳細については、[テスト ログの保存頻度を指定する方法](../test/how-to-specify-how-frequently-test-logs-are-saved.md)に関するページを参照してください。|
|**テストの失敗時にログを保存**|ロード テストでテストが失敗した場合に、テスト ログを保存するかどうかを決定するブール値。 既定値は、`True` です。<br /><br /> 詳細については、[テスト ログにテストの失敗を記録するかどうかを指定する方法](../test/how-to-specify-if-test-failures-are-saved-to-test-logs.md)に関するページを参照してください。|

 詳細については、「[ロード テストのログ設定の変更](../test/modify-load-test-logging-settings.md)」を参照してください。

## <a name="results-properties"></a>結果のプロパティ

|プロパティ|定義|
|--------------|----------------|
|**ストレージの種類**|ロード テストで取得したパフォーマンス カウンターを格納する方法。 次のようなオプションがあります。<br /><br /> -   **[データベース]** - **ロード テストの結果ストア**を持つ SQL データベースが必要です。<br />-   **[None]**。|
|**タイミングの詳細ストレージ**|**ロード テストの結果ストア**に格納される詳細を決定するために使用されます。 次の 3 つの値を使用できます。<br /><br /> -   **[AllIndividualDetails]** - ロード テストで実行または発行された各テスト、トランザクション、およびページについて、個々のタイミング値を収集し、**ロード テストの結果ストア**に格納します。 ロード テスト アナライザーで仮想ユーザー アクティビティ チャートを使用する場合は、必須です。<br />     詳細については、[詳細ビューでの仮想ユーザー アクティビティの分析](../test/analyze-load-test-virtual-user-activity-in-the-details-view.md)に関するページを参照してください。<br />-   **[None]** - 個々のタイミング値は収集しません。 これは、Visual Studio 2013 Update 4 およびそれ以降のリリースの既定値です。<br />-   **[StatisticsOnly]** - ロード テストで実行または発行された各テスト、トランザクション、およびページについて、個々のタイミング値を格納する代わりに、統計情報のみを収集して**ロード テストの結果ストア**に格納します。<br /><br /> 詳細については、[[タイミングの詳細ストレージ] プロパティを指定する方法](../test/how-to-specify-the-timing-details-storage-property-for-a-load-test.md)に関するページを参照してください。|

## <a name="sql-tracing-properties"></a>SQL トレースのプロパティ

|プロパティ|定義|
|--------------|----------------|
|**トレースされる SQL 操作の最小継続時間**|SQL トレースでキャプチャされる SQL 操作の最小継続時間。単位はミリ秒です。 たとえば、負荷によって処理速度が遅い SQL 操作を探す場合にこの機能を使用すると、短時間で完了する操作を無視できます。|
|**SQL トレースの接続文字列**|トレース対象のデータベースにアクセスするために使用される接続文字列。|
|**SQL トレース ディレクトリ**|トレースの終了後に SQL トレース ファイルが配置される場所。 このディレクトリには、SQL Server に対する書き込みアクセス許可と、コントローラーに対する読み取りアクセス許可が必要です。|
|**有効な SQL トレース**|SQL 操作のトレースを有効にします。 既定値は `False` です。|

## <a name="test-iterations-properties"></a>テスト イテレーションのプロパティ

|プロパティ|定義|
|--------------|----------------|
|**テスト イテレーション**|ロード テストが完了する前に実行するテストの総数を指定します。 このプロパティは、[テスト イテレーションの使用] プロパティが `True` に設定されている場合のみ適用されます。|
|**テスト イテレーションの使用**|[テスト イテレーションの使用] が `True` の場合は、ロード テスト内で完了したテストの数が "テスト イテレーション" プロパティで指定された数に達するまでロード テストが実行されます。 この場合、時間ベースの設定である [ウォームアップ継続時間]、[実行継続時間]、および [クールダウン継続時間] は無視されます。 [テスト イテレーションの使用] が `False` である場合、すべてのタイミング設定が適用され、[テスト イテレーション] は無視されます。|

 詳細については、「[方法: テスト イテレーションの数をテストの実行設定に指定する](../test/how-to-specify-the-number-of-test-iterations-in-a-load-test.md)」を参照してください。

## <a name="timing-properties"></a>タイミングのプロパティ

|プロパティ|定義|
|--------------|----------------|
|**クールダウン継続時間**|テストのクールダウンの継続時間です。値を hh:mm:ss 形式で入力します。 ロード テスト内の個別のテストがロード テストの完了後も実行を続ける場合があります。 そうしたテストは、完了するかクールダウン継続時間が終了するまで動作し続けます。 既定では、クールダウン継続時間は設定されず、実行継続時間の設定に基づいてロード テストが完了すると同時に、ロード テスト内の個々のテストも終了します。|
|**実行継続時間**|テストの長さ。形式は hh:mm:ss です。|
|**サンプル速度**|パフォーマンス カウンター値を取り込む間隔。形式は hh:mm:ss です。<br /><br /> 詳細については、[サンプル速度を指定する方法](../test/how-to-specify-the-sample-rate-for-a-load-test.md)に関するページを参照してください。|
|**ウォームアップ継続時間**|テストを開始してから、データ サンプルの記録が開始されるまでの時間。形式は hh:mm:ss です。 これは、サンプル値を記録する前に、仮想ユーザーに対するロードを一定のレベルまで段階的に引き上げるためによく使用されます。 ウォームアップ期間が終了するまでにキャプチャされたサンプル値は、**ロード テスト アナライザー**に表示されます。|

## <a name="webtest-connections-properties"></a>WebTest 接続のプロパティ

|プロパティ|定義|
|--------------|----------------|
|**WebTest 接続モデル**|ロード テストで実行する Web パフォーマンス テストに関して、Load Test Agent から Web サーバーへの接続の使用法を制御します。 Web パフォーマンス テスト接続モデルには、3 つのオプションがあります。<br /><br /> - **"ユーザーあたりの接続"** モデルは、実際のブラウザーを使用しているユーザーの動作をシミュレートします。 Internet Explorer 6 または Internet Explorer 7 がシミュレートされる場合、Web パフォーマンス テストを実行している各仮想ユーザーは、Web サーバーへの専用接続を 1 つまたは 2 つ使用します。 1 番目の接続は、Web パフォーマンス テストで最初の要求が発行されたときに確立されます。 2 番目の接続は、ページに複数の依存要求が含まれている場合に使用されます。 これらの要求は、2 つの接続を使用して並行に発行されます。 これらの接続は、Web パフォーマンス テスト内の後続の要求で再利用されます。 Web パフォーマンス テストが完了すると、接続は閉じられます。 このモデルの短所は、エージェント コンピューターで開いたままの接続の数が多くなることです (最高でユーザー ロードの 2 倍)。 その結果、この多数の接続をサポートするリソースが必要とされるために、1 つのロード テスト エージェントから生成できるユーザー ロードが制限される可能性があります。 Internet Explorer 8 がシミュレートされる場合、6 つの同時接続がサポートされます。<br />- **"接続プール"** モデルは、複数の仮想 Web パフォーマンス テスト ユーザー間で Web サーバーへの接続を共有することによって、Load Test Agent のリソースを節約します。 ユーザー ロードが接続プール サイズを超える場合は、複数の仮想ユーザーによって実行される Web パフォーマンス テストの間で接続が共有されます。 つまり、ある Web パフォーマンス テストが接続を使用しているとき、別の Web パフォーマンス テストは要求を発行する前に待機する必要が生じる可能性があります。 要求を送信する前に Web パフォーマンス テストが待機する平均時間は、ロード テストのパフォーマンス カウンターの Avg. Connection Wait Time によって追跡されます。 この値は、ページの平均応答時間を下回る必要があります。 そうでない場合は、接続プール サイズが小さすぎると考えられます。<br />- **"テスト イテレーションあたりの接続"** モデルでは、それぞれのテスト イテレーションで専用の接続を使用するように指定します。|
|**WebTest 接続プール サイズ**|ロード テスト エージェントと Web サーバーの間に確立される接続の最大数を指定します。 これは、**"接続プール"** モデルにのみ適用されます。|

##  <a name="LoadTestRunSettingsHowToChange"></a> 実行設定プロパティの変更
 さまざまな条件でロード テストを実行できるように、別のプロパティ設定のロード テストにそれ以外の実行設定を追加できます。 たとえば、新しいテストの設定を追加して、異なるサンプリング レートを使用したり、より長い実行時間を指定することができます。 一度に使用できる実行設定は 1 つのみです。使用する実行設定は、アクティブに設定する必要があります。 例については、「[方法: ロード テストのアクティブな実行設定を選択する](../test/how-to-select-the-active-run-setting-for-a-load-test.md)」を参照してください。

### <a name="to-change-run-settings"></a>実行設定を変更するには

1.  ロード テストを開きます。

2.  **[実行設定]** フォルダーを展開します。

3.  **[実行設定]** ノードを選択します。

4.  **[表示]** メニューの **[プロパティ ウィンドウ]** をクリックします。

     **[プロパティ ウィンドウ]** が開き、選択した実行設定のプロパティが表示されます。

5.  **[プロパティ ウィンドウ]** を使用して、実行設定を変更します。 たとえば、テストを 5 分間実行するには、実行の継続時間を **00:05:00** に変更します。

    > [!NOTE]
    > 実行設定の各プロパティとその説明の一覧については、「[ロード テストの実行設定のプロパティ](../test/load-test-run-settings-properties.md)」を参照してください。

6.  プロパティの変更作業が完了したら、ロード テストを保存します。 **[ファイル]** メニューの **[保存]** をクリックします。

> [!NOTE]
> カウンター セットの割り当ても実行設定の一部です。 詳細については、「[ロード テストでのコンピューターのカウンター セットとしきい値規則の指定](../test/specify-counter-sets-and-threshold-rules-for-load-testing.md)」を参照してください。

## <a name="see-also"></a>関連項目

- [ロード テストの実行設定の構成](../test/configure-load-test-run-settings.md)