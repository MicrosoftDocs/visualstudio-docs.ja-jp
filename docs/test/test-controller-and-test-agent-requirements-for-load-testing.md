---
title: ロード テストのための Test Controller および Test Agent の要件
ms.date: 10/19/2016
ms.topic: conceptual
helpviewer_keywords:
- agents, requirements
- controllers, requirements
ms.assetid: 372d97ce-12e4-46a9-9863-da508adba68f
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: d33fb01bf931a2f7f3585197151f167c79575da6
ms.sourcegitcommit: a8e8f4bd5d508da34bbe9f2d4d9fa94da0539de0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/19/2019
ms.locfileid: "72659929"
---
# <a name="test-controller-and-test-agent-requirements-for-load-testing"></a>ロード テストのためのテスト コントローラーおよびテスト エージェントの要件

単体テスト、Web パフォーマンス テスト、ロード テスト、手動テストなど、さまざまな種類のテストが Visual Studio に統合されています。 Visual Studio では、Visual Studio アプリケーション ライフサイクル管理ユーザーはテスト コントローラーと 1 つ以上のエージェントを使用して、リモート コンピューターでテストを実行することができます。 「[テスト エージェントをインストールして構成する](../test/lab-management/install-configure-test-agents.md)」を参照してください。

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="hardware-and-software-requirements"></a>ハードウェア要件とソフトウェア要件

テスト コントローラー コンピューターとテスト エージェント コンピューターにはどちらにも固有のハードウェア要件およびソフトウェア要件があります。 さらに、複数の言語を対象としてテスト コントローラー コンピューターとテスト エージェント コンピューターを配置する場合は、それらの言語のサポート方法も計画する必要があります。

### <a name="hardware-requirements"></a>ハードウェア要件

テスト コントローラーおよびテスト エージェントを配置する場合の推奨されるハードウェア要件を次の表に示します。

|**構成**|**コンポーネント**|**CPU**|**HD**|**メモリ**|
|-|-------------------|-|------------|-|
|仮想ユーザー 500 人 未満|テスト エージェント|2.6 GHz|10 GB|2 GB|
|仮想ユーザー 1000 人 未満|テスト エージェント|デュアル プロセッサ 2.6 GHz|10 GB|2 GB|
|仮想ユーザー 1000 × N 人|テスト エージェント|N 個のエージェントをそれぞれデュアル プロセッサ 2.6 Ghz でスケール アウト|10GB|2GB|
|テスト環境内に \< 30 台のコンピューター。 この中には、エージェントとテスト対象のサーバーを含みます。|Test Controller|2.6 GHz|||
|テスト環境内に 30 × N 台のコンピューター。 この中には、エージェントとテスト対象のサーバーを含みます。|Test Controller|N 個の 2.6 GHz プロセッサ|||

> [!NOTE]
> 仮想ユーザーの数は、テストによって大幅に変動します。 この変動の主な原因は、*待ち時間* の変動 (ユーザーによる遅延) です。 詳細については、「[待ち時間を編集してロード テスト シナリオにおける Web サイトでの対話操作の遅延をシミュレートする](../test/edit-think-times-in-load-test-scenarios.md)」を参照してください。 ロード テストでは、通常は単体テストよりも Web テストの方が効率がよく、高い負荷が発生します。 上記の表に示した数値は、典型的な Web アプリケーションを 3 ～ 5 秒間の待ち時間で実行する場合の Web テストで有効な値です。

ここで示したガイドラインは、ハードウェア計画の一般的なガイダンスとして提供されているものです。 テストのパフォーマンスは、テスト データの容量およびテスト エージェントの数によって大きく変わります。 テスト エージェントの場合、CPU 速度および使用可能メモリによりテスト負荷が制限されます。 テスト コントローラーには、テスト エージェントの数およびテストに関連するデータの容量によっては、より多くのリソースが必要になります。

Visual Studio を実行するサーバーは、最小帯域幅が 1 Mbps、最大待機時間が 350 ミリ秒の信頼性の高いネットワーク接続機能を備えている必要があります。 テスト エージェントとテスト コントローラー間にはファイアウォールを設置しない方が適切です。 テストのパフォーマンスが予想よりも悪い場合は、ハードウェア構成のアップグレードを検討してください。

### <a name="additional-hardware-considerations"></a>ハードウェアに関する追加的考慮事項

テスト エージェントは、テストの期間およびテストの規模によっては、テスト コントローラー上に大量のデータを生成します。 通常、テスト データが 24 時間分増加するごとに、10 GB のハード ディスクを追加することを計画する必要があります。

重要なサーバーには、ここで推奨されているハードウェアに加えて、予備電源や予備ファンなどのハードウェアを追加することを検討する必要があります。

### <a name="language-requirements"></a>言語要件

混乱を回避するため、および操作を簡単にするために、テスト コントローラーとテスト エージェントは、コンピューターのオペレーティング システムの言語および Team Foundation Server の言語と同じ言語を使用するように構成する必要があります。 テスト エージェントとテスト コントローラーが別々のコンピューターにインストールされている場合、それらが同じ言語を使用するように構成する必要があります。 ただし、言語が英語のオペレーティング システムには Visual Studio の別言語バージョンをインストールできます。また、この言語は Team Foundation Server 配置の言語と一致している必要があります。

## <a name="monitor-agent-resources"></a>エージェント リソースを監視する

エージェント コンピューターを監視すると、テスト中に実行およびスケールする *QTAgent\*.exe* プロセスを監視することによって、リソースの必要性を判断できます。 *QTAgent\*.exe* プロセスで一番ボトルネックになるのは、CPU 使用率です。 CPU 使用率が一貫して 90% 台後半の場合、エージェントの負荷が高くなっていることを示しています。 次にボトルネックになるのは、メモリの使用量です。 条件の厳しいテストでは、これらのリソースを監視すると、マシンのリソースを増やす必要があるのか、テストのメモリを別にした方がよいかを判断するうえで有用です。

## <a name="see-also"></a>関連項目

- [テスト エージェントをインストールして構成する](../test/lab-management/install-configure-test-agents.md)