---
title: ロード テスト シナリオのテスト ミックス
ms.date: 10/19/2016
ms.topic: conceptual
helpviewer_keywords:
- load tests, adding tests
- test mix
- load tests, test mix
- load tests, removing tests
ms.assetid: 303e1d70-5d98-424a-b51e-e0898e16d3f8
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.openlocfilehash: 8a54c20d90edacbd29169320bc746e5b9cb724f9
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/02/2019
ms.locfileid: "53905320"
---
# <a name="edit-the-test-mix-to-specify-which-web-performance-unit-and-coded-ui-tests-to-include-in-a-load-test-scenario"></a>テスト ミックスを編集して、ロード テスト シナリオに含める Web パフォーマンス テスト、単体テスト、コード化された UI テストを指定

シナリオの "*テスト ミックス*" とは、シナリオに含まれる Web パフォーマンス テストと単体テストの選択、およびシナリオ内でのそれらのテストの配分を組み合わせたものです。 配分とは、ロード テストの実行時に仮想ユーザーが特定のテストを選択する確率に対して指定できる設定です。

一連のテストをロード テストに追加すると、"*テスト ミックス*" は他のミックス オプションと同じように機能します。 仮想ユーザーは、ミックスに指定した確率に基づいて、テストをランダムに選択します。 たとえば、2 つのテストがあり、ミックスがそれぞれ 50% である場合、ほぼ半数の割合で新しい仮想ユーザーは最初のテストを実行することを選択します。 50/50 のミックスでは、1 つのテストが長く、もう一方が短い場合、長いテストからの負荷がより多くなります。

テストをミックスに追加したら、そのテストは削除してかまいません。 また、ミックス コントロールを使用してテスト ミックスの配分を変更することもできます。 ミックス コントロールを使用すると、シナリオでのテストの配分を簡単に調整できます。

> [!NOTE]
> 配分とは、ロード テストの実行時に仮想ユーザーが特定のテストを選択する確率の単位です。 配分はパーセンテージで表されます。 したがって、シナリオに含まれるすべてのテストの配分値を合計すると 100 になります。 たとえば、シナリオに含まれているテストが 1 つだけの場合、そのテストの配分値は 100% です。

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="add-new-tests-to-a-test-mix-in-an-existing-scenario"></a>既存のシナリオにおけるテスト ミックスへの新しいテストの追加

**新しいロード テスト ウィザード**を使用してシナリオを新規作成する場合、Web パフォーマンスと単体テストを指定し、新しいシナリオのテスト ミックスに追加できます。

**ロード テスト エディター**を使用して、より多くの Web パフォーマンスと単体テストをシナリオのテキスト ミックスに追加できます。

![既存のロード テストへのテストの追加](../test/media/ltest_addingtests.png)

### <a name="to-add-more-tests-to-an-existing-scenario"></a>より多くのテストを既存のシナリオに追加するには

1.  ロード テストを開きます。

2.  **ロード テスト エディター**で、既存のシナリオを右クリックし、**[テストの追加]** を選択します。

     **[テストの追加]** ダイアログ ボックスが表示されます。 まだシナリオに追加されていないソリューション内のすべての Web パフォーマンス テスト、単体テスト、コード化された UI テストが、シナリオに追加できるよう表示されます。

3.  **[使用可能なテスト]** ウィンドウで、追加する Web パフォーマンス テスト、単体テスト、コード化された UI テストを選択します。 右矢印を選択し、**[選択されたテスト]** ウィンドウにテストを追加します。

4.  テストの追加作業が終了したら、**[OK]** を選択します。

     これでテストがテスト ミックスに追加されます。 新規の配分が自動的にテスト ミックス内のテストに割り当てられます。

5.  (省略可能) ミックス コントロールを調整して、テストの配分を指定します。 詳細については、[ミックス コントロール](../test/edit-the-test-mix-to-specify-which-web-browsers-types-in-a-load-test-scenario.md)に関するページを参照してください。

##  <a name="remove-tests-from-a-scenario"></a>シナリオからテストを削除する
 ![既存のロード テストからのテストの削除](../test/media/ltest_removetest.png)

### <a name="to-remove-tests-from-a-scenario"></a>シナリオからテストを削除するには

1.  ロード テストを開きます。

2.  **ロード テスト エディターの**ロード テスト ツリーでテストを削除するシナリオを右クリックし、**[テスト ミックスの編集]** を選択します。 **[テスト ミックスの編集]** ダイアログ ボックスが表示されます。

3.  グリッドにある Web パフォーマンス テスト、単体テスト、またはコード化された UI テストを選択し、**[削除]** を選択します。

    > [!NOTE]
    > テストを削除したら、適切な配分にテスト ミックスを調整します。

4.  テストの削除作業が終了したら、**[OK]** を選択します。

##  <a name="EditingTestMixAboutMixControl"></a> ミックス コントロールについて
 ミックス コントロールを使用すると、ロード テストのシナリオで、テスト、ブラウザーの種類、またはネットワークの種類の間で配分する負荷の割合を調整できます。 割合の値はスライダーを動かして調整します。 テスト ミックスの調整では、ロード テストのシナリオで仮想ユーザーが特定のテストを実行する確率を指定します。

 スライダーを動かすと、利用できるすべての項目の割合の値が変更されます。 項目が複数ある場合、追加または削除した分が他の項目に均等に配分されます。 この動作は、オーバーライドできます。 特定の項目のロック列のチェック ボックスをオンにすると、その項目に指定された割合の値がロックされます。 この状態でスライダーを動かすと、追加または削除した分はロックされていない残りの項目のみに適用されます。

 **[均等化]** ボタンは、割合をすべての項目に均等に割り当てる場合に使用します。 たとえば、項目が 3 つある場合、**[均等化]** を選択することで割合の値が、34、33、33 に設定されます。

> [!WARNING]
> **[均等化]** ボタンは、ロックされているあらゆる項目をオーバーライドします。


 また、スライダーを使用する代わりに、割合の値を **[%]** 列に直接入力することもできます。 割合の値を直接入力した場合、他の項目は自動的には調整されません。

> [!NOTE]
> 合計が 100% にならない場合、または **[%]** 列に入力された割合の値が小数値の場合、スライダーは無効になります。


 割合の値を手動で入力する場合は、すべての項目の合計が 100% になるようにしてください。 ミックスを保存するとき、合計が 100% ではない場合、割合の値をそのままで受け入れるか、または戻って調整するかのどちらかを選択するよう要求されます。 そのままで受け入れることを選択した場合は、100% になるよう比例配分されます。  たとえば、項目が 2 つあって、手動でそれぞれ 80% と 40% に設定されている場合、最初の項目は 66.67% (80/120) に、2 番目の項目は 33.33% (40/120) に、それぞれ設定されます。

## <a name="see-also"></a>関連項目

- [ロード テスト シナリオの編集](../test/edit-load-test-scenarios.md)