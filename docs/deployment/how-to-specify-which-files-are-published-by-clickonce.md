---
title: '方法: ClickOnce で発行されるファイルを指定する |Microsoft Docs'
ms.date: 11/04/2016
ms.topic: how-to
f1_keywords:
- Microsoft.VisualStudio.Publish.BaseProvider.Dialog.File
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, file exclusion
- files, publishing via ClickOnce
ms.assetid: 579c134a-d50f-4e0c-8e05-2a4ff654896a
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: c7ab6d724b40168f84227edb6ccfafc6245c30e0
ms.sourcegitcommit: 3f491903e0c10db9a3f3fc0940f7b587fcbf9530
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2020
ms.locfileid: "85381783"
---
# <a name="how-to-specify-which-files-are-published-by-clickonce"></a>方法: ClickOnce で発行されるファイルを指定する
アプリケーションを発行すると [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] 、プロジェクト内のコード以外のすべてのファイルがアプリケーションと共に配置されます。 場合によっては、特定のファイルを公開する必要がない場合や、条件に基づいて特定のファイルをインストールする場合があります。 Visual Studio には、ファイルを除外したり、ファイルをデータファイルまたは前提条件としてマークしたり、条件付きインストール用のファイルのグループを作成したりする機能が用意されています。

 アプリケーションのファイル [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] は、**プロジェクトデザイナー**の [**発行**] ページからアクセスできる [**アプリケーションファイル**] ダイアログボックスで管理されます。

 最初に、という名前のファイルグループが1つあります **(必須)**。 追加のファイルグループを作成し、そこにファイルを割り当てることができます。 アプリケーションを実行するために必要なファイルの**ダウンロードグループ**を変更することはできません。 たとえば、データファイルとしてマークされたアプリケーションの .exe またはファイルは、 **(必須)** グループに属している必要があります。

 ファイルの既定の発行状態の値には、 **(Auto)** とタグが付けられます。 たとえば、アプリケーションの .exe の発行状態は、既定では [**含める (自動)** ] になります。

 [**ビルドアクション**] プロパティが [**コンテンツ**] に設定されているファイルは、アプリケーションファイルとして指定され、既定で含まれているものとしてマークされます。 データファイルとして含める、除外する、またはマークすることができます。 ただし、次のような例外があります。

- SQL Database (*.mdf*および *.mdb*) ファイルや XML ファイルなどのデータファイルは、既定ではデータファイルとしてマークされます。

- 参照を追加すると、アセンブリ (*.dll*ファイル) への参照が次のように指定されます。 [**ローカルにコピー** ] が**False**の場合、既定では、アプリケーションをインストールする前に GAC に存在する必要がある前提条件アセンブリ (**前提条件 (Auto)**) としてマークされます。 [**ローカルにコピー** ] が**True**の場合、アセンブリは既定でアプリケーションアセンブリ (**Include (Auto)**) としてマークされ、インストール時にアプリケーションフォルダーにコピーされます。 [**アプリケーションファイル**] ダイアログボックス ( *.ocx*ファイル) に COM 参照が表示されるのは、その**分離**プロパティが**True**に設定されている場合のみです。 既定では、これが含まれます。

### <a name="to-add-files-to-the-application-files-dialog-box"></a>[アプリケーションファイル] ダイアログボックスにファイルを追加するには

1. **ソリューションエクスプローラー**でデータファイルを選択します。

2. [プロパティウィンドウで、[**ビルドアクション**] プロパティを [**コンテンツ**] の値に変更します。

### <a name="to-exclude-files-from-clickonce-publishing"></a>ClickOnce 発行からファイルを除外するには

1. **ソリューション エクスプローラー**でプロジェクトを選択し、 **[プロジェクト]** メニューの **[プロパティ]** をクリックします。

2. **[公開]** タブをクリックします。

3. [**アプリケーションファイル**] ボタンをクリックして、[**アプリケーションファイル**] ダイアログボックスを開きます。

4. [**アプリケーションファイル**] ダイアログボックスで、除外するファイルを選択します。

5. [**発行の状態**] フィールドで、ドロップダウンリストから [**除外**] を選択します。

### <a name="to-mark-files-as-data-files"></a>ファイルをデータファイルとしてマークするには

1. **ソリューション エクスプローラー**でプロジェクトを選択し、 **[プロジェクト]** メニューの **[プロパティ]** をクリックします。

2. **[公開]** タブをクリックします。

3. [**アプリケーションファイル**] ボタンをクリックして、[**アプリケーションファイル**] ダイアログボックスを開きます。

4. [**アプリケーションファイル**] ダイアログボックスで、データとしてマークするファイルを選択します。

5. [**発行の状態**] フィールドで、ドロップダウンリストから [**データファイル**] を選択します。

### <a name="to-mark-files-as-prerequisites"></a>ファイルを前提条件としてマークするには

1. **ソリューション エクスプローラー**でプロジェクトを選択し、 **[プロジェクト]** メニューの **[プロパティ]** をクリックします。

2. **[公開]** タブをクリックします。

3. [**アプリケーションファイル**] ボタンをクリックして、[**アプリケーションファイル**] ダイアログボックスを開きます。

4. [**アプリケーションファイル**] ダイアログボックスで、前提条件としてマークするアプリケーションアセンブリ (*.dll*ファイル) を選択します。 アプリケーションが一覧に表示されるためには、アプリケーションアセンブリへの参照が必要です。

5. [**発行の状態**] フィールドで、ドロップダウンリストから [**前提条件**] を選択します。

### <a name="to-add-a-new-file-group"></a>新しいファイルグループを追加するには

1. **ソリューション エクスプローラー**でプロジェクトを選択し、 **[プロジェクト]** メニューの **[プロパティ]** をクリックします。

2. **[公開]** タブをクリックします。

3. [**アプリケーションファイル**] ボタンをクリックして、[**アプリケーションファイル**] ダイアログボックスを開きます。

4. [**アプリケーションファイル**] ダイアログボックスで、新しいグループに含めるファイルの [**グループ**] フィールドを選択します。

    > [!NOTE]
    > ファイル名が [**アプリケーションファイル**] ダイアログボックスに表示されるようにするには、[**ビルドアクション**] プロパティを [**コンテンツ**] に設定しておく必要があります。

5. [**ダウンロードグループ**] フィールドで、 **\<New...>** ドロップダウンリストからを選択します。

6. [**新しいグループ**] ダイアログボックスで、グループの名前を入力し、[ **OK**] をクリックします。

### <a name="to-add-a-file-to-a-group"></a>グループにファイルを追加するには

1. **ソリューション エクスプローラー**でプロジェクトを選択し、 **[プロジェクト]** メニューの **[プロパティ]** をクリックします。

2. **[公開]** タブをクリックします。

3. [**アプリケーションファイル**] ボタンをクリックして、[**アプリケーションファイル**] ダイアログボックスを開きます。

4. [**アプリケーションファイル**] ダイアログボックスで、新しいグループに含めるファイルの [**グループ**] フィールドを選択します。

5. [**ダウンロードグループ**] フィールドで、ドロップダウンリストからグループを選択します。

    > [!NOTE]
    > アプリケーションを実行するために必要なファイルの**ダウンロードグループ**を変更することはできません。

## <a name="see-also"></a>関連項目
- [ClickOnce アプリケーションの発行](../deployment/publishing-clickonce-applications.md)
- [方法: 発行ウィザードを使用して ClickOnce アプリケーションを発行する](../deployment/how-to-publish-a-clickonce-application-using-the-publish-wizard.md)