---
title: "[ルール セット エディター] ダイアログ ボックス (レガシ) | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "reference"
f1_keywords: 
  - "System.Workflow.Activities.Rules.Design.RuleSetDialog.UI"
helpviewer_keywords: 
  - "[ルール セット エディター] ダイアログ ボックス"
ms.assetid: 7cfd5df1-1115-4e5c-9b72-121f39419e83
caps.latest.revision: 7
author: "ErikRe"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 7
---
# [ルール セット エディター] ダイアログ ボックス (レガシ)
このトピックでは、従来の [!INCLUDE[wfd1](../workflow-designer/includes/wfd1_md.md)]の **\[ルール セット エディター\]** ダイアログ ボックスの使用方法について説明します。[!INCLUDE[netfx35_long](../workflow-designer/includes/netfx35_long_md.md)] または [!INCLUDE[vstecwinfx](../workflow-designer/includes/vstecwinfx_md.md)] を対象とする必要がある場合は、従来の[!INCLUDE[wfd2](../workflow-designer/includes/wfd2_md.md)]を使用します。  
  
 **\[ルール セット エディター\]** ダイアログ ボックスを使用すると、[PolicyActivity](http://go.microsoft.com/fwlink?LinkID=65019) ルール セットを作成および変更することができます。このようなルール セットは .rules ファイルにシリアル化されます。  
  
> [!NOTE]
>  **エンコード付き XML エディタ**を使って .rules ファイルを開く場合、ワークフローまたはアクティビティに関連したデザイナ ウィンドウをまず閉じる必要があります。  
  
 **\[ルール セット エディター\]** ダイアログ ボックスにアクセスする方法については、「[方法: PolicyActivity ルール セットを作成する \(レガシ\)](../workflow-designer/how-to-create-a-policyactivity-rule-set-legacy.md)」を参照してください。  
  
> [!WARNING]
>  [!INCLUDE[netfx35_long](../workflow-designer/includes/netfx35_long_md.md)] または [!INCLUDE[vstecwinfx](../workflow-designer/includes/vstecwinfx_md.md)] を対象とする場合に使用される、従来の[!INCLUDE[wfd2](../workflow-designer/includes/wfd2_md.md)]のルール エディターは、複数バージョン対応機能をサポートしていません。  
  
 **\[ルール セット エディター\]** ダイアログ ボックスのユーザー インターフェイス \(UI\) 要素を次の表に示します。  
  
|UI 要素|説明|  
|-----------|--------|  
|**\[ルールの追加\]**|新しいルール定義をルール セットに追加します。|  
|**\[削除\]**|選択したルールをルール セットから削除します。|  
|**\[チェーン\]**|ルール セットで使用するフォワード チェーンの種類を指定します。使用可能なオプションは次のとおりです。<br /><br /> -   **\[完全なチェーン\]**。すべてのフォワード チェーン メカニズム \(暗黙、メソッドの帰属、**Update** 関数を使った明示\) を使用することを指定します。<br />-   **\[シーケンシャル\]**。フォワード チェーンをまったく使用しないことを指定します。<br />-   **\[明示的な更新のみ\]**。**\[Update\]** アクションに対するフォワード チェーンだけを実行することを指定します。<br /><br /> フォワード チェーンの詳細については、「[PolicyActivity アクティビティの使用](http://go.microsoft.com/fwlink?LinkID=65004)」を参照してください。|  
|**\[名前\]**|ルール セット リストの列見出しです。ルール リストを名前で並べ替えるには、これをクリックします。|  
|**\[優先度\]**|ルール セット リストの列見出しです。ルール リストを優先度で並べ替えるには、これをクリックします。|  
|**\[再評価\]**|ルール セット リストの列見出しです。ルール リストを再評価タイプで並べ替えるには、これをクリックします。|  
|**\[ルールのプレビュー\]**|ルール セット リストの列見出しです。ルールの条件とアクションのプレビューでルール リストを並べ替えるには、これをクリックします。|  
|**\[名前 :\]**|ルールの名前を入力します。|  
|**\[優先度 :\]**|ルールの優先度を入力します。既定の優先順位は 0 です。|  
|**\[再評価 :\]**|ルールで使用するルール再評価の種類を指定します。使用可能なオプションは次のとおりです。<br /><br /> -   **\[常時\]**。必要が生じるたびにルールが再評価されます。<br />-   **\[なし\]**。ルールはまったく再評価されません。この場合、ルールは一度だけ実行されます。|  
|**\[アクティブ\]**|これをオンにすると、ルールはアクティブになります。|  
|**\[条件 :\]**|ルールの条件式を入力します。式の構文の詳細については、このページの「条件式とアクション式の入力」の項を参照してください。|  
|**\[THEN アクション :\]**|Then アクションの式を入力します。式の構文の詳細については、このページの「条件式とアクション式の入力」の項を参照してください。|  
|**\[ELSE アクション :\]**|Else アクションの式を入力します。式の構文の詳細については、このページの「条件式とアクション式の入力」の項を参照してください。|  
|**\[OK\]**|これをクリックすると、ルール セットが .rules ファイルに保存されます。|  
  
 ルール セットの詳細については、「[PolicyActivity アクティビティの使用](http://go.microsoft.com/fwlink?LinkID=65004)」を参照してください。  
  
## 条件式とアクション式の入力  
 **\[ルール セット エディタ\]** ダイアログ ボックスの \[条件\]、\[THEN アクション\]、\[ELSE アクション\] テキスト ボックスには、それぞれの式をテキストとして入力します。エディタで **this.** と入力すれば、IntelliSense 型のメニューを使って、ワークフローで使用されるフィールド、プロパティ、メソッドを参照できます。または、ワークフローのメンバ名を直接入力することもできます。クラス名とそれに続いてメソッド名を入力することにより、参照された型で静的メソッドを呼び出すことができます。  
  
 条件には、AND、OR、NOT などの論理演算子を追加することもできます。述語も追加できます。述語は、バイナリ演算子と 2 つのオペランドから成ります。サポートされているバイナリ演算子は、\=\=、\>、\<、\>\=、および \<\= です。サポートされているオペランドは、定数値、算術関数、スコープ付きパブリック メンバです。  
  
 比較の種類を指定することで、**null** や空文字列と比較できます。複合型を含む変数でメンバに対する呼び出しをネストすることができます \(たとえば `this.Address.State == "WA"`\)。  
  
 式では、次の演算子がサポートされます。  
  
-   関係演算子 : \=\=、\=、\!\=  
  
-   比較演算子 : \<、\<\=、\>、\>\=  
  
-   算術演算子 : \+、\-、\*、\/、MOD  
  
-   論理演算子 : AND、&&、OR、&#124;&#124;、NOT、\!  
  
-   ビット単位の演算子 : &、&#124;  
  
 式演算子の優先順位は、C\# 演算子の優先順位規則に従います。  
  
 条件の詳細については、「[Using Conditions in Workflows](http://msdn.microsoft.com/ja-jp/541211f5-d382-4810-894f-71f00b34fa77)」を参照してください。  
  
### Halt 関数と Update 関数  
 **\[THEN アクション :\]** 式と **\[ELSE アクション :\]** 式は、**Halt** 関数と **Update** 関数をサポートします。**Halt** 関数を使用するには、**\[THEN アクション :\]** または **\[ELSE アクション :\]** ボックスに「**Halt**」と入力します。**Halt** アクションを実行すると、ルール セットの実行がただちに停止して、呼び出し元コードに制御が戻ります。フォワード チェーンの **Update** 関数を使用します。  
  
 次の例のように、エディタでは、2 つの形式のどちらを使っても **Update** ステートメントを表記できます。  
  
```  
Update(this.Address.State)  
Update("this/Address/State")  
```  
  
 フォワード チェーンでの **Update** の使用について、詳しくは「[PolicyActivity アクティビティの使用](http://go.microsoft.com/fwlink?LinkID=65004)」を参照してください。  
  
## 参照  
 [PolicyActivity](http://go.microsoft.com/fwlink?LinkID=65019)   
 [\[ルール セットの選択\] ダイアログ ボックス \(レガシ\)](../Topic/Select%20Rule%20Set%20Dialog%20Box%20\(Legacy\).md)   
 [PolicyActivity アクティビティの使用](http://go.microsoft.com/fwlink?LinkID=65004)   
 [ワークフロー内での条件の使用](http://go.microsoft.com/fwlink?LinkID=65009)