---
title: '方法: Direct2D または Javascipt アプリで使用するためのテクスチャをエクスポートする'
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 241c25fe-764e-4e1b-ad32-b1377dcbb605
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 803129ea758a6648c0caa8303e1d191c0e8a74f5
ms.sourcegitcommit: 94b3a052fb1229c7e7f8804b09c1d403385c7630
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "62844385"
---
# <a name="how-to-export-a-texture-for-use-with-direct2d-or-javascipt-apps"></a>方法: Direct2D または Javascipt アプリで使用するためのテクスチャをエクスポートする

イメージ コンテンツ パイプラインにより、Direct2D の内部レンダリング規則と互換性のあるテクスチャを生成できます。 この種のテクスチャの用途に適しているのは、Direct2D を使用するアプリや、JavaScript で作成する UWP アプリです。

このドキュメントでは、以下のアクティビティについて説明します。

- イメージ コンテンツ パイプラインによって処理されるようにソース イメージを構成する。

- Direct2D または JavaScript アプリで使用できるテクスチャを生成するようにイメージ コンテンツ パイプラインを構成する。

    - ブロック圧縮形式の *.dds* ファイルを生成する。

    - 前乗算されたアルファを生成する。

    - MIPMAP の生成を無効にする。

## <a name="rendering-conventions-in-direct2d"></a>Direct2D のレンダリング規則

Direct2D のコンテキストで使用するテクスチャは、次に示す Direct2D の内部レンダリング規則に準拠している必要があります。

- Direct2D では、前乗算されたアルファを使用することで透明性と透光性を実現します。 Direct2D と組み合わせて使用するテクスチャには、前乗算されたアルファが含まれている必要があります。この要件は、テクスチャで透明性または透光性を使用しない場合でも同様です。 前乗算されたアルファの詳細については、「[方法: 前乗算されたアルファを持つテクスチャをエクスポートする](../designers/how-to-export-a-texture-that-has-premultiplied-alpha.md)」を参照してください。

- テクスチャは次のいずれかのブロック圧縮形式の *.dds* ファイルで提供する必要があります。

    - BC1_UNORM 圧縮

    - BC2_UNORM 圧縮

    - BC3_UNORM 圧縮

- MIPMAP はサポートされていません。

### <a name="to-create-a-texture-thats-compatible-with-direct2d-rendering-conventions"></a>Direct2D のレンダリング規則に準拠したテクスチャを作成するには

1. 基本的なテクスチャを作成します。 既存のイメージを読み込むか、「[方法: 基本的なテクスチャを作成する](../designers/how-to-create-a-basic-texture.md)」の手順に従ってイメージ ファイルを作成します。 *.dds* 形式でブロック圧縮をサポートするには、100 x 100、128 x 128、256 x 192 など、サイズの幅と高さが 4 の倍数であるテクスチャを指定します。 MIPMAP はサポートされていないため、テクスチャは正方形である必要がなく、サイズも 2 の累乗である必要はありません。

2. イメージ コンテンツ パイプラインによって処理されるようにテクスチャ ファイルを構成します。 **ソリューション エクスプローラー**で、先ほど作成したテクスチャ ファイルのショートカット メニューを開き、**[プロパティ]** をクリックします。 **[構成プロパティ]** > **[全般]** ページの順に進み、**[項目の種類]** を **[Image Content Pipeline]\(イメージ コンテンツ パイプライン\)** に設定します。 **[コンテンツ]** が **[はい]** に、**[ビルドから除外]** が **[いいえ]** に設定されていることを確認し、**[適用]** ボタンをクリックします。 **[イメージ コンテンツ パイプライン]** の構成プロパティ ページが表示されます。

3. 出力形式を、いずれかのブロック圧縮形式に設定します。 **[構成プロパティ]** で、**[イメージ コンテンツ パイプライン]**、**[全般]** ページの順にクリックし、**[圧縮]** プロパティを **[BC3_UNORM 圧縮 (/compress:BC3_UNORM)]** に設定します。 要件に応じて、他の BC1、BC2、または BC3 形式を選択することもできます。 Direct2D では現在、BC4、BC5、BC6、または BC7 テクスチャはサポートされていません。 各種の BC 形式の詳細については、「[ブロック圧縮 (Direct3D 10)](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-block-compression)」を参照してください。

   > [!NOTE]
   > 指定した圧縮形式により、イメージ コンテンツ パイプラインによって生成されるファイルの形式が決まります。 これは、イメージ エディターからソース イメージの **[形式]** で指定する形式とは異なります。[形式] で指定するのは、ソース イメージ ファイルがディスクに格納されるときのファイル形式 (*作業形式*) です。 通常、圧縮された作業形式は必要ありません。

4. 前乗算されたアルファを使用して出力を生成するようにイメージ コンテンツ パイプラインを構成します。 **[構成プロパティ]**、**[イメージ コンテンツ パイプライン]**、**[全般]** の順にクリックし、**[Convert to pre-multiplied alpha format]\(前乗算されたアルファ形式に変換\)** プロパティを **[はい (/generatepremultipliedalpha)]** に設定します。

5. MIPMAP が生成されないように、イメージ コンテンツ パイプラインを構成します。 **[構成プロパティ]**、**[Image Content Pipeline]\(イメージ コンテンツ パイプライン\)**、**[全般]** ページの順に進み、**[MIPS の生成]** プロパティを **[いいえ]** に設定します。

6. **[OK]** を選択します。

   プロジェクトをビルドすると、イメージ コンテンツ パイプラインによってソース イメージが作業形式から、指定した出力形式に変換されます。同時に、前乗算されたアルファが生成されます。結果はプロジェクトの出力ディレクトリにコピーされます。